/*! For license information please see main.888b5cb7.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+k(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+k(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+k(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,T=null,C=-1,_=5,k=-1;function N(){return!(t.unstable_now()-k<_)}function A(){if(null!==T){var e=t.unstable_now();k=e;var n=!0;try{n=T(!0,e)}finally{n?S():(I=!1,T=null)}}else I=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){v(A,0)};function R(e){T=e,I||(I=!0,S())}function O(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,O(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(_f){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ie=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function ke(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return ke(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ie)&&(Ne(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Me=null,Fe=!1,Be=null,Ve={onError:function(e){je=!0,Me=e}};function Ue(e,t,n,r,i,o,a,s,l){je=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(o(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,St,It,Tt,Ct=!1,_t=[],kt=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==kt&&Ft(kt)&&(kt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Bt),Dt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ut(kt,e),null!==Nt&&Ut(Nt,e),null!==At&&Ut(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=jt(kt,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,jt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,jt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=$t(e,t,n,r))&&Gr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=M({},cn,{view:0,detail:0}),hn=on(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(M({},fn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return In}var Cn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(Cn),kn=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Pn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var jn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Qn(e){Fr(e,0)}function $n(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Ir={};function Tr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=Tr("animationend"),_r=Tr("animationiteration"),kr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(kr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ue.apply(this,arguments),je){if(!je)throw Error(o(198));var u=Me;je=!1,Me=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,a.forEach(function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=o,i=xe(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case _r:case kr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Gn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=De(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=De(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Ei=[],Si=-1;function Ii(e){return{current:e}}function Ti(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ci(e,t){Si++,Ei[Si]=e.current,e.current=t}var _i={},ki=Ii(_i),Ni=Ii(!1),Ai=_i;function Pi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(ki)}function Oi(e,t,n){if(ki.current!==_i)throw Error(o(168));Ci(ki,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ai=ki.current,Ci(ki,e),Ci(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(ki),Ci(ki,e)):Ti(Ni),Ci(Ni,n)}var Fi=null,Bi=!1,Vi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Gi=0,Hi=null,Wi=0,Ki=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Gi++]=Wi,qi[Gi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Gi],qi[Gi]=null,Wi=qi[--Gi],qi[Gi]=null;for(;e===$i;)$i=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Mc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),Eo=wo(!1),So=Ii(null),Io=null,To=null,Co=null;function _o(){Co=To=Io=null}function ko(e){var t=So.current;Ti(So),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){Io=e,Co=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===Io)throw Error(o(308));To=e,Io.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Do=null;function Ro(e){null===Do?Do=[e]:Do.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var jo=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;jo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:jo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Wo=Ii(Ho),Ko=Ii(Ho),Qo=Ii(Ho);function $o(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Ci(Qo,t),Ci(Ko,e),Ci(Wo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Wo),Ci(Wo,t)}function Xo(){Ti(Wo),Ti(Ko),Ti(Qo)}function Jo(e){$o(Qo.current);var t=$o(Wo.current),n=le(t,e.type);t!==n&&(Ci(Ko,e),Ci(Wo,n))}function Zo(e){Ko.current===e&&(Ti(Wo),Ti(Ko))}var ea=Ii(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ia(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,ja(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,Ca.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&aa)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,ka(t)&&Na(e)}function _a(e,t,n){return n(function(){ka(t)&&Na(e)})}function ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Na(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ra(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}sa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function La(e,t){return Ra(8390656,8,e,t)}function ja(e,t){return Oa(2048,8,e,t)}function Ma(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Ba.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,jl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))Ya(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function $a(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Po,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Po,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&aa)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(_a.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Nl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Po,useCallback:za,useContext:Po,useEffect:ja,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:Da,useState:function(){return xa(wa)},useDebugValue:Ua,useDeferredValue:function(e){return Ga(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Po,useCallback:za,useContext:Po,useEffect:ja,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:qa,useReducer:Ea,useRef:Da,useState:function(){return Ea(wa)},useDebugValue:Ua,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Bo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Di(t)?Ai:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Di(t)?Ai:ki.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Eo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Rl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Dl),Dl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Di(n)?Ai:ki.current;return o=Pi(t,o),Ao(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function _s(e,t,n,r,i){if(Di(n)){var o=!0;ji(t)}else o=!1;if(Ao(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Di(n)?Ai:ki.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),jo=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||jo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=jo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Di(n)?Ai:ki.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),jo=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||jo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=jo||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Gs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Yo(e,t.containerInfo)}function As(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Bs(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ws(t),null;case 3:return r=t.stateNode,Xo(),Ti(Ni),Ti(ki),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ds(e,t),Ws(t),null;case 5:Zo(t);var i=$o(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=$o(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Qo.current),$o(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ti(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Xo(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return ko(t.type._context),Ws(t),null;case 19:if(Ti(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Xe()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ti(Ni),Ti(ki),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ti(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ea),null;case 4:return Xo(),null;case 10:return ko(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Wo.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hl(e,t,n),Ys=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ic(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=a,(Ys=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Js=l):El(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,$s=s,Ys=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(f){Ic(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ic(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ic(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Il=Math.ceil,Tl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,kl=0,Nl=null,Al=null,Pl=0,Dl=0,Rl=Ii(0),Ol=0,Ll=null,jl=0,Ml=0,Fl=0,Bl=null,Vl=null,Ul=0,zl=1/0,ql=null,Gl=!1,Hl=null,Wl=null,Kl=!1,Ql=null,$l=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&kl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&kl)&&e===Nl||(e===Nl&&(0===(2&kl)&&(Ml|=n),4===Ol&&sc(e,Pl)),rc(e,r),1===n&&0===kl&&0===(1&t.mode)&&(zl=Xe()+500,Bi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),ai(function(){0===(6&kl)&&zi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&kl))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=kl;kl|=2;var a=pc();for(Nl===e&&Pl===t||(ql=null,zl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}_o(),Tl.current=a,kl=i,null!==Al?t=0:(Nl=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Vl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),t);break}xc(e,Vl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),r);break}xc(e,Vl,ql);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function sc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&kl))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,ql),rc(e,Xe()),null}function cc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(zl=Xe()+500,Bi&&zi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&kl)&&Ec();var t=kl;kl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(kl=t))&&zi()}}function dc(){Dl=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xo(),Ti(Ni),Ti(ki),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Ti(ea);break;case 10:ko(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Rc(e.current,null),Pl=Dl=t,Ol=0,Ll=null,Fl=Ml=jl=0,Vl=Bl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Do=null}return e}function fc(e,t){for(;;){var n=Al;try{if(_o(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Ol=1,Ll=t,Al=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Ja,null===e?Ja:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&jl)&&0===(268435455&Ml)||sc(Nl,Pl)}function gc(e,t){var n=kl;kl|=2;var r=pc();for(Nl===e&&Pl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(_o(),kl=n,Tl.current=r,null!==Al)throw Error(o(261));return Nl=null,Pl=0,Ol}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!$e();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ol=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&kl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,function(){return Ec(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var s=bt;bt=1;var l=kl;kl|=4,Cl.current=null,function(e,t){if(ei=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ic(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),kl=l,bt=s,_l.transition=a}else e.current=n;if(Kl&&(Kl=!1,Ql=e,$l=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,zi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function Ec(){if(null!==Ql){var e=wt($l),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Ic(l,l.return,E)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(kl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Sc(e,t,n){e=Vo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Vo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Xe()-Ul?hc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,a,t);case I:s=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case _:s=9;break e;case k:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Uc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=Uc(null),n=e.current,(o=Bo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,a))&&(nc(e,i,a,o),Uo(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:Jo(t);break;case 1:Di(t.type)&&ji(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ci(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Pi(t,ki.current);Ao(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ms(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Bo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Po(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Es(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,ji(t)):e=!1,Ao(t,n),as(t,r,i),ls(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Gc(a)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&kl)&&(zl=Xe()+500,zi()))}break;case 13:uc(function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},It=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,_e,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||x(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),a=n(391),s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,h=null,g=v();function v(){return(s.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),""));let w={get action(){return l},get location(){return e(o,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let o=f(i,g),c=w.createHref(i);s.replaceState(o,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=R(i);a=P(o[s],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=B([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),x(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:A(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=E(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,I=3,T=2,C=1,_=10,k=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=k),t&&(r+=T),n.filter(e=>!N(e)).reduce((e,t)=>e+(S.test(t)?I:""===t?C:_),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:B([o,u.pathname]),pathnameBase:V(B([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=B([o,u.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=j(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:z(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],H=(new Set(G),["get",...G]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const Q=i.createContext(null);const $=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext($).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext($),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(M(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return te(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,s,a,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext($),{matches:o}=i.useContext(X),{pathname:a}=ee(),s=JSON.stringify(M(o,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function ie(e,t,n,o){Z()||d(!1);let{navigator:a}=i.useContext($),{matches:s}=i.useContext(X),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,o);return t&&w?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function oe(){let e=function(){var e;let t=i.useContext(J),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ae=i.createElement(oe,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(K);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,r,o)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(K);return t||d(!1),t}function fe(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:a,static:s}=i.useContext($),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=F(t,M(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:o}),[u,f,o,n,r]),null}function ye(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:s,static:l,future:W({v7_relativeSplatPath:!1},c)}),[u,c,s,l]);"string"===typeof o&&(o=g(o));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=o,b=i.useMemo(()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}},[u,f,p,m,v,y,a]);return null==b?null:i.createElement($.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise(()=>{});i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,o));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,o)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(CA){}new Map;const Te=o.startTransition;l.flushSync,o.useId;function Ce(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=g(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:m(t))},function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback(e=>{d&&Te?Te(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(f),[l,f]),i.useEffect(()=>ge(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Se(e,Ie),{basename:g}=i.useContext($),v=!1;if("string"===typeof u&&ke.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(CA){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext($),{hash:a,pathname:s,search:l}=re(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:B([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:s});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",Ee({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Re(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function Oe(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){Oe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Me=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Fe=(0,i.createContext)({}),Be=(0,i.createContext)(null),Ve="undefined"!==typeof document,Ue=Ve?i.useLayoutEffect:i.useEffect,ze=(0,i.createContext)({strict:!1}),qe=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ge="data-"+qe("framerAppearId");function He(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function We(e){return"string"===typeof e||Array.isArray(e)}function Ke(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Qe=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$e=["initial",...Qe];function Ye(e){return Ke(e.animate)||$e.some(t=>We(e[t]))}function Xe(e){return Boolean(Ye(e)||e.variants)}function Je(e){const{initial:t,animate:n}=function(e,t){if(Ye(e)){const{initial:t,animate:n}=e;return{initial:!1===t||We(t)?t:void 0,animate:We(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Fe));return(0,i.useMemo)(()=>({initial:t,animate:n}),[Ze(t),Ze(n)])}function Ze(e){return Array.isArray(e)?e.join(" "):e}const et={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tt={};for(const kA in et)tt[kA]={isEnabled:e=>et[kA].some(t=>!!e[t])};const nt=(0,i.createContext)({}),rt=(0,i.createContext)({}),it=Symbol.for("motionComponentSymbol");function ot(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:a}=e;t&&function(e){for(const t in e)tt[t]=je(je({},tt[t]),e[t])}(t);const s=(0,i.forwardRef)(function(e,s){let l;const c=je(je(je({},(0,i.useContext)(Me)),e),{},{layoutId:at(e)}),{isStatic:u}=c,d=Je(e),h=o(e,u);if(!u&&Ve){d.visualElement=function(e,t,n,r){const{visualElement:o}=(0,i.useContext)(Fe),a=(0,i.useContext)(ze),s=(0,i.useContext)(Be),l=(0,i.useContext)(Me).reducedMotion,c=(0,i.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)(()=>{u&&u.update(n,s)});const d=(0,i.useRef)(Boolean(n[Ge]&&!window.HandoffComplete));return Ue(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,i.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(a,h,c,n);const e=(0,i.useContext)(rt),r=(0,i.useContext)(ze).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return i.createElement(Fe.Provider,{value:d},l&&d.visualElement?i.createElement(l,je({visualElement:d.visualElement},c)):null,r(a,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):He(n)&&(n.current=r))},[t])}(h,d.visualElement,s),h,u,d.visualElement))});return s[it]=a,s}function at(e){let{layoutId:t}=e;const n=(0,i.useContext)(nt).id;return n&&void 0!==t?n+"-"+t:t}function st(e){function t(t){return ot(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const lt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ct(e){return"string"===typeof e&&!e.includes("-")&&!!(lt.indexOf(e)>-1||/[A-Z]/.test(e))}const ut={};const dt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ht=new Set(dt);function ft(e,t){let{layout:n,layoutId:r}=t;return ht.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ut[e]||"opacity"===e)}const pt=e=>Boolean(e&&e.getVelocity),mt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gt=dt.length;const vt=e=>t=>"string"===typeof t&&t.startsWith(e),yt=vt("--"),bt=vt("var(--"),wt=(e,t)=>t&&"number"===typeof e?t.transform(e):e,xt=(e,t,n)=>Math.min(Math.max(n,e),t),Et={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},St=je(je({},Et),{},{transform:e=>xt(0,1,e)}),It=je(je({},Et),{},{default:1}),Tt=e=>Math.round(1e5*e)/1e5,Ct=/(-)?([\d]*\.?[\d])+/g,_t=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nt(e){return"string"===typeof e}const At=e=>({test:t=>Nt(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Pt=At("deg"),Dt=At("%"),Rt=At("px"),Ot=At("vh"),Lt=At("vw"),jt=je(je({},Dt),{},{parse:e=>Dt.parse(e)/100,transform:e=>Dt.transform(100*e)}),Mt=je(je({},Et),{},{transform:Math.round}),Ft={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,size:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,rotate:Pt,rotateX:Pt,rotateY:Pt,rotateZ:Pt,scale:It,scaleX:It,scaleY:It,scaleZ:It,skew:Pt,skewX:Pt,skewY:Pt,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:St,originX:jt,originY:jt,originZ:Rt,zIndex:Mt,fillOpacity:St,strokeOpacity:St,numOctaves:Mt};function Bt(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(yt(d)){o[d]=e;continue}const n=Ft[d],r=wt(e,n);if(ht.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,s[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,a="";for(let s=0;s<gt;s++){const t=dt[s];void 0!==e[t]&&(a+="".concat(mt[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):o&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Vt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ut(e,t,n){for(const r in t)pt(t[r])||ft(r,n)||(e[r]=t[r])}function zt(e,t,n){const r={};return Ut(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Bt(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function qt(e,t,n){const r={},i=zt(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Gt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ht(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gt.has(e)}let Wt=e=>!Ht(e);try{(Kt=require("@emotion/is-prop-valid").default)&&(Wt=e=>e.startsWith("on")?!Ht(e):Kt(e))}catch(_A){}var Kt;function Qt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function $t(e,t){if(null==e)return{};var n,r,i=Qt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yt(e,t,n){return"string"===typeof e?e:Rt.transform(t+n*e)}const Xt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jt={offset:"strokeDashoffset",array:"strokeDasharray"};const Zt=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function en(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Bt(e,$t(t,Zt),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Yt(t,e.x,e.width),i=Yt(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(f.x=o),void 0!==a&&(f.y=a),void 0!==s&&(f.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?Xt:Jt;e[o.offset]=Rt.transform(-r);const a=Rt.transform(t),s=Rt.transform(n);e[o.array]="".concat(a," ").concat(s)}(f,u,d,h,!1)}const tn=()=>je(je({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),nn=e=>"string"===typeof e&&"svg"===e.toLowerCase();function rn(e,t,n,r){const o=(0,i.useMemo)(()=>{const n=tn();return en(n,t,{enableHardwareAcceleration:!1},nn(r),e.transformTemplate),je(je({},n.attrs),{},{style:je({},n.style)})},[t]);if(e.style){const t={};Ut(t,e.style,e),o.style=je(je({},t),o.style)}return o}function on(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,a)=>{let{latestValues:s}=o;const l=(ct(t)?rn:qt)(n,s,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Wt(i)||!0===n&&Ht(i)||!t&&!Ht(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=je(je(je({},c),l),{},{ref:r}),{children:d}=n,h=(0,i.useMemo)(()=>pt(d)?d.get():d,[d]);return(0,i.createElement)(t,je(je({},u),{},{children:h}))}}function an(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const sn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ln(e,t,n,r){an(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(sn.has(i)?i:qe(i),t.attrs[i])}function cn(e,t){const{style:n}=e,r={};for(const i in n)(pt(n[i])||t.style&&pt(t.style[i])||ft(i,e))&&(r[i]=n[i]);return r}function un(e,t){const n=cn(e,t);for(const r in e)if(pt(e[r])||pt(t[r])){n[-1!==dt.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function dn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const hn=e=>Array.isArray(e),fn=e=>hn(e)?e[e.length-1]||0:e;function pn(e){const t=pt(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const mn=["transitionEnd","transition"];const gn=e=>(t,n)=>{const r=(0,i.useContext)(Fe),o=(0,i.useContext)(Be),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=e;const s={latestValues:vn(t,n,r,i),renderState:o()};return a&&(s.mount=e=>a(t,e,s)),s}(e,t,r,o);return n?a():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(a)};function vn(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=pn(o[h]);let{initial:a,animate:s}=e;const l=Ye(e),c=Xe(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?s:a;if(d&&"boolean"!==typeof d&&!Ke(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=dn(e,t);if(!n)return;const{transitionEnd:r,transition:o}=n,a=$t(n,mn);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const yn=e=>e;class bn{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const wn=["prepare","read","update","preRender","render","postRender"];const{schedule:xn,cancel:En,state:Sn,steps:In}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=wn.reduce((e,t)=>(e[t]=function(e){let t=new bn,n=new bn,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}(()=>n=!0),e),{}),a=e=>o[e].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,wn.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=wn.reduce((t,a)=>{const l=o[a];return t[a]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,o,a)},t},{});return{schedule:l,cancel:e=>wn.forEach(t=>o[t].cancel(e)),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:yn,!0),Tn={useVisualState:gn({scrapeMotionValuesFromProps:un,createRenderState:tn,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;xn.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(CA){r.dimensions={x:0,y:0,width:0,height:0}}}),xn.render(()=>{en(r,i,{enableHardwareAcceleration:!1},nn(t.tagName),e.transformTemplate),ln(t,r)})}})},Cn={useVisualState:gn({scrapeMotionValuesFromProps:cn,createRenderState:Vt})};function _n(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const kn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function An(e,t,n,r){return _n(e,t,(e=>t=>kn(t)&&e(t,Nn(t)))(n),r)}const Pn=(e,t)=>n=>t(e(n)),Dn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Pn)};function Rn(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const On=Rn("dragHorizontal"),Ln=Rn("dragVertical");function jn(e){let t=!1;if("y"===e)t=Ln();else if("x"===e)t=On();else{const e=On(),n=Ln();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Mn(){const e=jn(!0);return!e||(e(),!1)}class Fn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Bn(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return An(e.current,n,(n,i)=>{if("touch"===n.pointerType||Mn())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&xn.update(()=>o[r](n,i))},{passive:!e.getProps()[r]})}const Vn=(e,t)=>!!t&&(e===t||Vn(e,t.parentElement));function Un(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Nn(n))}const zn=["root"],qn=new WeakMap,Gn=new WeakMap,Hn=e=>{const t=qn.get(e.target);t&&t(e)},Wn=e=>{e.forEach(Hn)};function Kn(e,t,n){const r=function(e){let{root:t}=e,n=$t(e,zn);const r=t||document;Gn.has(r)||Gn.set(r,{});const i=Gn.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Wn,je({root:t},n))),i[o]}(t);return qn.set(e,n),r.observe(e),()=>{qn.delete(e),r.unobserve(e)}}const Qn={some:0,all:1};const $n={inView:{Feature:class extends Fn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Qn[r]};return Kn(this.node.current,o,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Fn{constructor(){super(...arguments),this.removeStartListeners=yn,this.removeEndListeners=yn,this.removeAccessibleListeners=yn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=An(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();xn.update(()=>{i||Vn(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=An(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Dn(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=_n(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=_n(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Un("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&xn.update(()=>n(e,t))})}),Un("down",(e,t)=>{this.startPress(e,t)})}),t=_n(this.node.current,"blur",()=>{this.isPressing&&Un("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Dn(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&xn.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Mn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&xn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=An(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=_n(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Dn(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Fn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(CA){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dn(_n(this.node.current,"focus",()=>this.onFocus()),_n(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Fn{mount(){this.unmount=Dn(Bn(this.node,!0),Bn(this.node,!1))}unmount(){}}}};function Yn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Xn(e,t,n){const r=e.getProps();return dn(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let Jn=yn,Zn=yn;const er=e=>1e3*e,tr=e=>e/1e3,nr=!1,rr=e=>Array.isArray(e)&&"number"===typeof e[0];function ir(e){return Boolean(!e||"string"===typeof e&&ar[e]||rr(e)||Array.isArray(e)&&e.every(ir))}const or=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},ar={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:or([0,.65,.55,1]),circOut:or([.55,0,1,.45]),backIn:or([.31,.01,.66,-.59]),backOut:or([.33,1.53,.69,.99])};function sr(e){if(e)return rr(e)?or(e):Array.isArray(e)?e.map(sr):ar[e]}const lr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function cr(e,t,n,r){if(e===t&&n===r)return yn;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=lr(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:lr(i(e),t,r)}const ur=cr(.42,0,1,1),dr=cr(0,0,.58,1),hr=cr(.42,0,.58,1),fr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pr=e=>t=>1-e(1-t),mr=e=>1-Math.sin(Math.acos(e)),gr=pr(mr),vr=fr(mr),yr=cr(.33,1.53,.69,.99),br=pr(yr),wr=fr(br),xr={linear:yn,easeIn:ur,easeInOut:hr,easeOut:dr,circIn:mr,circInOut:vr,circOut:gr,backIn:br,backInOut:wr,backOut:yr,anticipate:e=>(e*=2)<1?.5*br(e):.5*(2-Math.pow(2,-10*(e-1)))},Er=e=>{if(Array.isArray(e)){Zn(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return cr(t,n,r,i)}return"string"===typeof e?(Zn(void 0!==xr[e],"Invalid easing type '".concat(e,"'")),xr[e]):e},Sr=(e,t)=>n=>Boolean(Nt(n)&&kt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ir=(e,t,n)=>r=>{if(!Nt(r))return r;const[i,o,a,s]=r.match(Ct);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Tr=je(je({},Et),{},{transform:e=>Math.round((e=>xt(0,255,e))(e))}),Cr={test:Sr("rgb","red"),parse:Ir("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Tr.transform(t)+", "+Tr.transform(n)+", "+Tr.transform(r)+", "+Tt(St.transform(i))+")"}};const _r={test:Sr("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Cr.transform},kr={test:Sr("hsl","hue"),parse:Ir("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Dt.transform(Tt(n))+", "+Dt.transform(Tt(r))+", "+Tt(St.transform(i))+")"}},Nr={test:e=>Cr.test(e)||_r.test(e)||kr.test(e),parse:e=>Cr.test(e)?Cr.parse(e):kr.test(e)?kr.parse(e):_r.parse(e),transform:e=>Nt(e)?e:e.hasOwnProperty("red")?Cr.transform(e):kr.transform(e)},Ar=(e,t,n)=>-n*e+n*t+e;function Pr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Dr=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Rr=[_r,Cr,kr];function Or(e){const t=(e=>Rr.find(t=>t.test(e)))(e);Zn(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===kr&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Pr(i,e,t+1/3),a=Pr(i,e,t),s=Pr(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const Lr=(e,t)=>{const n=Or(e),r=Or(t),i=je({},n);return e=>(i.red=Dr(n.red,r.red,e),i.green=Dr(n.green,r.green,e),i.blue=Dr(n.blue,r.blue,e),i.alpha=Ar(n.alpha,r.alpha,e),Cr.transform(i))};const jr={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:yn},Mr={regex:_t,countKey:"Colors",token:"${c}",parse:Nr.parse},Fr={regex:Ct,countKey:"Numbers",token:"${n}",parse:Et.parse};function Br(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(o)))}function Vr(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Br(n,jr),Br(n,Mr),Br(n,Fr),n}function Ur(e){return Vr(e).values}function zr(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Vr(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(jr.token,e[i]):i<r+n?t.replace(Mr.token,Nr.transform(e[i])):t.replace(Fr.token,Tt(e[i]));return t}}const qr=e=>"number"===typeof e?0:e;const Gr={test:function(e){var t,n;return isNaN(e)&&Nt(e)&&((null===(t=e.match(Ct))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(_t))||void 0===n?void 0:n.length)||0)>0},parse:Ur,createTransformer:zr,getAnimatableNone:function(e){const t=Ur(e);return zr(e)(t.map(qr))}},Hr=(e,t)=>n=>"".concat(n>0?t:e);function Wr(e,t){return"number"===typeof e?n=>Ar(e,t,n):Nr.test(e)?Lr(e,t):e.startsWith("var(")?Hr(e,t):$r(e,t)}const Kr=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Wr(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Qr=(e,t)=>{const n=je(je({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Wr(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},$r=(e,t)=>{const n=Gr.createTransformer(t),r=Vr(e),i=Vr(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Dn(Kr(r.values,i.values),n):(Jn(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Hr(e,t))},Yr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Xr=(e,t)=>n=>Ar(e,t,n);function Jr(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?Xr:"string"===typeof e?Nr.test(e)?Lr:$r:Array.isArray(e)?Kr:"object"===typeof e?Qr:Xr}(e[0]),o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||yn:t;n=Dn(e,n)}r.push(n)}return r}function Zr(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Zn(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Jr(t,r,i),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Yr(e[n],e[n+1],t);return a[n](r)};return n?t=>l(xt(e[0],e[o-1],t)):l}function ei(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yr(0,t,r);e.push(Ar(n,1,i))}}(t,e.length-1),t}function ti(e,t){return e.map(()=>t||hr).splice(0,e.length-1)}function ni(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Er):Er(i),a={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:ei(n),t),l=Zr(s,n,{ease:Array.isArray(o)?o:ti(n,o)});return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function ri(e,t){return t?e*(1e3/t):0}function ii(e,t,n){const r=Math.max(t-5,0);return ri(n-e(r),t-r)}const oi=.001;function ai(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=e;Jn(r<=er(10),"Spring duration must be 10 seconds or less");let s=1-i;s=xt(.05,1,s),r=xt(.01,10,tr(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=li(e,s),l=Math.exp(-n);return oi-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=li(Math.pow(e,2),s);return(-t(e)+oi>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<si;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=er(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const si=12;function li(e,t){return e*Math.sqrt(1-t*t)}const ci=["keyframes","restDelta","restSpeed"],ui=["duration","bounce"],di=["stiffness","damping","mass"];function hi(e,t){return t.some(t=>void 0!==e[t])}function fi(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=$t(e,ci);const o=t[0],a=t[t.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=je({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!hi(e,di)&&hi(e,ui)){const n=ai(e);t=je(je(je({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(je(je({},i),{},{velocity:-tr(i.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-o,v=tr(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=li(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let i=p;0!==e&&(i=m<1?ii(b,e,t):0);const o=Math.abs(i)<=r,l=Math.abs(a-t)<=n;s.done=o&&l}return s.value=s.done?a:t,s}}}function pi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,E;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,E=fi({keyframes:[f.value,p(f.value)],velocity:ii(b,e,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==x||(t=!0,w(e),S(e)),void 0!==x&&e>x?E.next(e-x):(!t&&w(e),f)}}}const mi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>xn.update(t,!0),stop:()=>En(t),now:()=>Sn.isProcessing?Sn.timestamp:performance.now()}};function gi(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const vi=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],yi={decay:pi,inertia:pi,tween:ni,keyframes:ni,spring:fi};function bi(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=mi,keyframes:a,type:s="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=$t(e,vi),g=1,v=!1;const y=()=>{n=new Promise(e=>{t=e})};let b;y();const w=yi[s]||ni;let x;w!==ni&&"number"!==typeof a[0]&&(x=Zr([0,100],a,{clamp:!1}),a=[0,100]);const E=w(je(je({},m),{},{keyframes:a}));let S;"mirror"===u&&(S=w(je(je({},m),{},{keyframes:[...a].reverse(),velocity:-(m.velocity||0)})));let I="idle",T=null,C=null,_=null;null===E.calculatedDuration&&l&&(E.calculatedDuration=gi(E));const{calculatedDuration:k}=E;let N=1/0,A=1/0;null!==k&&(N=k+c,A=N*(l+1)-c);let P=0;const D=e=>{if(null===C)return;g>0&&(C=Math.min(C,e)),g<0&&(C=Math.min(e-A/g,C)),P=null!==T?T:Math.round(e-C)*g;const t=P-i*(g>=0?1:-1),n=g>=0?t<0:t>A;P=Math.max(t,0),"finished"===I&&null===T&&(P=A);let r=P,o=E;if(l){const e=Math.min(P,A)/N;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/N)):"mirror"===u&&(o=S)),r=xt(0,1,n)*N}const s=n?{done:!1,value:a[0]}:o.next(r);x&&(s.value=x(s.value));let{done:d}=s;n||null===k||(d=g>=0?P>=A:P<=0);const h=null===T&&("finished"===I||"running"===I&&d);return p&&p(s.value),h&&L(),s},R=()=>{b&&b.stop(),b=void 0},O=()=>{I="idle",R(),t(),y(),C=_=null},L=()=>{I="finished",f&&f(),R(),t()},j=()=>{if(v)return;b||(b=o(D));const e=b.now();d&&d(),null!==T?C=e-T:C&&"finished"!==I||(C=e),"finished"===I&&y(),_=C,T=null,I="running",b.start()};r&&j();const M={then:(e,t)=>n.then(e,t),get time(){return tr(P)},set time(e){e=er(e),P=e,null===T&&b&&0!==g?C=b.now()-e/g:T=e},get duration(){const e=null===E.calculatedDuration?gi(E):E.calculatedDuration;return tr(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,M.time=tr(P))},get state(){return I},play:j,pause:()=>{I="paused",T=P},stop:()=>{v=!0,"idle"!==I&&(I="idle",h&&h(),O())},cancel:()=>{null!==_&&D(_),O()},complete:()=>{I="finished"},sample:e=>(C=0,D(e))};return M}const wi=["onUpdate","onComplete"],xi=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ei=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Si(e,t,n){let{onUpdate:r,onComplete:i}=n,o=$t(n,wi);if(!(xi()&&Ei.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let a,s,l=!1,c=!1;const u=()=>{s=new Promise(e=>{a=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!ir(t.ease))(t,o)){const e=bi(je(je({},o),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=sr(s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,je(je({},o),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,xn.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,o)),i&&i(),v())};return{then:(e,t)=>s.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,yn),get time(){return tr(m.currentTime||0)},set time(e){m.currentTime=er(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return tr(h)},play:()=>{l||(m.play(),En(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=bi(je(je({},o),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const Ii={type:"spring",stiffness:500,damping:25,restSpeed:10},Ti={type:"keyframes",duration:.8},Ci={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_i=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ti:ht.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ii:Ci},ki=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Gr.test(t)&&"0"!==t||t.startsWith("url("))),Ni=new Set(["brightness","contrast","saturate","opacity"]);function Ai(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ct)||[];if(!r)return e;const i=n.replace(r,"");let o=Ni.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Pi=/([a-z-]*)\(.*?\)/g,Di=je(je({},Gr),{},{getAnimatableNone:e=>{const t=e.match(Pi);return t?t.map(Ai).join(" "):e}}),Ri=je(je({},Ft),{},{color:Nr,backgroundColor:Nr,outlineColor:Nr,fill:Nr,stroke:Nr,borderColor:Nr,borderTopColor:Nr,borderRightColor:Nr,borderBottomColor:Nr,borderLeftColor:Nr,filter:Di,WebkitFilter:Di}),Oi=e=>Ri[e];function Li(e,t){let n=Oi(e);return n!==Di&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ji=e=>/^0[^.\s]+$/.test(e);function Mi(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||ji(e):void 0}const Fi=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Bi(e,t){return e[t]||e.default||e}const Vi=!1,Ui=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=Bi(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=er(a);const l=function(e,t,n,r){const i=ki(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?a:o[c-1]),Mi(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(s=o[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++)o[l[c]]=Li(t,s);return o}(t,e,n,o),c=l[0],u=l[l.length-1],d=ki(e,c),h=ki(e,u);Jn(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=je(je({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-s,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u}=e,d=$t(e,Fi);return!!Object.keys(d).length}(o)||(f=je(je({},f),_i(e,f))),f.duration&&(f.duration=er(f.duration)),f.repeatDelay&&(f.repeatDelay=er(f.repeatDelay)),!d||!h||nr||!1===o.type||Vi)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:yn,pause:yn,stop:yn,then:e=>(e(),Promise.resolve()),cancel:yn,complete:yn});return n?bi({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(nr?je(je({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Si(t,e,f);if(n)return n}return bi(f)}};function zi(e){return Boolean(pt(e)&&e.add)}const qi=e=>/^\-?\d*\.?\d+$/.test(e);function Gi(e,t){-1===e.indexOf(t)&&e.push(t)}function Hi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wi{constructor(){this.subscriptions=[]}add(e){return Gi(this.subscriptions,e),()=>Hi(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki={current:void 0};class Qi{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Sn;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,xn.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>xn.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Wi);const n=this.events[e].add(t);return"change"===e?()=>{n(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ki.current&&Ki.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ri(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $i(e,t){return new Qi(e,t)}const Yi=e=>t=>t.test(e),Xi=[Et,Rt,Dt,Pt,Lt,Ot,{test:e=>"auto"===e,parse:e=>e}],Ji=e=>Xi.find(Yi(e)),Zi=[...Xi,Nr,Gr],eo=e=>Zi.find(Yi(e)),to=["transitionEnd","transition"];function no(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$i(n))}function ro(e,t){const n=Xn(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:o={}}=r,a=$t(r,to);a=je(je({},a),i);for(const s in a){no(e,s,fn(a[s]))}}function io(e,t){if(!t)return;return(t[e]||t.default||t).from}const oo=["transition","transitionEnd"];function ao(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function so(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function lo(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:s}=o,l=$t(o,oo);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&ao(d,h))continue;const i=je({delay:n,elapsed:0},Bi(a||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[Ge];if(n){const e=window.HandoffAppearAnimations(n,h,t,xn);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!so(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Ui(h,t,r,e.shouldReduceMotion&&ht.has(h)?{type:!1}:i));const s=t.animation;zi(c)&&(c.add(h),s.then(()=>c.remove(h))),u.push(s)}return s&&Promise.all(u).then(()=>{s&&ro(e,s)}),u}function co(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Xn(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(lo(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(uo).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(co(e,t,je(je({},o),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[o,a]:[a,o];return e().then(()=>t())}return Promise.all([o(),a(n.delay)])}function uo(e,t){return e.sortNodePosition(t)}const ho=["transition","transitionEnd"],fo=[...Qe].reverse(),po=Qe.length;function mo(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>co(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=co(e,t,r);else{const i="function"===typeof t?Xn(e,t,r.custom):t;n=Promise.all(lo(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function go(e){let t=mo(e);const n={animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()};let r=!0;const i=(t,n)=>{const r=Xn(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=$t(r,ho);t=je(je(je({},t),i),n)}return t};function o(o,a){const s=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<po;t++){const f=fo[t],p=n[f],m=void 0!==s[f]?s[f]:l[f],g=We(m),v=f===a?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==s[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=je({},d),!p.isActive&&null===v||!m&&!p.prevProp||Ke(m)||"boolean"===typeof m)continue;let b=vo(p.prevProp,m)||f===a&&p.isActive&&!y&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let E=x.reduce(i,{});!1===v&&(E={});const{prevResolvedValues:S={}}=p,I=je(je({},S),E),T=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in I){const t=E[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=hn(t)&&hn(n)?!Yn(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(d=je(je({},d),E)),r&&e.blockInitialAnimation&&(b=!1),!b||y&&!w||c.push(...x.map(e=>({animation:e,options:je({type:f},o)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=o(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function vo(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Yn(t,e)}function yo(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let bo=0;const wo={animation:{Feature:class extends Fn{constructor(e){super(e),e.animationState||(e.animationState=go(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ke(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Fn{constructor(){super(...arguments),this.id=bo++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},xo=(e,t)=>Math.abs(e-t);class Eo{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=To(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=xo(e.x,t.x),r=xo(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Sn;this.history.push(je(je({},r),{},{timestamp:i}));const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=So(t,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=To("pointercancel"===e.type?this.lastMoveEventInfo:So(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!kn(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=So(Nn(e),this.transformPagePoint),{point:a}=o,{timestamp:s}=Sn;this.history=[je(je({},a),{},{timestamp:s})];const{onSessionStart:l}=t;l&&l(e,To(o,this.history)),this.removeListeners=Dn(An(this.contextWindow,"pointermove",this.handlePointerMove),An(this.contextWindow,"pointerup",this.handlePointerUp),An(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}}function So(e,t){return t?{point:t(e.point)}:e}function Io(e,t){return{x:e.x-t.x,y:e.y-t.y}}function To(e,t){let{point:n}=e;return{point:n,delta:Io(n,_o(t)),offset:Io(n,Co(t)),velocity:ko(t,.1)}}function Co(e){return e[0]}function _o(e){return e[e.length-1]}function ko(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=_o(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>er(t)));)n--;if(!r)return{x:0,y:0};const o=tr(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function No(e){return e.max-e.min}function Ao(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Po(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Ar(t.min,t.max,e.origin),e.scale=No(n)/No(t),(Ao(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ar(n.min,n.max,e.origin)-e.originPoint,(Ao(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Do(e,t,n,r){Po(e.x,t.x,n.x,r?r.originX:void 0),Po(e.y,t.y,n.y,r?r.originY:void 0)}function Ro(e,t,n){e.min=n.min+t.min,e.max=e.min+No(t)}function Oo(e,t,n){e.min=t.min-n.min,e.max=e.min+No(t)}function Lo(e,t,n){Oo(e.x,t.x,n.x),Oo(e.y,t.y,n.y)}function jo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Mo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Fo=.35;function Bo(e,t,n){return{min:Vo(e,t),max:Vo(e,n)}}function Vo(e,t){return"number"===typeof e?e:e[t]||0}const Uo=()=>({x:{min:0,max:0},y:{min:0,max:0}});function zo(e){return[e("x"),e("y")]}function qo(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Go(e){return void 0===e||1===e}function Ho(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Go(t)||!Go(n)||!Go(r)}function Wo(e){return Ho(e)||Ko(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ko(e){return Qo(e.x)||Qo(e.y)}function Qo(e){return e&&"0%"!==e}function $o(e,t,n){return n+t*(e-n)}function Yo(e,t,n,r,i){return void 0!==i&&(e=$o(e,i,r)),$o(e,n,r)+t}function Xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Yo(e.min,t,n,r,i),e.max=Yo(e.max,t,n,r,i)}function Jo(e,t){let{x:n,y:r}=t;Xo(e.x,n.translate,n.scale,n.originPoint),Xo(e.y,r.translate,r.scale,r.originPoint)}function Zo(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ea(e,t){e.min=e.min+t,e.max=e.max+t}function ta(e,t,n){let[r,i,o]=n;const a=void 0!==t[o]?t[o]:.5,s=Ar(e.min,e.max,a);Xo(e,t[r],t[i],s,t.scale)}const na=["x","scaleX","originX"],ra=["y","scaleY","originY"];function ia(e,t){ta(e.x,t,na),ta(e.y,t,ra)}function oa(e,t){return qo(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const aa=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},sa=new WeakMap;class la{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Eo(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Nn(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jn(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Dt.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=No(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&xn.update(()=>i(e,t),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>zo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:aa(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&xn.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ca(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Ar(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Ar(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&He(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:jo(e.x,r,o),y:jo(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo;return!1===e?e=0:!0===e&&(e=Fo),{x:Bo(e,"left","right"),y:Bo(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zo(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!He(e))return!1;const n=e.current;Zn(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=oa(e,n),{scroll:i}=t;return i&&(ea(r.x,i.offset.x),ea(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Mo(e.x,t.x),y:Mo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=qo(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=zo(a=>{if(!ca(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=je(je({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Ui(e,n,0,t))}stopAnimation(){zo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zo(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){zo(t=>{const{drag:n}=this.getProps();if(!ca(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Ar(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!He(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zo(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=No(e),i=No(t);return i>r?n=Yr(t.min,t.max-r,e.min):r>i&&(n=Yr(e.min,e.max-i,t.min)),xt(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zo(t=>{if(!ca(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Ar(i,o,r[t]))})}addListeners(){if(!this.visualElement.current)return;sa.set(this.visualElement,this);const e=An(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();He(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=_n(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(zo(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Fo,dragMomentum:a=!0}=e;return je(je({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a})}}function ca(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ua=e=>(t,n)=>{e&&xn.update(()=>e(t,n))};const da={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ha(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fa={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Rt.test(e))return e;e=parseFloat(e)}const n=ha(e,t.target.x),r=ha(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},pa={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Gr.parse(e);if(o.length>5)return i;const a=Gr.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=Ar(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}};class ma extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=va,Object.assign(ut,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(je(je({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),da.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xn.postRender(()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ga(e){const[t,n]=function(){const e=(0,i.useContext)(Be);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=(0,i.useId)();return(0,i.useEffect)(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),r=(0,i.useContext)(nt);return i.createElement(ma,je(je({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(rt),isPresent:t,safeToRemove:n}))}const va={borderRadius:je(je({},fa),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:fa,borderTopRightRadius:fa,borderBottomLeftRadius:fa,borderBottomRightRadius:fa,boxShadow:pa},ya=["TopLeft","TopRight","BottomLeft","BottomRight"],ba=ya.length,wa=e=>"string"===typeof e?parseFloat(e):e,xa=e=>"number"===typeof e||Rt.test(e);function Ea(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Sa=Ta(0,.5,gr),Ia=Ta(.5,.95,yn);function Ta(e,t,n){return r=>r<e?0:r>t?1:n(Yr(e,t,r))}function Ca(e,t){e.min=t.min,e.max=t.max}function _a(e,t){Ca(e.x,t.x),Ca(e.y,t.y)}function ka(e,t,n,r,i){return e=$o(e-=t,1/n,r),void 0!==i&&(e=$o(e,1/i,r)),e}function Na(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Dt.test(t)&&(t=parseFloat(t),t=Ar(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Ar(o.min,o.max,r);e===o&&(s-=t),e.min=ka(e.min,t,n,s,i),e.max=ka(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const Aa=["x","scaleX","originX"],Pa=["y","scaleY","originY"];function Da(e,t,n,r){Na(e.x,t,Aa,n?n.x:void 0,r?r.x:void 0),Na(e.y,t,Pa,n?n.y:void 0,r?r.y:void 0)}function Ra(e){return 0===e.translate&&1===e.scale}function Oa(e){return Ra(e.x)&&Ra(e.y)}function La(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ja(e){return No(e.x)/No(e.y)}class Ma{constructor(){this.members=[]}add(e){Gi(this.members,e),e.scheduleRender()}remove(e){if(Hi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fa(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+="scale(".concat(a,", ").concat(s,")")),r||"none"}const Ba=(e,t)=>e.depth-t.depth;class Va{constructor(){this.children=[],this.isDirty=!1}add(e){Gi(this.children,e),this.isDirty=!0}remove(e){Hi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ba),this.isDirty=!1,this.children.forEach(e)}}const Ua=["","X","Y","Z"],za={visibility:"hidden"};let qa=0;const Ga={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ha(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=qa++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ga.totalNodes=Ga.resolvedTargetDeltas=Ga.recalculatedProjection=0,this.nodes.forEach(Qa),this.nodes.forEach(ts),this.nodes.forEach(ns),this.nodes.forEach($a),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Ga)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Va)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Wi),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(En(r),e(a-t))};return xn.read(r,!0),()=>En(r)}(r,250),da.hasAnimatedSinceResize&&(da.hasAnimatedSinceResize=!1,this.nodes.forEach(es))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||ls,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!La(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=je(je({},Bi(o,"layout")),{},{onPlay:s,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||es(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rs),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Xa);this.isUpdating||this.nodes.forEach(Ja),this.isUpdating=!1,this.nodes.forEach(Za),this.nodes.forEach(Wa),this.nodes.forEach(Ka),this.clearAllSnapshots();const e=performance.now();Sn.delta=xt(0,1e3/60,e-Sn.timestamp),Sn.timestamp=e,Sn.isProcessing=!0,In.update.process(Sn),In.preRender.process(Sn),In.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ya),this.sharedNodes.forEach(is)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Oa(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Wo(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ds((r=n).x),ds(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ea(t.x,n.offset.x),ea(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};_a(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){_a(t,e);const{scroll:n}=this.root;n&&(ea(t.x,-n.offset.x),ea(t.y,-n.offset.y))}ea(t.x,i.offset.x),ea(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};_a(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ia(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Wo(e.latestValues)&&ia(n,e.latestValues)}return Wo(this.latestValues)&&ia(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};_a(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Wo(e.latestValues))continue;Ho(e.latestValues)&&e.updateSnapshot();const r=Uo();_a(r,e.measurePageBox()),Da(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Wo(this.latestValues)&&Da(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=je(je(je({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Lo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Ro(a.x,s.x,l.x),Ro(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),Jo(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Lo(this.relativeTargetOrigin,this.target,e.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ga.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ho(this.parent.latestValues)&&!Ko(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;_a(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ia(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Jo(e,a)),r&&Wo(o.latestValues)&&ia(e,o.latestValues))}t.x=Zo(t.x),t.y=Zo(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Do(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Fa(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ga.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=je({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(ss));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p;os(o.x,e.x,n),os(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,f=a,p=n,as(l.x,h.x,f.x,p),as(l.y,h.y,f.y,p),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),_a(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Ar(0,void 0!==n.opacity?n.opacity:1,Sa(r)),e.opacityExit=Ar(void 0!==t.opacity?t.opacity:1,0,Ia(r))):o&&(e.opacity=Ar(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ba;a++){const i="border".concat(ya[a],"Radius");let o=Ea(t,i),s=Ea(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||xa(o)===xa(s)?(e[i]=Math.max(Ar(wa(o),wa(s),r),0),(Dt.test(s)||Dt.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Ar(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(En(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{da.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=pt(e)?e:$i(e);return r.start(Ui("",r,t,n)),r.animation}(0,1e3,je(je({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&hs(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=No(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=No(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}_a(t,n),ia(t,i),Do(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ma);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Ua.length;i++){const t="rotate"+Ua[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return za;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=pn(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=pn(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Wo(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Fa(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in ut){if(void 0===a[c])continue;const{correct:e,applyTo:t}=ut[c],n="none"===r.transform?a[c]:e(a[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?pn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Xa),this.root.sharedNodes.clear()}}}function Wa(e){e.updateLayout()}function Ka(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?zo(e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=No(r);r.min=t[e].min,r.max=r.min+i}):hs(i,n.layoutBox,t)&&zo(r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=No(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Do(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Do(s,e.applyTransform(r,!0),n.measuredBox):Do(s,t,n.layoutBox);const l=!Oa(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};Lo(a,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Lo(s,t,o.layoutBox),La(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Qa(e){Ga.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $a(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ya(e){e.clearSnapshot()}function Xa(e){e.clearMeasurements()}function Ja(e){e.isLayoutDirty=!1}function Za(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function es(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ts(e){e.resolveTargetDelta()}function ns(e){e.calcProjection()}function rs(e){e.resetRotation()}function is(e){e.removeLeadSnapshot()}function os(e,t,n){e.translate=Ar(t.translate,0,n),e.scale=Ar(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function as(e,t,n,r){e.min=Ar(t.min,n.min,r),e.max=Ar(t.max,n.max,r)}function ss(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ls={duration:.45,ease:[.4,0,.1,1]},cs=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),us=cs("applewebkit/")&&!cs("chrome/")?Math.round:yn;function ds(e){e.min=us(e.min),e.max=us(e.max)}function hs(e,t,n){return"position"===e||"preserve-aspect"===e&&!Ao(ja(t),ja(n),.2)}const fs=Ha({attachResizeListener:(e,t)=>_n(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ps={current:void 0},ms=Ha({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ps.current){const e=new fs({});e.mount(window),e.setOptions({layoutScroll:!0}),ps.current=e}return ps.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),gs={pan:{Feature:class extends Fn{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new Eo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aa(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ua(e),onStart:ua(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&xn.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Fn{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new la(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ms,MeasureLayout:ga}};const vs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Zn(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=vs.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return qi(e)?parseFloat(e):e}return bt(i)?ys(i,t,n+1):i}function bs(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=je({},n)),e.values.forEach(e=>{const t=e.get();if(!bt(t))return;const n=ys(t,i);n&&e.set(n)});for(const o in r){const e=r[o];if(!bt(e))continue;const t=ys(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}const ws=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xs=e=>ws.has(e),Es=e=>e===Et||e===Rt,Ss=(e,t)=>parseFloat(e.split(", ")[t]),Is=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Ss(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Ss(t[1],e):0}},Ts=new Set(["x","y","z"]),Cs=dt.filter(e=>!Ts.has(e));const _s={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Is(4,13),y:Is(5,14)};_s.translateX=_s.x,_s.translateY=_s.y;const ks=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=je({},t),r=je({},r);const i=Object.keys(t).filter(xs);let o=[],a=!1;const s=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=Ji(c);const d=t[i];let h;if(hn(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Ji(c);for(let n=t;n<e&&null!==d[n];n++)h?Zn(Ji(d[n])===h,"All keyframes must be of the same type"):(h=Ji(d[n]),Zn(h===u||Es(u)&&Es(h),"Keyframes must be of the same dimension as the current value"))}else h=Ji(d);if(u!==h)if(Es(u)&&Es(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Rt&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(o=function(e){const t=[];return Cs.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{s[e]=_s[e](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=_s[n](l,o)}),e})(t,e,s);return o.length&&o.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ve&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ns(e,t,n,r){return(e=>Object.keys(e).some(xs))(t)?ks(e,t,n,r):{target:t,transitionEnd:r}}const As={current:null},Ps={current:!1};const Ds=new WeakMap,Rs=["willChange"],Os=["children"],Ls=Object.keys(tt),js=Ls.length,Ms=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fs=$e.length;class Bs{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xn.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget=je({},s),this.initialValues=n.initial?je({},s):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Ye(n),this.isVariantNode=Xe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=$t(c,Rs);for(const h in d){const e=d[h];void 0!==s[h]&&pt(e)&&(e.set(s[h],!1),zi(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Ds.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Ps.current||function(){if(Ps.current=!0,Ve)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>As.current=e.matches;e.addListener(t),t()}else As.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||As.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ds.delete(this.current),this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=ht.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&xn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:a}=e,s=$t(e,Os);for(let l=0;l<js;l++){const e=Ls[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=tt[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(o=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:l}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&He(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ms.length;n++){const t=Ms[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(pt(o))e.addValue(i,o),zi(r)&&r.add(i);else if(pt(a))e.addValue(i,$i(o,{owner:e})),zi(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,$i(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Fs;t++){const n=$e[t],r=this.props[n];(We(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=$i(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=dn(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||pt(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Wi),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const Vs=["transition","transitionEnd"];class Us extends Bs{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,o=$t(e,Vs),{transformValues:a}=t,s=function(e,t,n){const r={};for(const i in e){const e=io(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter(t=>!e.hasValue(t)),a=o.length;if(a)for(let s=0;s<a;s++){const a=o[s],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(qi(c)||ji(c))?c=parseFloat(c):!eo(c)&&Gr.test(l)&&(c=Li(a,l)),e.addValue(a,$i(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,o,s);const e=((e,t,n,r)=>{const i=bs(e,t,r);return Ns(e,t=i.target,n,r=i.transitionEnd)})(this,o,s,i);i=e.transitionEnd,o=e.target}return je({transition:r,transitionEnd:i},o)}}class zs extends Us{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(ht.has(t)){const e=Oi(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(yt(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return oa(e,n)}build(e,t,n,r){Bt(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return cn(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){an(e,t,n,r)}}class qs extends Us{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ht.has(t)){const e=Oi(t);return e&&e.default||0}return t=sn.has(t)?t:qe(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return un(e,t)}build(e,t,n,r){en(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){ln(e,t,0,r)}mount(e){this.isSVGTag=nn(e.tagName),super.mount(e)}}const Gs=(e,t)=>ct(e)?new qs(t,{enableHardwareAcceleration:!1}):new zs(t,{enableHardwareAcceleration:!0}),Hs={layout:{ProjectionNode:ms,MeasureLayout:ga}},Ws=je(je(je(je({},wo),$n),gs),Hs),Ks=st((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return je(je({},ct(e)?Tn:Cn),{},{preloadedFeatures:n,useRender:on(i),createVisualElement:r,Component:e})}(e,t,Ws,Gs));const Qs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ys;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ys extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xs=function(e){return function(e){const t=Qs(e);return $s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Js=function(e){try{return $s.decodeString(e,!0)}catch(CA){console.error("base64Decode failed: ",CA)}return null};const Zs=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,el=()=>{try{return Zs()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAUqNErw_wHXTF7msS817Fmx8X7lIcg8q8",REACT_APP_FIREBASE_AUTH_DOMAIN:"adparlay.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"adparlay",REACT_APP_FIREBASE_STORAGE_BUCKET:"adparlay.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"294111767264",REACT_APP_FIREBASE_APP_ID:"1:294111767264:web:b518352c79e4434365be85",REACT_APP_ADMIN_EMAIL:"admin@adparlay.com",REACT_APP_ADMIN_PASSWORD:"admin123456"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(CA){return}const t=e&&Js(e[1]);return t&&JSON.parse(t)})()}catch(CA){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(CA))}},tl=e=>{var t,n;return null===(n=null===(t=el())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},nl=()=>{var e;return null===(e=el())||void 0===e?void 0:e.config},rl=e=>{var t;return null===(t=el())||void 0===t?void 0:t["_".concat(e)]};class il{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ol(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function al(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function sl(){return!function(){var e;const t=null===(e=el())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(CA){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ll(){try{return"object"===typeof indexedDB}catch(CA){return!1}}function cl(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class ul extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(hl,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ul(n,o,t)}}const hl=/\{\$([^}]+)}/g;function fl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(pl(n)&&pl(o)){if(!fl(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pl(e){return null!==e&&"object"===typeof e}function ml(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function vl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class yl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=bl),void 0===r.error&&(r.error=bl),void 0===r.complete&&(r.complete=bl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(CA){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(CA){"undefined"!==typeof console&&console.error&&console.error(CA)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bl(){}function wl(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function xl(e){return e&&e._delegate?e._delegate:e}class El{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sl="[DEFAULT]";class Il{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new il;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(CA){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(CA){if(r)return null;throw CA}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch(CA){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(CA){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(_A){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Sl?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(_A){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl;return this.component?this.component.multipleInstances?e:Sl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Il(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cl=[];var _l;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_l||(_l={}));const kl={debug:_l.DEBUG,verbose:_l.VERBOSE,info:_l.INFO,warn:_l.WARN,error:_l.ERROR,silent:_l.SILENT},Nl=_l.INFO,Al={[_l.DEBUG]:"log",[_l.VERBOSE]:"log",[_l.INFO]:"info",[_l.WARN]:"warn",[_l.ERROR]:"error"},Pl=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Al[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Dl{constructor(e){this.name=e,this._logLevel=Nl,this._logHandler=Pl,this._userLogHandler=null,Cl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _l))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_l.DEBUG,...t),this._logHandler(this,_l.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_l.VERBOSE,...t),this._logHandler(this,_l.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_l.INFO,...t),this._logHandler(this,_l.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_l.WARN,...t),this._logHandler(this,_l.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_l.ERROR,...t),this._logHandler(this,_l.ERROR,...t)}}let Rl,Ol;const Ll=new WeakMap,jl=new WeakMap,Ml=new WeakMap,Fl=new WeakMap,Bl=new WeakMap;let Vl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ml.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ql(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ul(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ol||(Ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gl(this),n),ql(Ll.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ql(e.apply(Gl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Gl(this),t,...r);return Ml.set(o,t.sort?t.sort():[t]),ql(o)}}function zl(e){return"function"===typeof e?Ul(e):(e instanceof IDBTransaction&&function(e){if(jl.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});jl.set(e,t)}(e),t=e,(Rl||(Rl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Vl):e);var t}function ql(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ql(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Ll.set(t,e)}).catch(()=>{}),Bl.set(t,e),t}(e);if(Fl.has(e))return Fl.get(e);const t=zl(e);return t!==e&&(Fl.set(e,t),Bl.set(t,e)),t}const Gl=e=>Bl.get(e);function Hl(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=ql(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ql(a.result),e.oldVersion,e.newVersion,ql(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Wl=["get","getKey","getAll","getAllKeys","count"],Kl=["put","add","delete","clear"],Ql=new Map;function $l(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ql.get(t))return Ql.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kl.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wl.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Ql.set(t,o),o}Vl=(e=>je(je({},e),{},{get:(t,n,r)=>$l(t,n)||e.get(t,n,r),has:(t,n)=>!!$l(t,n)||e.has(t,n)}))(Vl);class Yl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Xl="@firebase/app",Jl="0.10.13",Zl=new Dl("@firebase/app"),ec="@firebase/app-compat",tc="@firebase/analytics-compat",nc="@firebase/analytics",rc="@firebase/app-check-compat",ic="@firebase/app-check",oc="@firebase/auth",ac="@firebase/auth-compat",sc="@firebase/database",lc="@firebase/data-connect",cc="@firebase/database-compat",uc="@firebase/functions",dc="@firebase/functions-compat",hc="@firebase/installations",fc="@firebase/installations-compat",pc="@firebase/messaging",mc="@firebase/messaging-compat",gc="@firebase/performance",vc="@firebase/performance-compat",yc="@firebase/remote-config",bc="@firebase/remote-config-compat",wc="@firebase/storage",xc="@firebase/storage-compat",Ec="@firebase/firestore",Sc="@firebase/vertexai-preview",Ic="@firebase/firestore-compat",Tc="firebase",Cc="[DEFAULT]",_c={[Xl]:"fire-core",[ec]:"fire-core-compat",[nc]:"fire-analytics",[tc]:"fire-analytics-compat",[ic]:"fire-app-check",[rc]:"fire-app-check-compat",[oc]:"fire-auth",[ac]:"fire-auth-compat",[sc]:"fire-rtdb",[lc]:"fire-data-connect",[cc]:"fire-rtdb-compat",[uc]:"fire-fn",[dc]:"fire-fn-compat",[hc]:"fire-iid",[fc]:"fire-iid-compat",[pc]:"fire-fcm",[mc]:"fire-fcm-compat",[gc]:"fire-perf",[vc]:"fire-perf-compat",[yc]:"fire-rc",[bc]:"fire-rc-compat",[wc]:"fire-gcs",[xc]:"fire-gcs-compat",[Ec]:"fire-fst",[Ic]:"fire-fst-compat",[Sc]:"fire-vertex","fire-js":"fire-js",[Tc]:"fire-js-all"},kc=new Map,Nc=new Map,Ac=new Map;function Pc(e,t){try{e.container.addComponent(t)}catch(CA){Zl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),CA)}}function Dc(e){const t=e.name;if(Ac.has(t))return Zl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ac.set(t,e);for(const n of kc.values())Pc(n,e);for(const n of Nc.values())Pc(n,e);return!0}function Rc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oc(e){return void 0!==e.settings}const Lc=new dl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lc.create("app-deleted",{appName:this._name})}}const Mc="10.14.1";function Fc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Cc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Lc.create("bad-app-name",{appName:String(i)});if(n||(n=nl()),!n)throw Lc.create("no-options");const o=kc.get(i);if(o){if(fl(n,o.options)&&fl(r,o.config))return o;throw Lc.create("duplicate-app",{appName:i})}const a=new Tl(i);for(const l of Ac.values())a.addComponent(l);const s=new jc(n,r,a);return kc.set(i,s),s}function Bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc;const t=kc.get(e);if(!t&&e===Cc&&nl())return Fc();if(!t)throw Lc.create("no-app",{appName:e});return t}function Vc(e,t,n){var r;let i=null!==(r=_c[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zl.warn(e.join(" "))}Dc(new El("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Uc="firebase-heartbeat-store";let zc=null;function qc(){return zc||(zc=Hl("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Uc)}catch(CA){console.warn(CA)}}}).catch(e=>{throw Lc.create("idb-open",{originalErrorMessage:e.message})})),zc}async function Gc(e,t){try{const n=(await qc()).transaction(Uc,"readwrite"),r=n.objectStore(Uc);await r.put(t,Hc(e)),await n.done}catch(CA){if(CA instanceof ul)Zl.warn(CA.message);else{const t=Lc.create("idb-set",{originalErrorMessage:null===CA||void 0===CA?void 0:CA.message});Zl.warn(t.message)}}}function Hc(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qc(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kc();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(CA){Zl.warn(CA)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Kc(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$c(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$c(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Xs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(CA){return Zl.warn(CA),""}}}function Kc(){return(new Date).toISOString().substring(0,10)}class Qc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ll()&&cl().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await qc()).transaction(Uc),n=await t.objectStore(Uc).get(Hc(e));return await t.done,n}catch(CA){if(CA instanceof ul)Zl.warn(CA.message);else{const t=Lc.create("idb-get",{originalErrorMessage:null===CA||void 0===CA?void 0:CA.message});Zl.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $c(e){return Xs(JSON.stringify({version:2,heartbeats:e})).length}var Yc;Yc="",Dc(new El("platform-logger",e=>new Yl(e),"PRIVATE")),Dc(new El("heartbeat",e=>new Wc(e),"PRIVATE")),Vc(Xl,Jl,Yc),Vc(Xl,Jl,"esm2017"),Vc("fire-js","");function Xc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Jc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zc=Jc,eu=new dl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tu=new Dl("@firebase/auth");function nu(e){if(tu.logLevel<=_l.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tu.error("Auth (".concat(Mc,"): ").concat(e),...n)}}function ru(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw su(e,...n)}function iu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return su(e,...n)}function ou(e,t,n){const r=Object.assign(Object.assign({},Zc()),{[t]:n});return new dl("auth","Firebase",r).create(t,{appName:e.name})}function au(e){return ou(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function su(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return eu.create(e,...n)}function lu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw su(t,...r)}}function cu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nu(t),new Error(t)}function uu(e,t){e||cu(t)}function du(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hu(){return"http:"===fu()||"https:"===fu()}function fu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,uu(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ol())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hu()||al()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mu(e,t){uu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void cu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void cu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void cu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yu=new pu(3e4,6e4);function bu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function wu(e,t,n,r){return xu(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ml(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),gu.fetch()(Su(e,e.config.apiHost,n,a),l)})}async function xu(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},vu),t);try{const t=new Tu(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Cu(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Cu(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Cu(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ou(e,s,a);ru(e,s)}}catch(CA){if(CA instanceof ul)throw CA;ru(e,"network-request-failed",{message:String(CA)})}}async function Eu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await wu(e,t,n,r,i);return"mfaPendingCredential"in o&&ru(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Su(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Iu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(iu(this.auth,"network-request-failed")),yu.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=iu(e,t,r);return i.customData._tokenResponse=n,i}function _u(e){return void 0!==e&&void 0!==e.enterprise}class ku{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Iu(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Nu(e,t){return wu(e,"GET","/v2/recaptchaConfig",bu(e,t))}async function Au(e,t){return wu(e,"POST","/v1/accounts:lookup",t)}function Pu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(CA){}}function Du(e){return 1e3*Number(e)}function Ru(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const e=Js(n);return e?JSON.parse(e):(nu("Failed to decode base64 JWT payload"),null)}catch(CA){return nu("Caught error parsing JWT payload as JSON",null===CA||void 0===CA?void 0:CA.toString()),null}}function Ou(e){const t=Ru(e);return lu(t,"internal-error"),lu("undefined"!==typeof t.exp,"internal-error"),lu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Lu(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(CA){throw CA instanceof ul&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(CA)&&e.auth.currentUser===e&&await e.auth.signOut(),CA}}class ju{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(CA){return void((null===CA||void 0===CA?void 0:CA.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Mu{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Lu(e,Au(n,{idToken:r}));lu(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Bu(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Mu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Bu(e){return e.map(e=>{var{providerId:t}=e,n=Xc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lu(e.idToken,"internal-error"),lu("undefined"!==typeof e.idToken,"internal-error"),lu("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ou(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lu(0!==e.length,"internal-error");const t=Ou(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(lu(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xu(e,{},async()=>{const n=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Su(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gu.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Vu;return n&&(lu("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(lu("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(lu("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return cu("not implemented")}}function Uu(e,t){lu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zu{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ju(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return lu(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xl(e),r=await n.getIdToken(t),i=Ru(r);lu(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pu(Du(i.auth_time)),issuedAtTime:Pu(Du(i.iat)),expirationTime:Pu(Du(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xl(e);await Fu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(lu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){lu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oc(this.auth.app))return Promise.reject(au(this.auth));const e=await this.getIdToken();return await Lu(this,async function(e,t){return wu(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;lu(y&&E,e,"internal-error");const S=Vu.fromJSON(this.name,E);lu("string"===typeof y,e,"internal-error"),Uu(u,e.name),Uu(d,e.name),lu("boolean"===typeof b,e,"internal-error"),lu("boolean"===typeof w,e,"internal-error"),Uu(h,e.name),Uu(f,e.name),Uu(p,e.name),Uu(m,e.name),Uu(g,e.name),Uu(v,e.name);const I=new zu({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(I.providerData=x.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Vu;r.updateFromServerResponse(t);const i=new zu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fu(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];lu(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Bu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Vu;a.updateFromIdToken(n);const s=new zu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Mu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const qu=new Map;function Gu(e){uu(e instanceof Function,"Expected a class definition");let t=qu.get(e);return t?(uu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qu.set(e,t),t)}class Hu{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hu.type="NONE";const Wu=Hu;function Ku(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ku(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ku("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qu(Gu(Wu),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Gu(Wu);const o=Ku(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(o);if(t){const n=zu._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(_A){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(_A){}})),new Qu(i,e,n)):new Qu(i,e,n)}}function $u(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(td(t))return"Blackberry";if(nd(t))return"Webos";if(Xu(t))return"Safari";if((t.includes("chrome/")||Ju(t))&&!t.includes("edge/"))return"Chrome";if(ed(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/firefox\//i.test(e)}function Xu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ju(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/crios\//i.test(e)}function Zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/iemobile/i.test(e)}function ed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/android/i.test(e)}function td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/blackberry/i.test(e)}function nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/webos/i.test(e)}function rd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function id(){return function(){const e=ol();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function od(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol();return rd(e)||ed(e)||nd(e)||td(e)||/windows phone/i.test(e)||Zu(e)}function ad(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$u(ol());break;case"Worker":t="".concat($u(ol()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mc,"/").concat(r)}class sd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(CA){r(CA)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(CA){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===CA||void 0===CA?void 0:CA.message})}}}class ld{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cd{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dd(this),this.idTokenSubscription=new dd(this),this.beforeStateQueue=new sd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gu(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qu.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(CA){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Au(this,{idToken:e}),n=await zu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Oc(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(CA){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(CA))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lu(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(CA){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(CA){if((null===CA||void 0===CA?void 0:CA.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oc(this.app))return Promise.reject(au(this));const t=e?xl(e):null;return t&&lu(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&lu(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oc(this.app)?Promise.reject(au(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oc(this.app)?Promise.reject(au(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gu(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return wu(e,"GET","/v2/passwordPolicy",bu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ld(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return wu(e,"POST","/v2/accounts:revokeToken",bu(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gu(e)||this._popupRedirectResolver;lu(t,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[Gu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lu(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lu(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ad(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(tu.logLevel<=_l.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tu.warn("Auth (".concat(Mc,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ud(e){return xl(e)}class dd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new yl(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return lu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fd(e){return hd.loadJS(e)}function pd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class md{constructor(e){this.type="recaptcha-enterprise",this.auth=ud(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;_u(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Nu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ku(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&_u(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=hd.recaptchaEnterpriseScript;0!==t.length&&(t+=i),fd(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new md(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vd(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gd(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await gd(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function yd(e,t,n){const r=ud(e);lu(r._canInitEmulator,r,"emulator-config-failed"),lu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=bd(t),{host:a,port:s}=function(e){const t=bd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:wd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wd(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cu("not implemented")}_getIdTokenResponse(e){return cu("not implemented")}_linkToIdToken(e,t){return cu("not implemented")}_getReauthenticationResolver(e){return cu("not implemented")}}async function Ed(e,t){return wu(e,"POST","/v1/accounts:signUp",t)}async function Sd(e,t){return Eu(e,"POST","/v1/accounts:signInWithPassword",bu(e,t))}class Id extends xd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Id(e,t,"password")}static _fromEmailAndCode(e,t){return new Id(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sd);case"emailLink":return async function(e,t){return Eu(e,"POST","/v1/accounts:signInWithEmailLink",bu(e,t))}(e,{email:this._email,oobCode:this._password});default:ru(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ed);case"emailLink":return async function(e,t){return Eu(e,"POST","/v1/accounts:signInWithEmailLink",bu(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ru(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Td(e,t){return Eu(e,"POST","/v1/accounts:signInWithIdp",bu(e,t))}class Cd extends xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ru("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Xc(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Cd(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Td(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Td(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Td(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ml(t)}return e}}const _d={USER_NOT_FOUND:"user-not-found"};class kd extends xd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new kd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new kd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Eu(e,"POST","/v1/accounts:signInWithPhoneNumber",bu(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Eu(e,"POST","/v1/accounts:signInWithPhoneNumber",bu(e,t));if(n.temporaryProof)throw Cu(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Eu(e,"POST","/v1/accounts:signInWithPhoneNumber",bu(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),_d)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new kd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Nd{constructor(e){var t,n,r,i,o,a;const s=gl(vl(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);lu(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=gl(vl(e)).link,n=t?gl(vl(t)).deep_link_id:null,r=gl(vl(e)).deep_link_id;return(r?gl(vl(r)).link:null)||r||n||t||e}(e);try{return new Nd(t)}catch(_A){return null}}}class Ad{constructor(){this.providerId=Ad.PROVIDER_ID}static credential(e,t){return Id._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Nd.parseLink(t);return lu(n,"argument-error"),Id._fromEmailAndCode(e,n.code,n.tenantId)}}Ad.PROVIDER_ID="password",Ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dd extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rd extends Dd{constructor(){super("facebook.com")}static credential(e){return Cd._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rd.credentialFromTaggedObject(e)}static credentialFromError(e){return Rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Rd.credential(t.oauthAccessToken)}catch(_A){return null}}}Rd.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rd.PROVIDER_ID="facebook.com";class Od extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cd._fromParams({providerId:Od.PROVIDER_ID,signInMethod:Od.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Od.credentialFromTaggedObject(e)}static credentialFromError(e){return Od.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Od.credential(n,r)}catch(_A){return null}}}Od.GOOGLE_SIGN_IN_METHOD="google.com",Od.PROVIDER_ID="google.com";class Ld extends Dd{constructor(){super("github.com")}static credential(e){return Cd._fromParams({providerId:Ld.PROVIDER_ID,signInMethod:Ld.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ld.credentialFromTaggedObject(e)}static credentialFromError(e){return Ld.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ld.credential(t.oauthAccessToken)}catch(_A){return null}}}Ld.GITHUB_SIGN_IN_METHOD="github.com",Ld.PROVIDER_ID="github.com";class jd extends Dd{constructor(){super("twitter.com")}static credential(e,t){return Cd._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jd.credential(n,r)}catch(_A){return null}}}async function Md(e,t){return Eu(e,"POST","/v1/accounts:signUp",bu(e,t))}jd.TWITTER_SIGN_IN_METHOD="twitter.com",jd.PROVIDER_ID="twitter.com";class Fd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await zu._fromIdTokenResponse(e,n,r),o=Bd(n);return new Fd({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Bd(n);return new Fd({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Bd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vd extends ul{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Vd(e,t,n,r)}}function Ud(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vd._fromErrorAndOperation(e,n,t,r);throw n})}async function zd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Lu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fd._forOperation(e,"link",r)}async function qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Oc(r.app))return Promise.reject(au(r));const i="reauthenticate";try{const o=await Lu(e,Ud(r,i,t,e),n);lu(o.idToken,r,"internal-error");const a=Ru(o.idToken);lu(a,r,"internal-error");const{sub:s}=a;return lu(e.uid===s,r,"user-mismatch"),Fd._forOperation(e,i,o)}catch(CA){throw(null===CA||void 0===CA?void 0:CA.code)==="auth/".concat("user-not-found")&&ru(r,"user-mismatch"),CA}}async function Gd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Oc(e.app))return Promise.reject(au(e));const r="signIn",i=await Ud(e,r,t),o=await Fd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Hd(e,t){return Gd(ud(e),t)}async function Wd(e){const t=ud(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Kd="__sak";class Qd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch(_A){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $d extends Qd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=od(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);id()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$d.type="LOCAL";const Yd=$d;class Xd extends Qd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xd.type="SESSION";const Jd=Xd;class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function eh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zd.receivers=[];class th{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=eh("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function nh(){return window}function rh(){return"undefined"!==typeof nh().WorkerGlobalScope&&"function"===typeof nh().importScripts}const ih="firebaseLocalStorageDb",oh="firebaseLocalStorage",ah="fbase_key";class sh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lh(e,t){return e.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function ch(){const e=indexedDB.open(ih,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(oh,{keyPath:ah})}catch(CA){n(CA)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(oh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ih);return new sh(e).toPromise()}(),t(await ch()))})})}async function uh(e,t,n){const r=lh(e,!0).put({[ah]:t,value:n});return new sh(r).toPromise()}function dh(e,t){const n=lh(e,!0).delete(t);return new sh(n).toPromise()}class hh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ch()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(CA){if(t++>3)throw CA;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(rh()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new th(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(_A){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ch();return await uh(e,Kd,"1"),await dh(e,Kd),!0}catch(_A){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uh(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=lh(e,!1).get(t),r=await new sh(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dh(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=lh(e,!1).getAll();return new sh(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hh.type="LOCAL";const fh=hh;pd("rcb"),new pu(3e4,6e4);const ph="recaptcha";async function mh(e,t,n){var r;const i=await n.verify();try{let o;if(lu("string"===typeof i,e,"argument-error"),lu(n.type===ph,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){lu("enroll"===t.type,e,"internal-error");const n=await function(e,t){return wu(e,"POST","/v2/accounts/mfaEnrollment:start",bu(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{lu("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;lu(n,e,"missing-multi-factor-info");const a=await function(e,t){return wu(e,"POST","/v2/accounts/mfaSignIn:start",bu(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return wu(e,"POST","/v1/accounts:sendVerificationCode",bu(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class gh{constructor(e){this.providerId=gh.PROVIDER_ID,this.auth=ud(e)}verifyPhoneNumber(e,t){return mh(this.auth,e,xl(t))}static credential(e,t){return kd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gh.credentialFromTaggedObject(t)}static credentialFromError(e){return gh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?kd._fromTokenResponse(n,r):null}}function vh(e,t){return t?Gu(t):(lu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gh.PROVIDER_ID="phone",gh.PHONE_SIGN_IN_METHOD="phone";class yh extends xd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Td(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Td(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Td(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bh(e){return Gd(e.auth,new yh(e),e.bypassAuthState)}function wh(e){const{auth:t,user:n}=e;return lu(n,t,"internal-error"),qd(n,new yh(e),e.bypassAuthState)}async function xh(e){const{auth:t,user:n}=e;return lu(n,t,"internal-error"),zd(n,new yh(e),e.bypassAuthState)}class Eh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(CA){this.reject(CA)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(CA){this.reject(CA)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bh;case"linkViaPopup":case"linkViaRedirect":return xh;case"reauthViaPopup":case"reauthViaRedirect":return wh;default:ru(this.auth,"internal-error")}}resolve(e){uu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sh=new pu(2e3,1e4);class Ih extends Eh{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ih.currentPopupAction&&Ih.currentPopupAction.cancel(),Ih.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lu(e,this.auth,"internal-error"),e}async onExecution(){uu(1===this.filter.length,"Popup operations only handle one event");const e=eh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(iu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(iu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ih.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(iu(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Sh.get())};e()}}Ih.currentPopupAction=null;const Th=new Map;class Ch extends Eh{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Nh(t),r=kh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(CA){e=()=>Promise.reject(CA)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _h(e,t){Th.set(e._key(),t)}function kh(e){return Gu(e._redirectPersistence)}function Nh(e){return Ku("pendingRedirect",e.config.apiKey,e.name)}async function Ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Oc(e.app))return Promise.reject(au(e));const r=ud(e),i=vh(r,t),o=new Ch(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Ph{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(iu(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dh(e))}saveEventToCache(e){this.cachedEventUids.add(Dh(e)),this.lastProcessedEventTime=Date.now()}}function Dh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Rh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Oh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lh=/^https?/;async function jh(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return wu(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Mh(n))return}catch(_A){}ru(e,"unauthorized-domain")}function Mh(e){const t=du(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Lh.test(n))return!1;if(Oh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Fh=new pu(3e4,6e4);function Bh(){const e=nh().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Vh(e){return new Promise((t,n)=>{var r,i,o;function a(){Bh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bh(),n(iu(e,"network-request-failed"))},timeout:Fh.get()})}if(null===(i=null===(r=nh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=nh().gapi)||void 0===o?void 0:o.load)){const t=pd("iframefcb");return nh()[t]=()=>{gapi.load?a():n(iu(e,"network-request-failed"))},fd("".concat(hd.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Uh=null,e})}let Uh=null;const zh=new pu(5e3,15e3),qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hh(e){const t=e.config;lu(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Mc},i=Gh.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(ml(r).slice(1))}async function Wh(e){const t=await function(e){return Uh=Uh||Vh(e),Uh}(e),n=nh().gapi;return lu(n,e,"internal-error"),t.open({where:document.body,url:Hh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=iu(e,"network-request-failed"),o=nh().setTimeout(()=>{r(i)},zh.get());function a(){nh().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(CA){}}}function $h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Kh),{width:r.toString(),height:i.toString(),top:o,left:a}),c=ol().toLowerCase();n&&(s=Ju(c)?"_blank":n),Yu(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return rd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Qh(null);const d=window.open(t||"",s,u);lu(d,e,"popup-blocked");try{d.focus()}catch(CA){}return new Qh(d)}const Yh="__/auth/handler",Xh="emulator/auth/handler",Jh=encodeURIComponent("fac");async function Zh(e,t,n,r,i,o){lu(e.config.authDomain,e,"auth-domain-config-required"),lu(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mc,eventId:i};if(t instanceof Pd){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Dd){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Jh,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yh);return mu(t,Xh)}(e),"?").concat(ml(s).slice(1)).concat(c)}const ef="webStorageSupport";const tf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jd,this._completeRedirectFn=Ah,this._overrideRedirectResult=_h}async _openPopup(e,t,n,r){var i;uu(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return $h(e,await Zh(e,t,n,du(),r),eh())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){nh().location.href=e}(await Zh(e,t,n,du(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(uu(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Wh(e),n=new Ph(e);return t.register("authEvent",t=>{lu(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ef];void 0!==i&&t(!!i),ru(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return od()||Xu()||rd()}};var nf="@firebase/auth",rf="1.7.9";class of{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const af=rl("authIdTokenMaxAge")||300;let sf=null;var lf,cf;lf={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=iu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},hd=lf,cf="Browser",Dc(new El("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;lu(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:cf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ad(cf)},c=new cd(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Dc(new El("auth-internal",e=>(e=>new of(e))(ud(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Vc(nf,rf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(cf)),Vc(nf,rf,"esm2017");var uf,df,hf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ff={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,df=ff.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},uf=ff.Integer=r}).apply("undefined"!==typeof hf?hf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var pf,mf,gf,vf,yf,bf,wf,xf,Ef="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sf={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ef&&Ef];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function I(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C,e=>e.reset());class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,k=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(P)}};var P=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){S(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}k=!1};function D(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,R);var j={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new B(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[G]=l=new U(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)$(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[G]=null)):V(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[G])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;x(t=new R(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},xe=null;function Ee(){return xe=xe||new ne}function Se(e){R.call(this,we.La,e)}function Ie(e){const t=Ee();re(t,new Se(t))}function Te(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Ee();re(t,new Te(t,e))}function _e(e,t){R.call(this,we.Ma,e),this.size=t}function ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,R),we.STAT_EVENT="statevent",d(Te,R),we.Ma="timingevent",d(_e,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Pe=new Oe;var Me={},Fe={};function Be(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=W(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ke(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=ke(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),qe(s)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ie()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ie(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Wt(this.g);e="";var o=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),We(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Fe){4==h&&(this.s=4,Ce(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),Ae(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(d),d.M=!0,Ce(11))}}else Ae(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ae(this.i,this.l,s,null),Qe(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),We(this)}}}catch(If){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ie(),Ce(17)),Ke(this),this.s=2,We(this)):Ge(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Tt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){Et(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Et(e),t=Ct(e,t),e.g.has(t)}function Tt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function kt(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(CA){throw t.push(r+"type="+encodeURIComponent("_badmap")),CA}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){Et(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,It(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Ot(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Bt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),qt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Ft.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Gt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(CA){}}}function Gt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_f){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||A(),k||(_(),k=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Nt(s,e,"req"+n+"_")}catch(If){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||A(),k||(_(),k=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ke(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new _e(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ke(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&jt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ke(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xf=Sf.createWebChannelTransport=function(){return new mn},wf=Sf.getStatEventTarget=function(){return Ee()},bf=Sf.Event=we,yf=Sf.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,vf=Sf.ErrorCode=De,Re.COMPLETE="complete",gf=Sf.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,mf=Sf.WebChannel=ge,Sf.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,pf=Sf.XhrIo=Mt}).apply("undefined"!==typeof Ef?Ef:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const If="@firebase/firestore";class Tf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tf.UNAUTHENTICATED=new Tf(null),Tf.GOOGLE_CREDENTIALS=new Tf("google-credentials-uid"),Tf.FIRST_PARTY=new Tf("first-party-uid"),Tf.MOCK_USER=new Tf("mock-user");let Cf="10.14.0";const _f=new Dl("@firebase/firestore");function kf(){return _f.logLevel}function Nf(e){if(_f.logLevel<=_l.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Df);_f.debug("Firestore (".concat(Cf,"): ").concat(e),...i)}}function Af(e){if(_f.logLevel<=_l.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Df);_f.error("Firestore (".concat(Cf,"): ").concat(e),...i)}}function Pf(e){if(_f.logLevel<=_l.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Df);_f.warn("Firestore (".concat(Cf,"): ").concat(e),...i)}}function Df(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Cf,") INTERNAL ASSERTION FAILED: ")+e;throw Af(t),new Error(t)}function Of(e,t){e||Rf()}function Lf(e,t){return e}const jf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mf extends ul{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ff{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Vf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tf.UNAUTHENTICATED))}shutdown(){}}class Uf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zf{constructor(e){this.t=e,this.currentUser=Tf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Of(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ff;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ff,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Nf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Nf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ff)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Nf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Of("string"==typeof t.accessToken),new Bf(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Of(null===e||"string"==typeof e),new Tf(e)}}class qf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Tf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Tf.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Of(void 0===this.o);const n=e=>{null!=e.error&&Nf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Nf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Nf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Nf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Of("string"==typeof e.token),this.R=e.token,new Hf(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Kf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function $f(e,t){return e<t?-1:e>t?1:0}function Yf(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Xf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mf(jf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mf(jf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mf(jf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mf(jf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xf.fromMillis(Date.now())}static fromDate(e){return Xf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Xf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$f(this.nanoseconds,e.nanoseconds):$f(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jf(e)}static min(){return new Jf(new Xf(0,0))}static max(){return new Jf(new Xf(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zf{constructor(e,t,n){void 0===t?t=0:t>e.length&&Rf(),void 0===n?n=e.length-t:n>e.length-t&&Rf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zf?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ep extends Zf{construct(e,t,n){return new ep(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Mf(jf.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ep(e)}static emptyPath(){return new ep([])}}const tp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class np extends Zf{construct(e,t,n){return new np(e,t,n)}static isValidIdentifier(e){return tp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),np.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new np(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Mf(jf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Mf(jf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Mf(jf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Mf(jf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new np(t)}static emptyPath(){return new np([])}}class rp{constructor(e){this.path=e}static fromPath(e){return new rp(ep.fromString(e))}static fromName(e){return new rp(ep.fromString(e).popFirst(5))}static empty(){return new rp(ep.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ep.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ep.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rp(new ep(e.slice()))}}class ip{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ip.UNKNOWN_ID=-1;function op(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jf.fromTimestamp(1e9===r?new Xf(n+1,0):new Xf(n,r));return new sp(i,rp.empty(),t)}function ap(e){return new sp(e.readTime,e.key,-1)}class sp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sp(Jf.min(),rp.empty(),-1)}static max(){return new sp(Jf.max(),rp.empty(),-1)}}function lp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=rp.comparator(e.documentKey,t.documentKey),0!==n?n:$f(e.largestBatchId,t.largestBatchId))}const cp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class up{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function dp(e){if(e.code!==jf.FAILED_PRECONDITION||e.message!==cp)throw e;Nf("LocalStore","Unexpectedly lost primary lease")}class hp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hp?t:hp.resolve(t)}catch(e){return hp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hp.reject(t)}static resolve(e){return new hp((t,n)=>{t(e)})}static reject(e){return new hp((t,n)=>{n(e)})}static waitFor(e){return new hp((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=hp.resolve(!1);for(const n of e)t=t.next(e=>e?hp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new hp((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new hp((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function fp(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pp(e){return"IndexedDbTransactionError"===e.name}class mp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function gp(e){return null==e}function vp(e){return 0===e&&1/e==-1/0}function yp(e){return"number"==typeof e&&Number.isInteger(e)&&!vp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}mp.oe=-1;const bp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xp=wp,Ep=[...xp,"indexConfiguration","indexState","indexEntries"];function Sp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ip(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Cp{constructor(e,t){this.comparator=e,this.root=t||kp.EMPTY}insert(e,t){return new Cp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kp.BLACK,null,null))}remove(e){return new Cp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:kp.RED,this.left=null!=r?r:kp.EMPTY,this.right=null!=i?i:kp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new kp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return kp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rf();if(this.right.isRed())throw Rf();const e=this.left.check();if(e!==this.right.check())throw Rf();return e+(this.isRed()?0:1)}}kp.EMPTY=null,kp.RED=!0,kp.BLACK=!1,kp.EMPTY=new class{constructor(){this.size=0}get key(){throw Rf()}get value(){throw Rf()}get color(){throw Rf()}get left(){throw Rf()}get right(){throw Rf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new kp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Np{constructor(e){this.comparator=e,this.data=new Cp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ap(this.data.getIterator())}getIteratorFrom(e){return new Ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Np))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Np(this.comparator);return t.data=e,t}}class Ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pp{constructor(e){this.fields=e,e.sort(np.comparator)}static empty(){return new Pp([])}unionWith(e){let t=new Np(np.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Pp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yf(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Dp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Dp("Invalid base64 string: "+e):e}}(e);return new Rp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Rp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $f(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rp.EMPTY_BYTE_STRING=new Rp("");const Op=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lp(e){if(Of(!!e),"string"==typeof e){let t=0;const n=Op.exec(e);if(Of(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jp(e.seconds),nanos:jp(e.nanos)}}function jp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mp(e){return"string"==typeof e?Rp.fromBase64String(e):Rp.fromUint8Array(e)}function Fp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bp(e){const t=e.mapValue.fields.__previous_value__;return Fp(t)?Bp(t):t}function Vp(e){const t=Lp(e.mapValue.fields.__local_write_time__.timestampValue);return new Xf(t.seconds,t.nanos)}class Up{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class zp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zp&&e.projectId===this.projectId&&e.database===this.database}}const qp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fp(e)?4:am(e)?9007199254740991:im(e)?10:11:Rf()}function Hp(e,t){if(e===t)return!0;const n=Gp(e);if(n!==Gp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vp(e).isEqual(Vp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Lp(e.timestampValue),r=Lp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mp(e.bytesValue).isEqual(Mp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jp(e.geoPointValue.latitude)===jp(t.geoPointValue.latitude)&&jp(e.geoPointValue.longitude)===jp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jp(e.integerValue)===jp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jp(e.doubleValue),r=jp(t.doubleValue);return n===r?vp(n)===vp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yf(e.arrayValue.values||[],t.arrayValue.values||[],Hp);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Sp(n)!==Sp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hp(n[i],r[i])))return!1;return!0}(e,t);default:return Rf()}}function Wp(e,t){return void 0!==(e.values||[]).find(e=>Hp(e,t))}function Kp(e,t){if(e===t)return 0;const n=Gp(e),r=Gp(t);if(n!==r)return $f(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $f(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jp(e.integerValue||e.doubleValue),r=jp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qp(e.timestampValue,t.timestampValue);case 4:return Qp(Vp(e),Vp(t));case 5:return $f(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Mp(e),r=Mp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$f(n[i],r[i]);if(0!==e)return e}return $f(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$f(jp(e.latitude),jp(t.latitude));return 0!==n?n:$f(jp(e.longitude),jp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $p(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=$f((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:$p(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qp.mapValue&&t===qp.mapValue)return 0;if(e===qp.mapValue)return 1;if(t===qp.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=$f(r[a],o[a]);if(0!==e)return e;const t=Kp(n[r[a]],i[o[a]]);if(0!==t)return t}return $f(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Rf()}}function Qp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $f(e,t);const n=Lp(e),r=Lp(t),i=$f(n.seconds,r.seconds);return 0!==i?i:$f(n.nanos,r.nanos)}function $p(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Kp(n[i],r[i]);if(e)return e}return $f(n.length,r.length)}function Yp(e){return Xp(e)}function Xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Lp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Mp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return rp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xp(e.fields[i]));return n+"}"}(e.mapValue):Rf()}function Jp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zp(e){return!!e&&"integerValue"in e}function em(e){return!!e&&"arrayValue"in e}function tm(e){return!!e&&"nullValue"in e}function nm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rm(e){return!!e&&"mapValue"in e}function im(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function om(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ip(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=om(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=om(e.arrayValue.values[n]);return t}return Object.assign({},e)}function am(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class sm{constructor(e){this.value=e}static empty(){return new sm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=om(t)}setAll(e){let t=np.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=om(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ip(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new sm(om(this.value))}}function lm(e){const t=[];return Ip(e.fields,(e,n)=>{const r=new np([e]);if(rm(n)){const e=lm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Pp(t)}class cm{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cm(e,0,Jf.min(),Jf.min(),Jf.min(),sm.empty(),0)}static newFoundDocument(e,t,n,r){return new cm(e,1,t,Jf.min(),n,r,0)}static newNoDocument(e,t){return new cm(e,2,t,Jf.min(),Jf.min(),sm.empty(),0)}static newUnknownDocument(e,t){return new cm(e,3,t,Jf.min(),Jf.min(),sm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cm(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class um{constructor(e,t){this.position=e,this.inclusive=t}}function dm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?rp.comparator(rp.fromName(a.referenceValue),n.key):Kp(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hp(e.position[n],t.position[n]))return!1;return!0}class fm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mm{}class gm extends mm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Im(e,t,n):"array-contains"===t?new km(e,n):"in"===t?new Nm(e,n):"not-in"===t?new Am(e,n):"array-contains-any"===t?new Pm(e,n):new gm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tm(e,n):new Cm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Kp(t,this.value)):null!==t&&Gp(this.value)===Gp(t)&&this.matchesComparison(Kp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vm extends mm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new vm(e,t)}matches(e){return ym(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ym(e){return"and"===e.op}function bm(e){return wm(e)&&ym(e)}function wm(e){for(const t of e.filters)if(t instanceof vm)return!1;return!0}function xm(e){if(e instanceof gm)return e.field.canonicalString()+e.op.toString()+Yp(e.value);if(bm(e))return e.filters.map(e=>xm(e)).join(",");{const t=e.filters.map(e=>xm(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Em(e,t){return e instanceof gm?function(e,t){return t instanceof gm&&e.op===t.op&&e.field.isEqual(t.field)&&Hp(e.value,t.value)}(e,t):e instanceof vm?function(e,t){return t instanceof vm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Em(n,t.filters[r]),!0)}(e,t):void Rf()}function Sm(e){return e instanceof gm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yp(e.value))}(e):e instanceof vm?function(e){return e.op.toString()+" {"+e.getFilters().map(Sm).join(" ,")+"}"}(e):"Filter"}class Im extends gm{constructor(e,t,n){super(e,t,n),this.key=rp.fromName(n.referenceValue)}matches(e){const t=rp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tm extends gm{constructor(e,t){super(e,"in",t),this.keys=_m("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cm extends gm{constructor(e,t){super(e,"not-in",t),this.keys=_m("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _m(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>rp.fromName(e.referenceValue))}class km extends gm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return em(t)&&Wp(t.arrayValue,this.value)}}class Nm extends gm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wp(this.value.arrayValue,t)}}class Am extends gm{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wp(this.value.arrayValue,t)}}class Pm extends gm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!em(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wp(this.value.arrayValue,e))}}class Dm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Rm(e){return new Dm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Om(e){const t=Lf(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xm(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),gp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Yp(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Yp(e)).join(",")),t.ue=e}return t.ue}function Lm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Em(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hm(e.startAt,t.startAt)&&hm(e.endAt,t.endAt)}function jm(e){return rp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Mm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fm(e,t,n,r,i,o,a,s){return new Mm(e,t,n,r,i,o,a,s)}function Bm(e){return new Mm(e)}function Vm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Um(e){return null!==e.collectionGroup}function zm(e){const t=Lf(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Np(np.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new fm(r,n))}),e.has(np.keyField().canonicalString())||t.ce.push(new fm(np.keyField(),n))}return t.ce}function qm(e){const t=Lf(e);return t.le||(t.le=Gm(t,zm(e))),t.le}function Gm(e,t){if("F"===e.limitType)return Rm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new fm(e.field,t)});const n=e.endAt?new um(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new um(e.startAt.position,e.startAt.inclusive):null;return Rm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hm(e,t){const n=e.filters.concat([t]);return new Mm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wm(e,t,n){return new Mm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Km(e,t){return Lm(qm(e),qm(t))&&e.limitType===t.limitType}function Qm(e){return"".concat(Om(qm(e)),"|lt:").concat(e.limitType)}function $m(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Sm(e)).join(", "),"]")),gp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Yp(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Yp(e)).join(",")),"Target(".concat(t,")")}(qm(e)),"; limitType=").concat(e.limitType,")")}function Ym(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=dm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zm(e),t))&&!(e.endAt&&!function(e,t,n){const r=dm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zm(e),t))}(e,t)}function Xm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jm(e){return(t,n)=>{let r=!1;for(const i of zm(e)){const e=Zm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zm(e,t,n){const r=e.field.isKeyField()?rp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kp(r,i):Rf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rf()}}class eg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ip(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Tp(this.inner)}size(){return this.innerSize}}const tg=new Cp(rp.comparator);function ng(){return tg}const rg=new Cp(rp.comparator);function ig(){let e=rg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function og(e){let t=rg;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ag(){return lg()}function sg(){return lg()}function lg(){return new eg(e=>e.toString(),(e,t)=>e.isEqual(t))}const cg=new Cp(rp.comparator),ug=new Np(rp.comparator);function dg(){let e=ug;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hg=new Np($f);function fg(){return hg}function pg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(t)?"-0":t}}function mg(e){return{integerValue:""+e}}function gg(e,t){return yp(t)?mg(t):pg(e,t)}class vg{constructor(){this._=void 0}}function yg(e,t,n){return e instanceof xg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fp(t)&&(t=Bp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Eg?Sg(e,t):e instanceof Ig?Tg(e,t):function(e,t){const n=wg(e,t),r=_g(n)+_g(e.Pe);return Zp(n)&&Zp(e.Pe)?mg(r):pg(e.serializer,r)}(e,t)}function bg(e,t,n){return e instanceof Eg?Sg(e,t):e instanceof Ig?Tg(e,t):n}function wg(e,t){return e instanceof Cg?function(e){return Zp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xg extends vg{}class Eg extends vg{constructor(e){super(),this.elements=e}}function Sg(e,t){const n=kg(t);for(const r of e.elements)n.some(e=>Hp(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ig extends vg{constructor(e){super(),this.elements=e}}function Tg(e,t){let n=kg(t);for(const r of e.elements)n=n.filter(e=>!Hp(e,r));return{arrayValue:{values:n}}}class Cg extends vg{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function _g(e){return jp(e.integerValue||e.doubleValue)}function kg(e){return em(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ng{constructor(e,t){this.version=e,this.transformResults=t}}class Ag{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ag}static exists(e){return new Ag(void 0,e)}static updateTime(e){return new Ag(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Dg{}function Rg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qg(e.key,Ag.none()):new Fg(e.key,e.data,Ag.none());{const n=e.data,r=sm.empty();let i=new Np(np.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Bg(e.key,r,new Pp(i.toArray()),Ag.none())}}function Og(e,t,n){e instanceof Fg?function(e,t,n){const r=e.value.clone(),i=Ug(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bg?function(e,t,n){if(!Pg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ug(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lg(e,t,n,r){return e instanceof Fg?function(e,t,n,r){if(!Pg(e.precondition,t))return n;const i=e.value.clone(),o=zg(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bg?function(e,t,n,r){if(!Pg(e.precondition,t))return n;const i=zg(e.fieldTransforms,r,t),o=t.data;return o.setAll(Vg(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Pg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wg(r.transform,e||null);null!=i&&(null===n&&(n=sm.empty()),n.set(r.field,i))}return n||null}function Mg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yf(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eg&&t instanceof Eg||e instanceof Ig&&t instanceof Ig?Yf(e.elements,t.elements,Hp):e instanceof Cg&&t instanceof Cg?Hp(e.Pe,t.Pe):e instanceof xg&&t instanceof xg}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fg extends Dg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bg extends Dg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vg(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ug(e,t,n){const r=new Map;Of(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,bg(a,s,n[i]))}return r}function zg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,yg(e,o,t))}return r}class qg extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gg extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Og(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Lg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Lg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=sg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Rg(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Jf.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dg())}isEqual(e){return this.batchId===e.batchId&&Yf(this.mutations,e.mutations,(e,t)=>Mg(e,t))&&Yf(this.baseMutations,e.baseMutations,(e,t)=>Mg(e,t))}}class Wg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Of(e.mutations.length===n.length);let r=cg;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Wg(e,t,n,r)}}class Kg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var $g,Yg;function Xg(e){switch(e){default:return Rf();case jf.CANCELLED:case jf.UNKNOWN:case jf.DEADLINE_EXCEEDED:case jf.RESOURCE_EXHAUSTED:case jf.INTERNAL:case jf.UNAVAILABLE:case jf.UNAUTHENTICATED:return!1;case jf.INVALID_ARGUMENT:case jf.NOT_FOUND:case jf.ALREADY_EXISTS:case jf.PERMISSION_DENIED:case jf.FAILED_PRECONDITION:case jf.ABORTED:case jf.OUT_OF_RANGE:case jf.UNIMPLEMENTED:case jf.DATA_LOSS:return!0}}function Jg(e){if(void 0===e)return Af("GRPC error has no .code"),jf.UNKNOWN;switch(e){case $g.OK:return jf.OK;case $g.CANCELLED:return jf.CANCELLED;case $g.UNKNOWN:return jf.UNKNOWN;case $g.DEADLINE_EXCEEDED:return jf.DEADLINE_EXCEEDED;case $g.RESOURCE_EXHAUSTED:return jf.RESOURCE_EXHAUSTED;case $g.INTERNAL:return jf.INTERNAL;case $g.UNAVAILABLE:return jf.UNAVAILABLE;case $g.UNAUTHENTICATED:return jf.UNAUTHENTICATED;case $g.INVALID_ARGUMENT:return jf.INVALID_ARGUMENT;case $g.NOT_FOUND:return jf.NOT_FOUND;case $g.ALREADY_EXISTS:return jf.ALREADY_EXISTS;case $g.PERMISSION_DENIED:return jf.PERMISSION_DENIED;case $g.FAILED_PRECONDITION:return jf.FAILED_PRECONDITION;case $g.ABORTED:return jf.ABORTED;case $g.OUT_OF_RANGE:return jf.OUT_OF_RANGE;case $g.UNIMPLEMENTED:return jf.UNIMPLEMENTED;case $g.DATA_LOSS:return jf.DATA_LOSS;default:return Rf()}}(Yg=$g||($g={}))[Yg.OK=0]="OK",Yg[Yg.CANCELLED=1]="CANCELLED",Yg[Yg.UNKNOWN=2]="UNKNOWN",Yg[Yg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yg[Yg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yg[Yg.NOT_FOUND=5]="NOT_FOUND",Yg[Yg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yg[Yg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yg[Yg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yg[Yg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yg[Yg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yg[Yg.ABORTED=10]="ABORTED",Yg[Yg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yg[Yg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yg[Yg.INTERNAL=13]="INTERNAL",Yg[Yg.UNAVAILABLE=14]="UNAVAILABLE",Yg[Yg.DATA_LOSS=15]="DATA_LOSS";let Zg=null;function ev(){return new TextEncoder}const tv=new uf([4294967295,4294967295],0);function nv(e){const t=ev().encode(e),n=new df;return n.update(t),new Uint8Array(n.digest())}function rv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new uf([n,r],0),new uf([i,o],0)]}class iv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ov("Invalid padding: ".concat(t));if(n<0)throw new ov("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ov("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ov("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=uf.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(uf.fromNumber(n)));return 1===r.compare(tv)&&(r=new uf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=nv(e),[n,r]=rv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new iv(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Ie)return;const t=nv(e),[n,r]=rv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ov extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class av{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,sv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new av(Jf.min(),r,new Cp($f),ng(),dg())}}class sv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new sv(n,t,dg(),dg(),dg())}}class lv{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class cv{constructor(e,t){this.targetId=e,this.me=t}}class uv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dv{constructor(){this.fe=0,this.ge=pv(),this.pe=Rp.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=dg(),t=dg(),n=dg();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rf()}}),new sv(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=pv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Of(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hv{constructor(e){this.Le=e,this.Be=new Map,this.ke=ng(),this.qe=fv(),this.Qe=new Cp($f)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Rf()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(jm(i))if(0===n){const e=new rp(i.path);this.Ue(t,e,cm.newNoDocument(e,Jf.min()))}else Of(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Zg||Zg.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Mp(n).toUint8Array()}catch(e){if(e instanceof Dp)return Pf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new iv(o,r,i)}catch(e){return Pf(e instanceof ov?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&jm(i.target)){const t=new rp(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,cm.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=dg();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new av(e,t,this.Qe,this.ke,n);return this.ke=ng(),this.qe=fv(),this.Qe=new Cp($f),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new dv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Np($f),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Nf("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fv(){return new Cp(rp.comparator)}function pv(){return new Cp(rp.comparator)}const mv={asc:"ASCENDING",desc:"DESCENDING"},gv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vv={and:"AND",or:"OR"};class yv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bv(e,t){return e.useProto3Json||gp(t)?t:{value:t}}function wv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ev(e,t){return wv(e,t.toTimestamp())}function Sv(e){return Of(!!e),Jf.fromTimestamp(function(e){const t=Lp(e);return new Xf(t.seconds,t.nanos)}(e))}function Iv(e,t){return Tv(e,t).canonicalString()}function Tv(e,t){const n=function(e){return new ep(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cv(e){const t=ep.fromString(e);return Of(Wv(t)),t}function _v(e,t){return Iv(e.databaseId,t.path)}function kv(e,t){const n=Cv(t);if(n.get(1)!==e.databaseId.projectId)throw new Mf(jf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mf(jf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rp(Dv(n))}function Nv(e,t){return Iv(e.databaseId,t)}function Av(e){const t=Cv(e);return 4===t.length?ep.emptyPath():Dv(t)}function Pv(e){return new ep(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dv(e){return Of(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rv(e,t,n){return{name:_v(e,t),fields:n.value.mapValue.fields}}function Ov(e,t){let n;if(t instanceof Fg)n={update:Rv(e,t.key,t.value)};else if(t instanceof qg)n={delete:_v(e,t.key)};else if(t instanceof Bg)n={update:Rv(e,t.key,t.data),updateMask:Hv(t.fieldMask)};else{if(!(t instanceof Gg))return Rf();n={verify:_v(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof xg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ig)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cg)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Rf()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ev(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rf()}(e,t.precondition)),n}function Lv(e,t){return{documents:[Nv(e,t.path)]}}function jv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nv(e,i);const o=function(e){if(0!==e.length)return Gv(vm.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:zv(e.field),direction:Bv(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=bv(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Mv(e){let t=Av(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Of(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Fv(e);return t instanceof vm&&bm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new fm(qv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,gp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new um(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new um(n,t)}(n.endAt)),Fm(t,i,a,o,s,"F",l,c)}function Fv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qv(e.unaryFilter.field);return gm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qv(e.unaryFilter.field);return gm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qv(e.unaryFilter.field);return gm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qv(e.unaryFilter.field);return gm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rf()}}(e):void 0!==e.fieldFilter?function(e){return gm.create(qv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vm.create(e.compositeFilter.filters.map(e=>Fv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rf()}}(e.compositeFilter.op))}(e):Rf()}function Bv(e){return mv[e]}function Vv(e){return gv[e]}function Uv(e){return vv[e]}function zv(e){return{fieldPath:e.canonicalString()}}function qv(e){return np.fromServerFormat(e.fieldPath)}function Gv(e){return e instanceof gm?function(e){if("=="===e.op){if(nm(e.value))return{unaryFilter:{field:zv(e.field),op:"IS_NAN"}};if(tm(e.value))return{unaryFilter:{field:zv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nm(e.value))return{unaryFilter:{field:zv(e.field),op:"IS_NOT_NAN"}};if(tm(e.value))return{unaryFilter:{field:zv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zv(e.field),op:Vv(e.op),value:e.value}}}(e):e instanceof vm?function(e){const t=e.getFilters().map(e=>Gv(e));return 1===t.length?t[0]:{compositeFilter:{op:Uv(e.op),filters:t}}}(e):Rf()}function Hv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Kv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jf.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Rp.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Kv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qv{constructor(e){this.ct=e}}function $v(e){const t=Mv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wm(t,t.limit,"L"):t}class Yv{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(jp(e.integerValue));else if("doubleValue"in e){const n=jp(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),vp(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Lp(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Mp(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?am(e)?this.dt(t,Number.MAX_SAFE_INTEGER):im(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Rf()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(jp(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),rp.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Yv.vt=new Yv;class Xv{constructor(){this.un=new Jv}addToCollectionParentIndex(e,t){return this.un.add(t),hp.resolve()}getCollectionParents(e,t){return hp.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return hp.resolve()}deleteFieldIndex(e,t){return hp.resolve()}deleteAllFieldIndexes(e){return hp.resolve()}createTargetIndexes(e,t){return hp.resolve()}getDocumentsMatchingTarget(e,t){return hp.resolve(null)}getIndexType(e,t){return hp.resolve(0)}getFieldIndexes(e,t){return hp.resolve([])}getNextCollectionGroupToUpdate(e){return hp.resolve(null)}getMinOffset(e,t){return hp.resolve(sp.min())}getMinOffsetFromCollectionGroup(e,t){return hp.resolve(sp.min())}updateCollectionGroup(e,t,n){return hp.resolve()}updateIndexEntries(e,t){return hp.resolve()}}class Jv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Np(ep.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Np(ep.comparator)).toArray()}}new Uint8Array(0);class Zv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Zv(e,Zv.DEFAULT_COLLECTION_PERCENTILE,Zv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zv.DEFAULT_COLLECTION_PERCENTILE=10,Zv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zv.DEFAULT=new Zv(41943040,Zv.DEFAULT_COLLECTION_PERCENTILE,Zv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zv.DISABLED=new Zv(-1,0,0);class ey{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ey(0)}static kn(){return new ey(-1)}}class ty{constructor(){this.changes=new eg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cm.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ny{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ry{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Lg(n.mutation,e,Pp.empty(),Xf.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,dg()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dg();const r=ag();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ig();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ag();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,dg()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ng();const o=lg(),a=lg();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Bg)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Lg(a.mutation,t,a.mutation.getFieldMask(),Xf.now())):o.set(t.key,Pp.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ny(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=lg();let r=new Cp((e,t)=>e-t),i=dg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Pp.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||dg()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=sg();l.forEach(e=>{if(!i.has(e)){const r=Rg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hp.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return rp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Um(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hp.resolve(ag());let a=-1,s=i;return o.next(t=>hp.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?hp.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,dg())).next(e=>({batchId:a,changes:og(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rp(t)).next(e=>{let t=ig();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ig();return this.indexManager.getCollectionParents(e,i).next(a=>hp.forEach(a,a=>{const s=function(e,t){return new Mm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cm.newInvalidDocument(r)))});let n=ig();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Lg(o.mutation,r,Pp.empty(),Xf.now()),Ym(t,r)&&(n=n.insert(e,r))}),n})}}class iy{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return hp.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Sv(e.createTime)}}(t)),hp.resolve()}getNamedQuery(e,t){return hp.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:$v(e.bundledQuery),readTime:Sv(e.readTime)}}(t)),hp.resolve()}}class oy{constructor(){this.overlays=new Cp(rp.comparator),this.Ir=new Map}getOverlay(e,t){return hp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ag();return hp.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),hp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),hp.resolve()}getOverlaysForCollection(e,t,n){const r=ag(),i=t.length+1,o=new rp(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Cp((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ag(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ag(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return hp.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kg(t,n));let i=this.Ir.get(t);void 0===i&&(i=dg(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class ay{constructor(){this.sessionToken=Rp.EMPTY_BYTE_STRING}getSessionToken(e){return hp.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hp.resolve()}}class sy{constructor(){this.Tr=new Np(ly.Er),this.dr=new Np(ly.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ly(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new ly(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new rp(new ep([])),n=new ly(t,e),r=new ly(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new rp(new ep([])),n=new ly(t,e),r=new ly(t,e+1);let i=dg();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ly(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ly{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return rp.comparator(e.key,t.key)||$f(e.wr,t.wr)}static Ar(e,t){return $f(e.wr,t.wr)||rp.comparator(e.key,t.key)}}class cy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Np(ly.Er)}checkEmpty(e){return hp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hg(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ly(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return hp.resolve(o)}lookupMutationBatch(e,t){return hp.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return hp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hp.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return hp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ly(t,0),r=new ly(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),hp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Np($f);return t.forEach(e=>{const t=new ly(e,0),r=new ly(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),hp.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;rp.isDocumentKey(i)||(i=i.child(""));const o=new ly(new rp(i),0);let a=new Np($f);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},o),hp.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Of(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return hp.forEach(t.mutations,r=>{const i=new ly(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new ly(t,0),r=this.br.firstAfterOrEqual(n);return hp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hp.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uy{constructor(e){this.Mr=e,this.docs=new Cp(rp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hp.resolve(n?n.document.mutableCopy():cm.newInvalidDocument(t))}getEntries(e,t){let n=ng();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cm.newInvalidDocument(e))}),hp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ng();const o=t.path,a=new rp(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||lp(ap(a),n)<=0||(r.has(a.key)||Ym(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return hp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Rf()}Or(e,t){return hp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new dy(this)}getSize(e){return hp.resolve(this.size)}}class dy extends ty{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),hp.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class hy{constructor(e){this.persistence=e,this.Nr=new eg(e=>Om(e),Lm),this.lastRemoteSnapshotVersion=Jf.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sy,this.targetCount=0,this.kr=ey.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),hp.resolve()}getLastRemoteSnapshotVersion(e){return hp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hp.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),hp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),hp.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ey(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,hp.resolve()}updateTargetData(e,t){return this.Kn(t),hp.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,hp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),hp.waitFor(i).next(()=>r)}getTargetCount(e){return hp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return hp.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),hp.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),hp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return hp.resolve(n)}containsKey(e,t){return hp.resolve(this.Br.containsKey(t))}}class fy{constructor(e,t){this.qr={},this.overlays={},this.Qr=new mp(0),this.Kr=!1,this.Kr=!0,this.$r=new ay,this.referenceDelegate=e(this),this.Ur=new hy(this),this.indexManager=new Xv,this.remoteDocumentCache=function(e){return new uy(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Qv(t),this.Gr=new iy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new cy(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Nf("MemoryPersistence","Starting transaction:",e);const r=new py(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return hp.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class py extends up{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Jr=new sy,this.Yr=null}static Zr(e){return new my(e)}get Xr(){if(this.Yr)return this.Yr;throw Rf()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),hp.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),hp.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),hp.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hp.forEach(this.Xr,n=>{const r=rp.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,Jf.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return hp.or([()=>hp.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class gy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=dg(),r=dg();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gy(e,t.fromCache,n,r)}}class vy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yy{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=sl()?8:fp(ol())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new vy;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(kf()<=_l.DEBUG&&Nf("QueryEngine","SDK will not create cache indexes for query:",$m(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),hp.resolve()):(kf()<=_l.DEBUG&&Nf("QueryEngine","Query:",$m(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(kf()<=_l.DEBUG&&Nf("QueryEngine","The SDK decides to create cache indexes for query:",$m(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qm(t))):hp.resolve())}Yi(e,t){if(Vm(t))return hp.resolve(null);let n=qm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wm(t,null,"F"),n=qm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=dg(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Wm(t,null,"F")):this.rs(e,o,t,n)}))})))}Zi(e,t,n,r){return Vm(t)||r.isEqual(Jf.min())?hp.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?hp.resolve(null):(kf()<=_l.DEBUG&&Nf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$m(t)),this.rs(e,o,t,op(r,-1)).next(e=>e))})}ts(e,t){let n=new Np(Jm(e));return t.forEach((t,r)=>{Ym(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return kf()<=_l.DEBUG&&Nf("QueryEngine","Using full collection scan to execute query:",$m(t)),this.Ji.getDocumentsMatchingQuery(e,t,sp.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class by{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Cp($f),this._s=new eg(e=>Om(e),Lm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ry(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function wy(e,t,n,r){return new by(e,t,n,r)}async function xy(e,t){const n=Lf(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=dg();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:o}))})})}function Ey(e){const t=Lf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function Sy(e,t,n){let r=dg(),i=dg();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ng();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Jf.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Nf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ps:r,Is:i}})}function Iy(e,t){const n=Lf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ty(e,t){const n=Lf(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,hp.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Kv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Cy(e,t,n){const r=Lf(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!pp(e))throw e;Nf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function _y(e,t,n){const r=Lf(e);let i=Jf.min(),o=dg();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Lf(e),i=r._s.get(n);return void 0!==i?hp.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,qm(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Jf.min(),n?o:dg())).next(e=>(ky(r,Xm(t),e),{documents:e,Ts:o})))}function ky(e,t,n){let r=e.us.get(t)||Jf.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Ny{constructor(){this.activeTargetIds=fg()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ay{constructor(){this.so=new Ny,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ny,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Py{_o(e){}shutdown(){}}class Dy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Nf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Nf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ry=null;function Oy(){return null===Ry?Ry=268435456+Math.round(2147483648*Math.random()):Ry++,"0x"+Ry.toString(16)}const Ly={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jy{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const My="WebChannelConnection";class Fy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const o=Oy(),a=this.xo(e,t.toUriEncodedString());Nf("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then(t=>(Nf("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Pf("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Ly[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Oy();return new Promise((o,a)=>{const s=new pf;s.setWithCredentials(!0),s.listenOnce(gf.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case vf.NO_ERROR:const t=s.getResponseJson();Nf(My,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case vf.TIMEOUT:Nf(My,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Mf(jf.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const n=s.getStatus();if(Nf(My,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jf).indexOf(t)>=0?t:jf.UNKNOWN}(t.status);a(new Mf(e,t.message))}else a(new Mf(jf.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Mf(jf.UNAVAILABLE,"Connection failed."));break;default:Rf()}}finally{Nf(My,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Nf(My,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Oy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xf(),a=wf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Nf(My,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new jy({Io:t=>{h?Nf(My,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Nf(My,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Nf(My,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,mf.EventType.OPEN,()=>{h||(Nf(My,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,mf.EventType.CLOSE,()=>{h||(h=!0,Nf(My,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,mf.EventType.ERROR,t=>{h||(h=!0,Pf(My,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new Mf(jf.UNAVAILABLE,"The operation could not be completed")))}),p(u,mf.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Of(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Nf(My,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=$g[e];if(void 0!==t)return Jg(t)}(t),i=a.message;void 0===n&&(n=jf.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Mf(n,i)),u.close()}else Nf(My,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,bf.STAT_EVENT,t=>{t.stat===yf.PROXY?Nf(My,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===yf.NOPROXY&&Nf(My,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function By(){return"undefined"!=typeof document?document:null}function Vy(e){return new yv(e,!0)}class Uy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Nf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zy{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uy(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===jf.RESOURCE_EXHAUSTED?(Af(t.toString()),Af("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===jf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Mf(jf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Nf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Nf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qy extends zy{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Of(void 0===t||"string"==typeof t),Rp.fromBase64String(t||"")):(Of(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Rp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?jf.UNKNOWN:Jg(e.code);return new Mf(t,e.message||"")}(a);n=new uv(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kv(e,r.document.name),o=Sv(r.document.updateTime),a=r.document.createTime?Sv(r.document.createTime):Jf.min(),s=new sm({mapValue:{fields:r.document.fields}}),l=cm.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kv(e,r.document),o=r.readTime?Sv(r.readTime):Jf.min(),a=cm.newNoDocument(i,o),s=r.removedTargetIds||[];n=new lv([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kv(e,r.document),o=r.removedTargetIds||[];n=new lv([],o,i,null)}else{if(!("filter"in t))return Rf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Qg(r,i),a=e.targetId;n=new cv(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jf.min():t.readTime?Sv(t.readTime):Jf.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Pv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=jm(r)?{documents:Lv(e,r)}:{query:jv(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xv(e,t.resumeToken);const r=bv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jf.min())>0){n.readTime=wv(e,t.snapshotVersion.toTimestamp());const r=bv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Pv(this.serializer),t.removeTarget=e,this.a_(t)}}class Gy extends zy{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Of(!!e.streamToken),this.lastStreamToken=e.streamToken,Of(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Of(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Of(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Sv(e.updateTime):Sv(t);return n.isEqual(Jf.min())&&(n=Sv(t)),new Ng(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Sv(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Pv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ov(this.serializer,e))};this.a_(t)}}class Hy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Mf(jf.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Mo(e,Tv(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===jf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mf(jf.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Lo(e,Tv(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===jf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mf(jf.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Af(t),this.D_=!1):Nf("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ky{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{nb(this)&&(Nf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lf(e);t.L_.add(4),await $y(t),t.q_.set("Unknown"),t.L_.delete(4),await Qy(t)}(this))})}),this.q_=new Wy(n,r)}}async function Qy(e){if(nb(e))for(const t of e.B_)await t(!0)}async function $y(e){for(const t of e.B_)await t(!1)}function Yy(e,t){const n=Lf(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),tb(n)?eb(n):xb(n).r_()&&Jy(n,t))}function Xy(e,t){const n=Lf(e),r=xb(n);n.N_.delete(t),r.r_()&&Zy(n,t),0===n.N_.size&&(r.r_()?r.o_():nb(n)&&n.q_.set("Unknown"))}function Jy(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xb(e).A_(t)}function Zy(e,t){e.Q_.xe(t),xb(e).R_(t)}function eb(e){e.Q_=new hv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),xb(e).start(),e.q_.v_()}function tb(e){return nb(e)&&!xb(e).n_()&&e.N_.size>0}function nb(e){return 0===Lf(e).L_.size}function rb(e){e.Q_=void 0}async function ib(e){e.q_.set("Online")}async function ob(e){e.N_.forEach((t,n)=>{Jy(e,t)})}async function ab(e,t){rb(e),tb(e)?(e.q_.M_(t),eb(e)):e.q_.set("Unknown")}async function sb(e,t,n){if(e.q_.set("Online"),t instanceof uv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Nf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lb(e,n)}else if(t instanceof lv?e.Q_.Ke(t):t instanceof cv?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Jf.min()))try{const t=await Ey(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Rp.EMPTY_BYTE_STRING,r.snapshotVersion)),Zy(e,t);const i=new Kv(r.target,t,n,r.sequenceNumber);Jy(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Nf("RemoteStore","Failed to raise snapshot:",t),await lb(e,t)}}async function lb(e,t,n){if(!pp(t))throw t;e.L_.add(1),await $y(e),e.q_.set("Offline"),n||(n=()=>Ey(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Nf("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Qy(e)})}function cb(e,t){return t().catch(n=>lb(e,n,t))}async function ub(e){const t=Lf(e),n=Eb(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;db(t);)try{const e=await Iy(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,hb(t,e)}catch(e){await lb(t,e)}fb(t)&&pb(t)}function db(e){return nb(e)&&e.O_.length<10}function hb(e,t){e.O_.push(t);const n=Eb(e);n.r_()&&n.V_&&n.m_(t.mutations)}function fb(e){return nb(e)&&!Eb(e).n_()&&e.O_.length>0}function pb(e){Eb(e).start()}async function mb(e){Eb(e).p_()}async function gb(e){const t=Eb(e);for(const n of e.O_)t.m_(n.mutations)}async function vb(e,t,n){const r=e.O_.shift(),i=Wg.from(r,t,n);await cb(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ub(e)}async function yb(e,t){t&&Eb(e).V_&&await async function(e,t){if(function(e){return Xg(e)&&e!==jf.ABORTED}(t.code)){const n=e.O_.shift();Eb(e).s_(),await cb(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ub(e)}}(e,t),fb(e)&&pb(e)}async function bb(e,t){const n=Lf(e);n.asyncQueue.verifyOperationInProgress(),Nf("RemoteStore","RemoteStore received new credentials");const r=nb(n);n.L_.add(3),await $y(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Qy(n)}async function wb(e,t){const n=Lf(e);t?(n.L_.delete(2),await Qy(n)):t||(n.L_.add(2),await $y(n),n.q_.set("Unknown"))}function xb(e){return e.K_||(e.K_=function(e,t,n){const r=Lf(e);return r.w_(),new qy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:ib.bind(null,e),Ro:ob.bind(null,e),mo:ab.bind(null,e),d_:sb.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),tb(e)?eb(e):e.q_.set("Unknown")):(await e.K_.stop(),rb(e))})),e.K_}function Eb(e){return e.U_||(e.U_=function(e,t,n){const r=Lf(e);return r.w_(),new Gy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mb.bind(null,e),mo:yb.bind(null,e),f_:gb.bind(null,e),g_:vb.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await ub(e)):(await e.U_.stop(),e.O_.length>0&&(Nf("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class Sb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ff,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Sb(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mf(jf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ib(e,t){if(Af("AsyncQueue","".concat(t,": ").concat(e)),pp(e))return new Mf(jf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||rp.comparator(t.key,n.key):(e,t)=>rp.comparator(e.key,t.key),this.keyedMap=ig(),this.sortedSet=new Cp(this.comparator)}static emptySet(e){return new Tb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Cb{constructor(){this.W_=new Cp(rp.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Rf():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class _b{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new _b(e,t,Tb.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kb{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Nb{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Lf(e),r=n.queries;n.queries=Ab(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Mf(jf.ABORTED,"Firestore shutting down"))}}function Ab(){return new eg(e=>Qm(e),Km)}async function Pb(e,t){const n=Lf(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new kb,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ib(e,"Initialization of query '".concat($m(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Lb(n)}async function Db(e,t){const n=Lf(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rb(e,t){const n=Lf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Lb(n)}function Ob(e,t,n){const r=Lf(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Lb(e){e.Y_.forEach(e=>{e.next()})}var jb,Mb;(Mb=jb||(jb={})).ea="default",Mb.Cache="cache";class Fb{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _b(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=_b.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jb.Cache}}class Bb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class Ub{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=dg(),this.mutatedKeys=dg(),this.Aa=Jm(e),this.Ra=new Tb(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Cb,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ym(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rf()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new _b(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=dg(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Vb(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Bb(n))}),t}ba(e){this.Ta=e.Ts,this.da=dg();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return _b.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class zb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qb{constructor(e){this.key=e,this.va=!1}}class Gb{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new eg(e=>Qm(e),Km),this.Ma=new Map,this.xa=new Set,this.Oa=new Cp(rp.comparator),this.Na=new Map,this.La=new sy,this.Ba={},this.ka=new Map,this.qa=ey.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Hb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hw(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Kb(r,t,n,!0),i}async function Wb(e,t){const n=hw(e);await Kb(n,t,!0,!1)}async function Kb(e,t,n,r){const i=await Ty(e.localStore,qm(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Qb(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Yy(e.remoteStore,i),s}async function Qb(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await _y(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return aw(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await _y(e.localStore,t,!0),a=new Ub(t,o.Ts),s=a.ma(o.documents),l=sv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);aw(e,n,c.wa);const u=new zb(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function $b(e,t,n){const r=Lf(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(e=>!Km(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xy(r.remoteStore,i.targetId),iw(r,i.targetId)}).catch(dp)):(iw(r,i.targetId),await Cy(r.localStore,i.targetId,!0))}async function Yb(e,t){const n=Lf(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(n.remoteStore,r.targetId))}async function Xb(e,t){const n=Lf(e);try{const e=await function(e,t){const n=Lf(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Rp.EMPTY_BYTE_STRING,Jf.min()).withLastLimboFreeSnapshotVersion(Jf.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))});let s=ng(),l=dg();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Sy(e,o,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual(Jf.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return hp.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Of(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Of(r.va):e.removedDocuments.size>0&&(Of(r.va),r.va=!1))}),await cw(n,e,t)}catch(e){await dp(e)}}function Jb(e,t,n){const r=Lf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Lf(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Lb(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zb(e,t,n){const r=Lf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new Cp(rp.comparator);e=e.insert(o,cm.newNoDocument(o,Jf.min()));const n=dg().add(o),i=new av(Jf.min(),new Map,new Cp($f),e,n);await Xb(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),lw(r)}else await Cy(r.localStore,t,!1).then(()=>iw(r,t,n)).catch(dp)}async function ew(e,t){const n=Lf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=hp.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Of(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=dg();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);rw(n,r,null),nw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cw(n,e)}catch(e){await dp(e)}}async function tw(e,t,n){const r=Lf(e);try{const e=await function(e,t){const n=Lf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Of(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);rw(r,t,n),nw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cw(r,e)}catch(n){await dp(n)}}function nw(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function rw(e,t,n){const r=Lf(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function iw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||ow(e,t)})}function ow(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Xy(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),lw(e))}function aw(e,t,n){for(const r of n)r instanceof Bb?(e.La.addReference(r.key,t),sw(e,r)):r instanceof Vb?(Nf("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ow(e,r.key)):Rf()}function sw(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Nf("SyncEngine","New document in limbo: "+n),e.xa.add(r),lw(e))}function lw(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new rp(ep.fromString(t)),r=e.qa.next();e.Na.set(r,new qb(n)),e.Oa=e.Oa.insert(n,r),Yy(e.remoteStore,new Kv(qm(Bm(n.path)),r,"TargetPurposeLimboResolution",mp.oe))}}async function cw(e,t,n){const r=Lf(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{a.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=gy.Wi(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Lf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hp.forEach(t,t=>hp.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hp.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!pp(e))throw e;Nf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function uw(e,t){const n=Lf(e);if(!n.currentUser.isEqual(t)){Nf("SyncEngine","User change. New user:",t.toKey());const e=await xy(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Mf(jf.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cw(n,e.hs)}}function dw(e,t){const n=Lf(e),r=n.Na.get(t);if(r&&r.va)return dg().add(r.key);{let e=dg();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function hw(e){const t=Lf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,t),t.Ca.d_=Rb.bind(null,t.eventManager),t.Ca.$a=Ob.bind(null,t.eventManager),t}function fw(e){const t=Lf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ew.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tw.bind(null,t),t}class pw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return wy(this.persistence,new yy,e.initialUser,this.serializer)}Ga(e){return new fy(my.Zr,this.serializer)}Wa(e){return new Ay}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pw.provider={build:()=>new pw};class mw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=uw.bind(null,this.syncEngine),await wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Nb}createDatastore(e){const t=Vy(e.databaseInfo.databaseId),n=function(e){return new Fy(e)}(e.databaseInfo);return function(e,t,n,r){return new Hy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ky(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Jb(this.syncEngine,e,0),Dy.D()?new Dy:new Py)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Gb(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Lf(e);Nf("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await $y(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mw.provider={build:()=>new mw};class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Af("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class vw{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tf.UNAUTHENTICATED,this.clientId=Qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Nf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Nf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ff;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ib(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function yw(e,t){e.asyncQueue.verifyOperationInProgress(),Nf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await xy(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ww(e);Nf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>bb(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>bb(t.remoteStore,n)),e._onlineComponents=t}async function ww(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Nf("FirestoreClient","Using user provided OfflineComponentProvider");try{await yw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===jf.FAILED_PRECONDITION||e.code===jf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Pf("Error using user provided cache. Falling back to memory cache: "+n),await yw(e,new pw)}}else Nf("FirestoreClient","Using default OfflineComponentProvider"),await yw(e,new pw);return e._offlineComponents}async function xw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Nf("FirestoreClient","Using user provided OnlineComponentProvider"),await bw(e,e._uninitializedComponentsProvider._online)):(Nf("FirestoreClient","Using default OnlineComponentProvider"),await bw(e,new mw))),e._onlineComponents}function Ew(e){return xw(e).then(e=>e.syncEngine)}async function Sw(e){const t=await xw(e),n=t.eventManager;return n.onListen=Hb.bind(null,t.syncEngine),n.onUnlisten=$b.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yb.bind(null,t.syncEngine),n}function Iw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ff;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new gw({next:s=>{o.Za(),t.enqueueAndForget(()=>Db(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Mf(jf.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Mf(jf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Fb(Bm(n.path),o,{includeMetadataChanges:!0,_a:!0});return Pb(e,a)}(await Sw(e),e.asyncQueue,t,n,r)),r.promise}function Tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ff;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new gw({next:n=>{o.Za(),t.enqueueAndForget(()=>Db(e,a)),n.fromCache&&"server"===r.source?i.reject(new Mf(jf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Fb(n,o,{includeMetadataChanges:!0,_a:!0});return Pb(e,a)}(await Sw(e),e.asyncQueue,t,n,r)),r.promise}function Cw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const _w=new Map;function kw(e,t,n){if(!n)throw new Mf(jf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Nw(e){if(!rp.isDocumentKey(e))throw new Mf(jf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Aw(e){if(rp.isDocumentKey(e))throw new Mf(jf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Rf()}function Dw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mf(jf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pw(e);throw new Mf(jf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Rw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Mf(jf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mf(jf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Mf(jf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Mf(jf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Mf(jf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Mf(jf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Mf(jf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mf(jf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vf;switch(e.type){case"firstParty":return new Gf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mf(jf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_w.get(e);t&&(Nf("ComponentProvider","Removing Datastore"),_w.delete(e),t.terminate())}(this),Promise.resolve()}}function Lw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Dw(e,Ow))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Pf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tf.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xs(JSON.stringify({alg:"none",type:"JWT"})),Xs(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Mf(jf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tf(o)}e._authCredentials=new Uf(new Bf(t,n))}}class jw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jw(this.firestore,e,this._query)}}class Mw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mw(this.firestore,e,this._key)}}class Fw extends jw{constructor(e,t,n){super(e,t,Bm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mw(this.firestore,null,new rp(e))}withConverter(e){return new Fw(this.firestore,e,this._path)}}function Bw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xl(e),kw("collection","path",t),e instanceof Ow){const n=ep.fromString(t,...r);return Aw(n),new Fw(e,null,n)}{if(!(e instanceof Mw||e instanceof Fw))throw new Mf(jf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ep.fromString(t,...r));return Aw(n),new Fw(e.firestore,null,n)}}function Vw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xl(e),1===arguments.length&&(t=Qf.newId()),kw("doc","path",t),e instanceof Ow){const n=ep.fromString(t,...r);return Nw(n),new Mw(e,null,new rp(n))}{if(!(e instanceof Mw||e instanceof Fw))throw new Mf(jf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ep.fromString(t,...r));return Nw(n),new Mw(e.firestore,e instanceof Fw?e.converter:null,new rp(n))}}class Uw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Uy(this,"async_queue_retry"),this.Vu=()=>{const e=By();e&&Nf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=By();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=By();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ff;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(CA){if(!pp(CA))throw CA;Nf("AsyncQueue","Operation failed with retryable error: "+CA)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Af("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Sb.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Rf()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class zw extends Ow{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Uw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function qw(e){if(e._terminated)throw new Mf(jf.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gw(e),e._firestoreClient}function Gw(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Up(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Cw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new vw(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Hw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hw(Rp.fromBase64String(e))}catch(e){throw new Mf(jf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hw(Rp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ww{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Mf(jf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new np(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kw{constructor(e){this._methodName=e}}class Qw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mf(jf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mf(jf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $f(this._lat,e._lat)||$f(this._long,e._long)}}class $w{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Yw=/^__.*__$/;class Xw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fg(e,this.data,t,this.fieldTransforms)}}class Jw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rf()}}class ex{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ex(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Zw(this.Cu)&&Yw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vy(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ex({Cu:e,methodName:t,qu:n,path:np.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nx(e){const t=e._freezeSettings(),n=Vy(e._databaseId);return new tx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rx(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);dx("Data must be an object, but it was:",a,r);const s=cx(r,a);let l,c;if(o.merge)l=new Pp(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=hx(t,r,n);if(!a.contains(i))throw new Mf(jf.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));gx(e,i)||e.push(i)}l=new Pp(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Xw(new sm(s),l,c)}class ix extends Kw{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ix}}function ox(e,t,n,r){const i=e.Qu(1,t,n);dx("Data must be an object, but it was:",i,r);const o=[],a=sm.empty();Ip(r,(e,r)=>{const s=px(t,e,n);r=xl(r);const l=i.Nu(s);if(r instanceof ix)o.push(s);else{const e=lx(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new Pp(o);return new Jw(a,s,i.fieldTransforms)}function ax(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[hx(t,r,n)],l=[i];if(o.length%2!=0)throw new Mf(jf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(hx(t,o[h])),l.push(o[h+1]);const c=[],u=sm.empty();for(let h=s.length-1;h>=0;--h)if(!gx(c,s[h])){const e=s[h];let t=l[h];t=xl(t);const n=a.Nu(e);if(t instanceof ix)c.push(e);else{const r=lx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Pp(c);return new Jw(u,d,a.fieldTransforms)}function sx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lx(n,e.Qu(r?4:3,t))}function lx(e,t){if(ux(e=xl(e)))return dx("Unsupported field value:",t,e),cx(e,t);if(e instanceof Kw)return function(e,t){if(!Zw(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lx(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xf.fromDate(e);return{timestampValue:wv(t.serializer,n)}}if(e instanceof Xf){const n=new Xf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wv(t.serializer,n)}}if(e instanceof Qw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hw)return{bytesValue:xv(t.serializer,e._byteString)};if(e instanceof Mw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Iv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $w)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return pg(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Pw(e)))}(e,t)}function cx(e,t){const n={};return Tp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ip(e,(e,r)=>{const i=lx(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ux(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xf||e instanceof Qw||e instanceof Hw||e instanceof Mw||e instanceof Kw||e instanceof $w)}function dx(e,t,n){if(!ux(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Pw(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function hx(e,t,n){if((t=xl(t))instanceof Ww)return t._internalPath;if("string"==typeof t)return px(e,t);throw mx("Field path arguments must be of type string or ",e,!1,void 0,n)}const fx=new RegExp("[~\\*/\\[\\]]");function px(e,t,n){if(t.search(fx)>=0)throw mx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ww(...t.split("."))._internalPath}catch(r){throw mx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mx(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Mf(jf.INVALID_ARGUMENT,s+e+l)}function gx(e,t){return e.some(e=>e.isEqual(t))}class vx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yx extends vx{data(){return super.data()}}function bx(e,t){return"string"==typeof t?px(e,t):t instanceof Ww?t._internalPath:t._delegate._internalPath}function wx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mf(jf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xx{}class Ex extends xx{}class Sx extends Ex{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sx(e,t,n)}_apply(e){const t=this._parse(e);return kx(e._query,t),new jw(e.firestore,e.converter,Hm(e._query,t))}_parse(e){const t=nx(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Mf(jf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){_x(a,o);const t=[];for(const n of a)t.push(Cx(r,e,n));s={arrayValue:{values:t}}}else s=Cx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_x(a,o),s=sx(n,t,a,"in"===o||"not-in"===o);return gm.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ix extends xx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ix(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:vm.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)kx(n,i),n=Hm(n,i)}(e._query,t),new jw(e.firestore,e.converter,Hm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tx extends Ex{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tx(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fm(t,n)}(e._query,this._field,this._direction);return new jw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Mm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Cx(e,t,n){if("string"==typeof(n=xl(n))){if(""===n)throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Um(t)&&-1!==n.indexOf("/"))throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ep.fromString(n));if(!rp.isDocumentKey(r))throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jp(e,new rp(r))}if(n instanceof Mw)return Jp(e,n._key);throw new Mf(jf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Pw(n),"."))}function _x(e,t){if(!Array.isArray(e)||0===e.length)throw new Mf(jf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function kx(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Mf(jf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mf(jf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Nx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Rf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ip(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>jp(e.doubleValue));return new $w(i)}convertGeoPoint(e){return new Qw(jp(e.latitude),jp(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vp(e));default:return null}}convertTimestamp(e){const t=Lp(e);return new Xf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ep.fromString(e);Of(Wv(n));const r=new zp(n.get(1),n.get(3)),i=new rp(n.popFirst(5));return r.isEqual(t)||Af("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ax(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Px{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dx extends vx{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rx extends Dx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ox{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Px(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Rx(this._firestore,this._userDataWriter,n.key,n,new Px(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mf(jf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Rx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Px(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Rx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Px(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Lx(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Lx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rf()}}function jx(e){e=Dw(e,Mw);const t=Dw(e.firestore,zw);return Iw(qw(t),e._key).then(n=>Vx(t,e,n))}class Mx extends Nx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mw(this.firestore,null,t)}}function Fx(e,t,n){e=Dw(e,Mw);const r=Dw(e.firestore,zw),i=Ax(e.converter,t,n);return Bx(r,[rx(nx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ag.none())])}function Bx(e,t){return function(e,t){const n=new Ff;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=fw(e);try{const e=await function(e,t){const n=Lf(e),r=Xf.now(),i=t.reduce((e,t)=>e.add(t.key),dg());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=ng(),l=dg();return n.cs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=jg(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Bg(e.key,t,lm(t.value.mapValue),Ag.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:og(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Cp($f)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await cw(r,e.changes),await ub(r.remoteStore)}catch(e){const t=Ib(e,"Failed to persist write");n.reject(t)}}(await Ew(e),t,n)),n.promise}(qw(e),t)}function Vx(e,t,n){const r=n.docs.get(t._key),i=new Mx(e);return new Dx(e,i,t._key,r,new Px(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cf=e}(Mc),Dc(new El("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new zw(new zf(e.getProvider("auth-internal")),new Wf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mf(jf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Vc(If,"4.7.3",e),Vc(If,"4.7.3","esm2017")}();Vc("firebase","10.14.1","app");const Ux="@firebase/installations",zx="0.6.9",qx=1e4,Gx="w:".concat(zx),Hx="FIS_v2",Wx=36e5,Kx=new dl("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qx(e){return e instanceof ul&&e.code.includes("request-failed")}function $x(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Yx(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Xx(e,t){const n=(await t.json()).error;return Kx.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Jx(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zx(e,t){let{refreshToken:n}=t;const r=Jx(e);return r.append("Authorization",function(e){return"".concat(Hx," ").concat(e)}(n)),r}async function eE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function tE(e){return new Promise(t=>{setTimeout(t,e)})}const nE=/^[cdef][\w-]{21}$/;function rE(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return nE.test(t)?t:""}catch(_A){return""}}function iE(e){return"".concat(e.appName,"!").concat(e.appId)}const oE=new Map;function aE(e,t){const n=iE(e);sE(n,t),function(e,t){const n=cE();n&&n.postMessage({key:e,fid:t});uE()}(n,t)}function sE(e,t){const n=oE.get(e);if(n)for(const r of n)r(t)}let lE=null;function cE(){return!lE&&"BroadcastChannel"in self&&(lE=new BroadcastChannel("[Firebase] FID Change"),lE.onmessage=e=>{sE(e.data.key,e.data.fid)}),lE}function uE(){0===oE.size&&lE&&(lE.close(),lE=null)}const dE="firebase-installations-store";let hE=null;function fE(){return hE||(hE=Hl("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(dE)}})),hE}async function pE(e,t){const n=iE(e),r=(await fE()).transaction(dE,"readwrite"),i=r.objectStore(dE),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||aE(e,t.fid),t}async function mE(e){const t=iE(e),n=(await fE()).transaction(dE,"readwrite");await n.objectStore(dE).delete(t),await n.done}async function gE(e,t){const n=iE(e),r=(await fE()).transaction(dE,"readwrite"),i=r.objectStore(dE),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||aE(e,a.fid),a}async function vE(e){let t;const n=await gE(e.appConfig,n=>{const r=function(e){const t=e||{fid:rE(),registrationStatus:0};return wE(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Kx.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=$x(n),a=Jx(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Hx,appId:n.appId,sdkVersion:Gx},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await eE(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Yx(e.authToken)}}throw await Xx("Create Installation",u)}(e,t);return pE(e.appConfig,n)}catch(CA){throw Qx(CA)&&409===CA.customData.serverCode?await mE(e.appConfig):await pE(e.appConfig,{fid:t.fid,registrationStatus:0}),CA}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:yE(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function yE(e){let t=await bE(e.appConfig);for(;1===t.registrationStatus;)await tE(100),t=await bE(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await vE(e);return n||t}return t}function bE(e){return gE(e,e=>{if(!e)throw Kx.create("installation-not-found");return wE(e)})}function wE(e){return 1===(t=e).registrationStatus&&t.registrationTime+qx<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function xE(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat($x(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Zx(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:Gx,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await eE(()=>fetch(i,l));if(c.ok){return Yx(await c.json())}throw await Xx("Generate Auth Token",c)}async function EE(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await gE(e.appConfig,r=>{if(!IE(r))throw Kx.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wx}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await SE(e.appConfig);for(;1===n.authToken.requestStatus;)await tE(100),n=await SE(e.appConfig);const r=n.authToken;return 0===r.requestStatus?EE(e,t):r}(e,n),r;{if(!navigator.onLine)throw Kx.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await xE(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await pE(e.appConfig,r),n}catch(CA){if(!Qx(CA)||401!==CA.customData.serverCode&&404!==CA.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pE(e.appConfig,n)}else await mE(e.appConfig);throw CA}}(e,n),n}});return t?await t:r.authToken}function SE(e){return gE(e,e=>{if(!IE(e))throw Kx.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+qx<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function IE(e){return void 0!==e&&2===e.registrationStatus}async function TE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await vE(e);t&&await t}(n);return(await EE(n,t)).token}function CE(e){return Kx.create("missing-app-config-values",{valueName:e})}const _E="installations",kE=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw CE("App Configuration");if(!e.name)throw CE("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw CE(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Rc(t,"heartbeat"),_delete:()=>Promise.resolve()}},NE=e=>{const t=Rc(e.getProvider("app").getImmediate(),_E).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await vE(t);return r?r.catch(console.error):EE(t).catch(console.error),n.fid}(t),getToken:e=>TE(t,e)}};Dc(new El(_E,kE,"PUBLIC")),Dc(new El("installations-internal",NE,"PRIVATE")),Vc(Ux,zx),Vc(Ux,zx,"esm2017");const AE="analytics",PE="https://www.googletagmanager.com/gtag/js",DE=new Dl("@firebase/analytics"),RE=new dl("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function OE(e){if(!e.startsWith(PE)){const t=RE.create("invalid-gtag-resource",{gtagURL:e});return DE.warn(t.message),""}return e}function LE(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function jE(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:OE}),r=document.createElement("script"),i="".concat(PE,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ME(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await LE(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(CA){DE.error(CA)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await LE(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(CA){DE.error(CA)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(CA){DE.error(CA)}}}const FE=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function BE(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function VE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw RE.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw RE.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new zE;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),UE({appId:r,apiKey:i,measurementId:o},a,s,t)}async function UE(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:FE;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(RE.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(CA){if(l)return DE.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===CA||void 0===CA?void 0:CA.message,"]")),{appId:s,measurementId:l};throw CA}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:BE(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw RE.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(CA){const r=CA;if(!function(e){if(!(e instanceof ul)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(s),l)return DE.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:l};throw CA}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?wl(i,o.intervalMillis,30):wl(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,u),DE.debug("Calling attemptFetch again in ".concat(c," millis")),UE(e,u,n,o)}}class zE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let qE,GE;function HE(e){GE=e}function WE(e){qE=e}async function KE(e,t,n,r,i,o,a){var s;const l=VE(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&DE.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>DE.error(e)),t.push(l);const c=async function(){if(!ll())return DE.warn(RE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await cl()}catch(CA){return DE.warn(RE.create("indexeddb-unavailable",{errorInfo:null===CA||void 0===CA?void 0:CA.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(PE)&&n.src.includes(e))return n;return null})(o)||jE(o,u.measurementId),GE&&(i("consent","default",GE),HE(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),qE&&(i("set",qE),WE(void 0)),u.measurementId}class QE{constructor(e){this.app=e}_delete(){return delete $E[this.app.options.appId],Promise.resolve()}}let $E={},YE=[];const XE={};let JE,ZE,eS="dataLayer",tS="gtag",nS=!1;function rS(){const e=[];if(al()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=RE.create("invalid-analytics-context",{errorInfo:t});DE.warn(n.message)}}function iS(e,t,n){rS();const r=e.options.appId;if(!r)throw RE.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw RE.create("no-api-key");DE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=$E[r])throw RE.create("already-exists",{id:r});if(!nS){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(eS);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=ME(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}($E,YE,XE,eS,tS);ZE=e,JE=t,nS=!0}$E[r]=KE(e,YE,XE,t,JE,eS,n);return new QE(e)}function oS(e,t,n,r){e=xl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(ZE,$E[e.app.options.appId],t,n,r).catch(e=>DE.error(e))}const aS="@firebase/analytics",sS="0.10.8";Dc(new El(AE,(e,t)=>{let{options:n}=t;return iS(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Dc(new El("analytics-internal",function(e){try{const t=e.getProvider(AE).getImmediate();return{logEvent:(e,n,r)=>oS(t,e,n,r)}}catch(CA){throw RE.create("interop-component-reg-failed",{reason:CA})}},"PRIVATE")),Vc(aS,sS),Vc(aS,sS,"esm2017");const lS=Fc({apiKey:"AIzaSyAUqNErw_wHXTF7msS817Fmx8X7lIcg8q8",authDomain:"adparlay.firebaseapp.com",projectId:"adparlay",storageBucket:"adparlay.firebasestorage.app",messagingSenderId:"294111767264",appId:"1:294111767264:web:b518352c79e4434365be85",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAUqNErw_wHXTF7msS817Fmx8X7lIcg8q8",REACT_APP_FIREBASE_AUTH_DOMAIN:"adparlay.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"adparlay",REACT_APP_FIREBASE_STORAGE_BUCKET:"adparlay.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"294111767264",REACT_APP_FIREBASE_APP_ID:"1:294111767264:web:b518352c79e4434365be85",REACT_APP_ADMIN_EMAIL:"admin@adparlay.com",REACT_APP_ADMIN_PASSWORD:"admin123456"}.REACT_APP_FIREBASE_MEASUREMENT_ID||"G-951B5WX7T6"}),cS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc();const t=Rc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Rc(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(fl(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ru(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:tf,persistence:[fh,Yd,Jd]}),r=rl("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>af)return;const r=null===t||void 0===t?void 0:t.token;sf!==r&&(sf=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){xl(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){xl(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=tl("auth");return o&&yd(n,"http://".concat(o)),n}(lS),uS=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Rc("object"==typeof e?e:Bc(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=tl(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Lw(r,...e)}return r}(lS);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc();e=xl(e);const t=Rc(e,AE);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Rc(e,AE);if(n.isInitialized()){const e=n.getImmediate();if(fl(t,n.getOptions()))return e;throw RE.create("already-initialized")}const r=n.initialize({options:t})}(e)}(lS);var dS=n(579);const hS=(0,i.createContext)(void 0),fS=()=>{const e=(0,i.useContext)(hS);if(void 0===e)throw new Error("useFirebase must be used within a FirebaseProvider");return e},pS=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return xl(e).onAuthStateChanged(t,n,r)}(cS,e=>{r(e),a(!1)});return e},[]);const s={user:n,loading:o,login:async(e,t)=>{try{await function(e,t,n){return Oc(e.app)?Promise.reject(au(e)):Hd(xl(e),Ad.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Wd(e),t})}(cS,e,t)}catch(n){throw new Error(n.message)}},logout:async()=>{try{await function(e){return xl(e).signOut()}(cS)}catch(e){throw new Error(e.message)}},saveFormResponse:async e=>{try{return(await function(e,t){const n=Dw(e.firestore,zw),r=Vw(e),i=Ax(e.converter,t);return Bx(n,[rx(nx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ag.exists(!1))]).then(()=>r)}(Bw(uS,"formResponses"),je(je({},e),{},{timestamp:new Date,userId:(null===n||void 0===n?void 0:n.uid)||"anonymous"}))).id}catch(t){throw new Error(t.message)}},getFormResponses:async()=>{try{const e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof xx&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ix).length,n=e.filter(e=>e instanceof Sx).length;if(t>1||t>0&&n>0)throw new Mf(jf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(Bw(uS,"formResponses"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bx("orderBy",e);return Tx._create(n,t)}("timestamp","desc"));return(await function(e){e=Dw(e,jw);const t=Dw(e.firestore,zw),n=qw(t),r=new Mx(t);return wx(e._query),Tw(n,e._query).then(n=>new Ox(t,r,e,n))}(e)).docs.map(e=>je({id:e.id},e.data()))}catch(e){throw new Error(e.message)}},updateFormResponse:async(e,t)=>{try{const n=Vw(uS,"formResponses",e);await function(e,t,n){e=Dw(e,Mw);const r=Dw(e.firestore,zw),i=nx(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=xl(t))||t instanceof Ww?ax(i,"updateDoc",e._key,t,n,s):ox(i,"updateDoc",e._key,t),Bx(r,[o.toMutation(e._key,Ag.exists(!0))])}(n,je(je({},t),{},{lastUpdated:new Date}))}catch(n){throw new Error(n.message)}},setUserRole:async(e,t)=>{try{await Fx(Vw(uS,"users",e),{role:t},{merge:!0})}catch(n){throw new Error(n.message)}},getUserRole:async e=>{try{const t=await jx(Vw(uS,"users",e));return t.exists()?t.data().role:null}catch(t){throw new Error(t.message)}},saveCustomizationSettings:async e=>{try{await Fx(Vw(uS,"customization","settings"),e,{merge:!0})}catch(t){throw new Error(t.message)}},getCustomizationSettings:async()=>{try{const e=Vw(uS,"customization","settings"),t=await jx(e);return t.exists()?t.data():{logo:"",backgroundVideo:"",backgroundImage:"",welcomeMessage:"Welcome to 2 Seasons Property Management",primaryColor:"#3B82F6",secondaryColor:"#1F2937",accentColor:"#10B981",formFields:{name:!0,email:!0,phone:!0,interest:!0,option:!0,plotSize:!0,finalChoice:!0},businessName:"2 Seasons Property Management",contactEmail:"info@2seasons.com",contactPhone:"+1 (555) 123-4567"}}catch(e){throw new Error(e.message)}}};return(0,dS.jsx)(hS.Provider,{value:s,children:t})},mS=()=>{const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)({email:"",password:"",confirmPassword:"",businessName:"",fullName:""}),o=ne(),{login:a}=fS(),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),d=e=>{r(je(je({},n),{},{[e.target.name]:e.target.value}))};return(0,dS.jsxs)("div",{className:"w-full",children:[(0,dS.jsxs)("div",{className:"flex mb-6 bg-background rounded-lg p-1 border border-border",children:[(0,dS.jsx)("button",{onClick:()=>t(!0),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat(e?"bg-panel text-primary shadow-sm border border-border":"text-muted hover:text-heading"),children:"Sign In"}),(0,dS.jsx)("button",{onClick:()=>t(!1),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ".concat(e?"text-muted hover:text-heading":"bg-panel text-primary shadow-sm border border-border"),children:"Sign Up"})]}),(0,dS.jsxs)(Ks.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onSubmit:async t=>{t.preventDefault(),l(""),u(!0);try{if(e)await a(n.email,n.password),o("/dashboard");else{if(n.password!==n.confirmPassword)return l("Passwords do not match"),void u(!1);const e=await async function(e,t,n){if(Oc(e.app))return Promise.reject(au(e));const r=ud(e),i=vd(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Md),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Wd(e),t}),a=await Fd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(cS,n.email,n.password),t=e.user;await Fx(Vw(uS,"users",t.uid),{email:n.email,fullName:n.fullName,businessName:n.businessName,createdAt:new Date}),o("/dashboard")}}catch(r){l(r.message||"Authentication failed")}finally{u(!1)}},className:"space-y-4",children:[!e&&(0,dS.jsxs)(dS.Fragment,{children:[(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-heading mb-2",children:"Full Name"}),(0,dS.jsx)("input",{type:"text",name:"fullName",value:n.fullName,onChange:d,className:"w-full p-3 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Enter your full name",required:!0})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-heading mb-2",children:"Business Name"}),(0,dS.jsx)("input",{type:"text",name:"businessName",value:n.businessName,onChange:d,className:"w-full p-3 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Enter your business name",required:!0})]})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-heading mb-2",children:"Email Address"}),(0,dS.jsx)("input",{type:"email",name:"email",value:n.email,onChange:d,className:"w-full p-3 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Enter your email address",required:!0})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-heading mb-2",children:"Password"}),(0,dS.jsx)("input",{type:"password",name:"password",value:n.password,onChange:d,className:"w-full p-3 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Enter your password",required:!0})]}),!e&&(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-heading mb-2",children:"Confirm Password"}),(0,dS.jsx)("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:d,className:"w-full p-3 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Confirm your password",required:!0})]}),s&&(0,dS.jsx)("div",{className:"bg-error/10 text-error text-sm rounded-lg px-4 py-2 mb-2 border border-error",children:s}),(0,dS.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-3 px-4 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:c,children:c?e?"Signing In...":"Creating Account...":e?"Sign In":"Create Account"})]},e?"login":"signup"),(0,dS.jsx)("div",{className:"mt-6 text-center",children:e?(0,dS.jsxs)("p",{className:"text-sm text-muted",children:["Don't have an account?"," ",(0,dS.jsx)("button",{onClick:()=>t(!1),className:"text-primary hover:text-primary/90 font-medium",children:"Sign up here"})]}):(0,dS.jsxs)("p",{className:"text-sm text-muted",children:["Already have an account?"," ",(0,dS.jsx)("button",{onClick:()=>t(!0),className:"text-primary hover:text-primary/90 font-medium",children:"Sign in here"})]})}),(0,dS.jsx)("div",{className:"mt-4 text-center",children:(0,dS.jsx)(Ne,{to:"/admin/login",className:"text-sm text-muted hover:text-heading underline",children:"Admin Access"})})]})},gS=()=>(0,dS.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[(0,dS.jsxs)("div",{className:"lg:w-1/2 bg-black relative overflow-hidden",children:[(0,dS.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,dS.jsx)("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&loop=1&mute=1&controls=0&playlist=dQw4w9WgXcQ",title:"Background Video",className:"w-full h-full object-cover",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,dS.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),(0,dS.jsx)("div",{className:"relative z-10 flex items-center justify-center h-full text-white",children:(0,dS.jsxs)("div",{className:"text-center",children:[(0,dS.jsx)("h1",{className:"text-4xl lg:text-6xl font-bold mb-4",children:"2 Seasons"}),(0,dS.jsx)("p",{className:"text-xl lg:text-2xl",children:"Your Trusted Property Partner"})]})})]}),(0,dS.jsx)("div",{className:"lg:w-1/2 bg-white flex items-center justify-center p-4 lg:p-8",children:(0,dS.jsxs)("div",{className:"w-full max-w-md",children:[(0,dS.jsxs)("div",{className:"text-center mb-8",children:[(0,dS.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Adparlay"}),(0,dS.jsx)("p",{className:"text-lg text-gray-600",children:"Smart lead collection for modern business"})]}),(0,dS.jsx)(mS,{})]})})]}),vS=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),{login:c}=fS(),u=ne();return(0,dS.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background font-sans",children:(0,dS.jsxs)("div",{className:"bg-panel rounded-3xl shadow-2xl p-10 max-w-md w-full border border-border",children:[(0,dS.jsx)("h1",{className:"text-3xl font-extrabold text-heading mb-8 text-center tracking-tight",children:"Admin Login"}),(0,dS.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(""),l(!0);try{await c(e,n),u("/admin/dashboard")}catch(o){a(o.message)}finally{l(!1)}},className:"space-y-6",children:[(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-base font-semibold text-heading mb-2",children:"Email"}),(0,dS.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none"})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-base font-semibold text-heading mb-2",children:"Password"}),(0,dS.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none"})]}),(0,dS.jsx)("button",{type:"submit",className:"w-full py-3 bg-primary text-white rounded-xl shadow-lg font-bold text-lg hover:bg-primary/90 transition-colors mt-4",children:"Sign In"})]}),o&&(0,dS.jsx)("div",{className:"mt-6 text-center text-error font-semibold",children:o})]})})},yS=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)({name:"",email:"",phone:"",interest:"",option:"",plotSize:"",finalOption:"",status:"new",notes:""}),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)({interest:"",status:"",dateRange:"",finalOption:""}),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1),[x,E]=(0,i.useState)({primaryColor:"#3B82F6",secondaryColor:"#1F2937",formLabels:{name:"Full Name",email:"Email Address",phone:"Phone Number",interest:"Interest Type",finalChoice:"Final Choice"},exportDestination:"local"}),[S,I]=(0,i.useState)({total:0,new:0,contacted:0,qualified:0,converted:0,lost:0,conversionRate:0}),{getFormResponses:T,updateFormResponse:C,logout:_}=fS(),k=ne();(0,i.useEffect)(()=>{N()},[]),(0,i.useEffect)(()=>{A()},[e,m]),(0,i.useEffect)(()=>{P()},[e]);const N=async()=>{try{a(!0);const e=(await T()).map(e=>je(je({},e),{},{status:e.status||"new",notes:e.notes||"",conversionPath:e.conversionPath||"Direct Form Submission"}));t(e)}catch(e){l(e.message)}finally{a(!1)}},A=()=>{let t=[...e];if(m.interest&&(t=t.filter(e=>e.interest===m.interest)),m.status&&(t=t.filter(e=>e.status===m.status)),m.finalOption&&(t=t.filter(e=>e.finalOption===m.finalOption)),m.dateRange){const e=new Date;let n=new Date;switch(m.dateRange){case"today":n.setHours(0,0,0,0);break;case"week":n.setDate(e.getDate()-7);break;case"month":n.setMonth(e.getMonth()-1);break;case"quarter":n.setMonth(e.getMonth()-3)}t=t.filter(e=>{var t,r;return((null===(t=e.timestamp)||void 0===t||null===(r=t.toDate)||void 0===r?void 0:r.call(t))||new Date(e.timestamp))>=n})}r(t)},P=()=>{const t={total:e.length,new:e.filter(e=>"new"===e.status).length,contacted:e.filter(e=>"contacted"===e.status).length,qualified:e.filter(e=>"qualified"===e.status).length,converted:e.filter(e=>"converted"===e.status).length,lost:e.filter(e=>"lost"===e.status).length,conversionRate:0};t.conversionRate=t.total>0?t.converted/t.total*100:0,I(t)};return o?(0,dS.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,dS.jsxs)("div",{className:"text-center",children:[(0,dS.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,dS.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading leads..."})]})}):(0,dS.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 p-4 font-sans",children:[(0,dS.jsx)("header",{className:"bg-white shadow-md border-b border-blue-100 rounded-b-3xl",children:(0,dS.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,dS.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,dS.jsx)("div",{className:"flex items-center",children:(0,dS.jsx)("h1",{className:"text-3xl font-extrabold text-blue-800 tracking-tight",children:"Admin Dashboard"})}),(0,dS.jsx)("div",{className:"flex items-center space-x-4",children:(0,dS.jsx)("button",{onClick:async()=>{try{await _(),k("/admin/login")}catch(e){l(e.message)}},className:"text-base text-red-600 hover:text-red-800 font-semibold bg-red-50 px-3 py-1 rounded-xl transition-colors shadow-sm border border-red-100",children:"Sign Out"})})]})})}),(0,dS.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,dS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Leads"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:S.total})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"New"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:S.new})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Contacted"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:S.contacted})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Qualified"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:S.qualified})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Converted"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-green-600",children:S.converted})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Lost"}),(0,dS.jsx)("p",{className:"text-3xl font-bold text-red-600",children:S.lost})]}),(0,dS.jsxs)(Ks.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Conversion Rate"}),(0,dS.jsxs)("p",{className:"text-3xl font-bold text-indigo-600",children:[S.conversionRate.toFixed(1),"%"]})]})]}),(0,dS.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-blue-100",children:[(0,dS.jsx)("div",{className:"border-b border-blue-100 rounded-t-3xl",children:(0,dS.jsx)("nav",{className:"-mb-px flex space-x-8 px-6"})}),(0,dS.jsx)("div",{className:"p-8"})]})]})]})},bS=()=>(0,dS.jsx)("div",{children:"Customization Settings Coming Soon"}),wS=()=>{const[e,t]=(0,i.useState)("overview"),n=ne(),[r,o]=(0,i.useState)([]),[a,s]=(0,i.useState)([]);(0,i.useEffect)(()=>{const e=localStorage.getItem("forms");o(e?JSON.parse(e):[]);const t=localStorage.getItem("form_submissions");s(t?JSON.parse(t):[])},[e]);const l=e=>{const t=r.find(t=>t.id===e);return t?t.title:"Unknown Form"},c=e=>new Date(e).toLocaleString();return(0,dS.jsxs)("div",{className:"min-h-screen bg-background p-4 font-sans",children:[(0,dS.jsx)("header",{className:"bg-panel shadow-md border-b border-border rounded-b-3xl",children:(0,dS.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,dS.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,dS.jsx)("div",{className:"flex items-center",children:(0,dS.jsx)("h1",{className:"text-3xl font-extrabold text-heading tracking-tight",children:"Adparlay Dashboard"})}),(0,dS.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,dS.jsx)("span",{className:"text-base text-muted",children:"Welcome, User"}),(0,dS.jsx)(Ne,{to:"/",className:"text-base text-error font-semibold bg-error/10 px-3 py-1 rounded-xl transition-colors shadow-sm border border-error",children:"Sign Out"})]})]})})}),(0,dS.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,dS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,dS.jsx)("div",{className:"bg-panel rounded-3xl shadow-xl border border-border p-6",children:(0,dS.jsxs)("div",{className:"flex items-center",children:[(0,dS.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,dS.jsx)("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,dS.jsxs)("div",{className:"ml-4",children:[(0,dS.jsx)("p",{className:"text-sm font-medium text-muted",children:"Total Forms"}),(0,dS.jsx)("p",{className:"text-2xl font-semibold text-heading",children:r.length})]})]})}),(0,dS.jsx)("div",{className:"bg-panel rounded-3xl shadow-xl border border-border p-6",children:(0,dS.jsxs)("div",{className:"flex items-center",children:[(0,dS.jsx)("div",{className:"p-2 bg-success/10 rounded-lg",children:(0,dS.jsx)("svg",{className:"w-6 h-6 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,dS.jsxs)("div",{className:"ml-4",children:[(0,dS.jsx)("p",{className:"text-sm font-medium text-muted",children:"Total Leads"}),(0,dS.jsx)("p",{className:"text-2xl font-semibold text-heading",children:a.length})]})]})}),(0,dS.jsx)("div",{className:"bg-panel rounded-3xl shadow-xl border border-border p-6",children:(0,dS.jsxs)("div",{className:"flex items-center",children:[(0,dS.jsx)("div",{className:"p-2 bg-warning/10 rounded-lg",children:(0,dS.jsx)("svg",{className:"w-6 h-6 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,dS.jsxs)("div",{className:"ml-4",children:[(0,dS.jsx)("p",{className:"text-sm font-medium text-muted",children:"This Month"}),(0,dS.jsx)("p",{className:"text-2xl font-semibold text-heading",children:a.filter(e=>{const t=new Date(e.submittedAt),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}).length})]})]})}),(0,dS.jsx)("div",{className:"bg-panel rounded-3xl shadow-xl border border-border p-6",children:(0,dS.jsxs)("div",{className:"flex items-center",children:[(0,dS.jsx)("div",{className:"p-2 bg-secondary/10 rounded-lg",children:(0,dS.jsx)("svg",{className:"w-6 h-6 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,dS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,dS.jsxs)("div",{className:"ml-4",children:[(0,dS.jsx)("p",{className:"text-sm font-medium text-muted",children:"Conversion Rate"}),(0,dS.jsxs)("p",{className:"text-2xl font-semibold text-heading",children:[r.length>0?Math.round(a.length/r.length*100):0,"%"]})]})]})})]}),(0,dS.jsxs)("div",{className:"bg-panel rounded-3xl shadow-xl border border-border",children:[(0,dS.jsx)("div",{className:"border-b border-border rounded-t-3xl",children:(0,dS.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,dS.jsx)("button",{onClick:()=>t("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("overview"===e?"border-primary text-primary":"border-transparent text-muted hover:text-secondary hover:border-secondary"),children:"Overview"}),(0,dS.jsx)("button",{onClick:()=>t("forms"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("forms"===e?"border-primary text-primary":"border-transparent text-muted hover:text-secondary hover:border-secondary"),children:"Forms"}),(0,dS.jsx)("button",{onClick:()=>t("leads"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("leads"===e?"border-primary text-primary":"border-transparent text-muted hover:text-secondary hover:border-secondary"),children:"Leads"})]})}),(0,dS.jsxs)("div",{className:"p-8",children:["overview"===e&&(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h2",{className:"text-lg font-medium text-heading mb-4",children:"Welcome to Adparlay"}),(0,dS.jsx)("p",{className:"text-muted mb-6",children:"Manage your lead collection forms and track your business growth."}),(0,dS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,dS.jsxs)("div",{className:"bg-primary/10 p-4 rounded-lg cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>n("/form-builder"),children:[(0,dS.jsx)("h3",{className:"font-medium text-primary",children:"Create Forms"}),(0,dS.jsx)("p",{className:"text-primary text-sm mt-1",children:"Build custom lead collection forms"})]}),(0,dS.jsxs)("div",{className:"bg-success/10 p-4 rounded-lg cursor-pointer hover:bg-success/20 transition-colors",onClick:()=>t("leads"),children:[(0,dS.jsx)("h3",{className:"font-medium text-success",children:"Track Leads"}),(0,dS.jsx)("p",{className:"text-success text-sm mt-1",children:"Monitor and manage your leads"})]}),(0,dS.jsxs)("div",{className:"bg-secondary/10 p-4 rounded-lg cursor-pointer hover:bg-secondary/20 transition-colors",onClick:()=>t("analytics"),children:[(0,dS.jsx)("h3",{className:"font-medium text-secondary",children:"Analytics"}),(0,dS.jsx)("p",{className:"text-secondary text-sm mt-1",children:"View performance insights"})]})]})]}),"forms"===e&&(0,dS.jsxs)("div",{children:[(0,dS.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dS.jsx)("h2",{className:"text-lg font-medium text-heading",children:"Your Forms"}),(0,dS.jsx)("button",{onClick:()=>{n("/form-builder")},className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Create New Form"})]}),(0,dS.jsxs)("div",{className:"space-y-4",children:[0===r.length&&(0,dS.jsx)("div",{className:"text-muted",children:"No forms yet. Click 'Create New Form' to get started."}),r.map(e=>(0,dS.jsx)("div",{className:"border border-border rounded-lg p-4",children:(0,dS.jsx)("div",{className:"flex justify-between items-center",children:(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h3",{className:"font-medium text-heading",children:e.title}),(0,dS.jsxs)("p",{className:"text-sm text-muted",children:["Created: ",new Date(e.createdAt).toLocaleString()]}),(0,dS.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,dS.jsx)("button",{className:"text-primary hover:text-primary/90 text-sm bg-primary/10 rounded px-3 py-1",onClick:()=>window.open("/form-preview/".concat(e.id),"_blank"),children:"Preview"}),(0,dS.jsx)("button",{className:"text-muted hover:text-secondary text-sm bg-border rounded px-3 py-1",onClick:()=>{navigator.clipboard.writeText(window.location.origin+"/form-preview/".concat(e.id))},children:"Copy Link"}),(0,dS.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm bg-blue-50 rounded px-3 py-1",onClick:()=>n("/form-builder?edit=".concat(e.id)),children:"Edit"})]})]})})},e.id))]})]}),"leads"===e&&(0,dS.jsxs)("div",{children:[(0,dS.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dS.jsx)("h2",{className:"text-lg font-medium text-heading",children:"Recent Leads"}),(0,dS.jsx)("button",{className:"text-primary hover:text-primary/90 text-sm",onClick:()=>{if(!a.length)return;const e=[["Form","Date","Responses"],...a.map(e=>[l(e.formId),c(e.submittedAt),JSON.stringify(e.formData)])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="leads-export-".concat((new Date).toISOString().split("T")[0],".csv"),r.click(),window.URL.revokeObjectURL(n)},children:"Export CSV"})]}),(0,dS.jsx)("div",{className:"overflow-x-auto",children:(0,dS.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,dS.jsx)("thead",{className:"bg-panel",children:(0,dS.jsxs)("tr",{children:[(0,dS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Form"}),(0,dS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Date"}),(0,dS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Responses"}),(0,dS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Actions"})]})}),(0,dS.jsx)("tbody",{className:"bg-panel divide-y divide-border",children:0===a.length?(0,dS.jsx)("tr",{children:(0,dS.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-muted",children:"No submissions yet. Share your forms to start collecting leads!"})}):a.map(e=>(0,dS.jsxs)("tr",{children:[(0,dS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-heading",children:l(e.formId)}),(0,dS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:c(e.submittedAt)}),(0,dS.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:[Object.keys(e.formData).length," responses"]}),(0,dS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:(0,dS.jsx)("button",{className:"text-primary hover:text-primary/90",onClick:()=>{alert(JSON.stringify(e.formData,null,2))},children:"View Details"})})]},e.id))})]})})]}),"analytics"===e&&(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h2",{className:"text-lg font-medium text-heading mb-4",children:"Analytics (Coming Soon)"}),(0,dS.jsx)("p",{className:"text-muted",children:"Analytics and insights will be available here."})]})]})]})]})]})};function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xS(e,t)}function ES(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xS(e,t)}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(null,arguments)}function IS(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var TS="function"===typeof Symbol&&Symbol.observable||"@@observable",CS=function(){return Math.random().toString(36).substring(7).split("").join(".")},_S={INIT:"@@redux/INIT"+CS(),REPLACE:"@@redux/REPLACE"+CS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+CS()}};function kS(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function NS(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(IS(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(IS(1));return n(NS)(e,t)}if("function"!==typeof e)throw new Error(IS(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(IS(3));return o}function d(e){if("function"!==typeof e)throw new Error(IS(4));if(l)throw new Error(IS(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(IS(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!kS(e))throw new Error(IS(7));if("undefined"===typeof e.type)throw new Error(IS(8));if(l)throw new Error(IS(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:_S.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(IS(10));i=e,h({type:_S.REPLACE})}})[TS]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(IS(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[TS]=function(){return this},e},r}function AS(e,t){return function(){return t(e.apply(this,arguments))}}function PS(e,t){if("function"===typeof e)return AS(e,t);if("object"!==typeof e||null===e)throw new Error(IS(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=AS(i,t))}return n}function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var RS=i.createContext(null);var OS=function(e){e()},LS=function(){return OS};var jS={notify:function(){},get:function(){return[]}};function MS(e,t){var n,r=jS;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=LS(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=jS)},getListeners:function(){return r}};return a}var FS="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const BS=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)(function(){var e=MS(t);return{store:t,subscription:e}},[t]),a=(0,i.useMemo)(function(){return t.getState()},[t]);FS(function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[o,a]);var s=n||RS;return i.createElement(s.Provider,{value:o},r)};var VS=n(219),US=n.n(VS),zS=n(86),qS=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],GS=["reactReduxForwardedRef"],HS=[],WS=[null,null];function KS(e,t){var n=e[1];return[t.payload,n+1]}function QS(e,t,n){FS(function(){return e.apply(void 0,t)},n)}function $S(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function YS(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(CA){n=CA,d=CA}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var XS=function(){return[null,0]};function JS(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,v=void 0===g?RS:g,y=Qt(n,qS),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),a=SS({},y,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)(function(){var e=n.reactReduxForwardedRef,t=Qt(n,GS);return[n.context,e,t]},[n]),o=r[0],s=r[1],l=r[2],c=(0,i.useMemo)(function(){return o&&o.Consumer&&(0,zS.isContextConsumer)(i.createElement(o.Consumer,null))?o:b},[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,m=(0,i.useMemo)(function(){return function(t){return e(t.dispatch,a)}(p)},[p]),g=(0,i.useMemo)(function(){if(!d)return WS;var e=MS(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,h]),v=g[0],y=g[1],w=(0,i.useMemo)(function(){return f?h:SS({},h,{subscription:v})},[f,h,v]),x=(0,i.useReducer)(KS,HS,XS),E=x[0][0],S=x[1];if(E&&E.error)throw E.error;var I=(0,i.useRef)(),T=(0,i.useRef)(l),C=(0,i.useRef)(),_=(0,i.useRef)(!1),k=u(function(){return C.current&&l===T.current?C.current:m(p.getState(),l)},[p,E,l]);QS($S,[T,I,_,l,k,C,y]),QS(YS,[d,p,v,m,T,I,_,C,y,S],[p,v,m]);var N=(0,i.useMemo)(function(){return i.createElement(t,SS({},k,{ref:s}))},[s,t,k]);return(0,i.useMemo)(function(){return d?i.createElement(c.Provider,{value:w},N):N},[c,N,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,m){var g=i.forwardRef(function(e,t){return i.createElement(p,SS({},e,{reactReduxForwardedRef:t}))});return g.displayName=r,g.WrappedComponent=t,US()(g,t)}return US()(p,t)}}function ZS(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function eI(e,t){if(ZS(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ZS(e[n[i]],t[n[i]]))return!1;return!0}function tI(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function nI(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function rI(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=nI(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=nI(i),i=r(t,n)),i},r}}const iI=[function(e){return"function"===typeof e?rI(e):void 0},function(e){return e?void 0:tI(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?tI(function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)}):void 0}];const oI=[function(e){return"function"===typeof e?rI(e):void 0},function(e){return e?void 0:tI(function(){return{}})}];function aI(e,t,n){return SS({},n,e,t)}const sI=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return aI}}];var lI=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function cI(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function uI(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,a),m=!u(i,o,f,a);return o=i,a=f,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function dI(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Qt(t,lI),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?uI:cI)(a,s,l,e,o)}var hI=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function fI(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function pI(e,t){return e===t}function mI(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?JS:n,i=t.mapStateToPropsFactories,o=void 0===i?oI:i,a=t.mapDispatchToPropsFactories,s=void 0===a?iI:a,l=t.mergePropsFactories,c=void 0===l?sI:l,u=t.selectorFactory,d=void 0===u?dI:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,f=void 0===h?pI:h,p=a.areOwnPropsEqual,m=void 0===p?eI:p,g=a.areStatePropsEqual,v=void 0===g?eI:g,y=a.areMergedPropsEqual,b=void 0===y?eI:y,w=Qt(a,hI),x=fI(e,o,"mapStateToProps"),E=fI(t,s,"mapDispatchToProps"),S=fI(n,c,"mergeProps");return r(d,SS({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:E,initMergeProps:S,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const gI=mI();var vI;function yI(e,t){var n=(0,i.useState)(function(){return{inputs:t,result:e()}})[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)(function(){r.current=!1,o.current=a},[a]),a.result}vI=s.unstable_batchedUpdates,OS=vI;var bI=yI,wI=function(e,t){return yI(function(){return e},t)},xI="Invariant failed";var EI=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},SI=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},II=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},TI={top:0,right:0,bottom:0,left:0},CI=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?TI:n,i=e.border,o=void 0===i?TI:i,a=e.padding,s=void 0===a?TI:a,l=EI(SI(t,r)),c=EI(II(t,o)),u=EI(II(c,s));return{marginBox:l,borderBox:EI(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},_I=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(xI)}(!1),n},kI=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return CI({borderBox:l,border:o,margin:a,padding:s})},NI=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),kI(e,t)},AI=function(e,t){var n={top:_I(t.marginTop),right:_I(t.marginRight),bottom:_I(t.marginBottom),left:_I(t.marginLeft)},r={top:_I(t.paddingTop),right:_I(t.paddingRight),bottom:_I(t.paddingBottom),left:_I(t.paddingLeft)},i={top:_I(t.borderTopWidth),right:_I(t.borderRightWidth),bottom:_I(t.borderBottomWidth),left:_I(t.borderLeftWidth)};return CI({borderBox:e,margin:n,padding:r,border:i})},PI=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return AI(t,n)},DI=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function RI(e,t){return e===t||!(!DI(e)||!DI(t))}function OI(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!RI(e[n],t[n]))return!1;return!0}const LI=function(e,t){var n;void 0===t&&(t=OI);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const jI=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function MI(e,t){}MI.bind(null,"warn"),MI.bind(null,"error");function FI(){}function BI(e,t,n){var r=t.map(function(t){var r=function(e,t){return SS({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(function(e){e()})}}var VI="Invariant failed";function UI(e){this.message=e}function zI(e,t){if(!e)throw new UI(VI)}UI.prototype.toString=function(){return this.message};var qI=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=FI,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof UI&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ES(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=BI(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof UI))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),GI=function(e){return e+1},HI=function(e,t){var n=e.droppableId===t.droppableId,r=GI(e.index),i=GI(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},WI=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},KI=function(e){return"\n  The item has returned to its starting position\n  of "+GI(e.index)+"\n"},QI="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",$I=function(e){return"\n  You have lifted an item in position "+GI(e.source.index)+"\n"},YI=function(e){var t=e.destination;if(t)return HI(e.source,t);var n=e.combine;return n?WI(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},XI=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+KI(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+HI(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+WI(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+KI(e.source)+"\n  "},JI={x:0,y:0},ZI=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},eT=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},tT=function(e,t){return e.x===t.x&&e.y===t.y},nT=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},rT=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},iT=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},oT=function(e,t){return Math.min.apply(Math,t.map(function(t){return iT(e,t)}))},aT=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},sT=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},lT=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},cT=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=EI({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):EI(e)},uT=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?sT(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?SS({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:cT(a,i)}},dT=function(e,t){e.frame||zI(!1);var n=e.frame,r=eT(t,n.scroll.initial),i=nT(r),o=SS({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return SS({},e,{frame:o,subject:uT({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function hT(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function fT(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function pT(e,t){if(e.find)return e.find(t);var n=fT(e,t);return-1!==n?e[n]:void 0}function mT(e){return Array.prototype.slice.call(e)}var gT=LI(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),vT=LI(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),yT=LI(function(e){return hT(e)}),bT=LI(function(e){return hT(e)}),wT=LI(function(e,t){var n=bT(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function xT(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ET(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ST=LI(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),IT=function(e,t){return e.descriptor.droppableId===t.descriptor.id},TT={point:JI,value:0},CT={invisible:{},visible:{},all:[]},_T={displaced:CT,displacedBy:TT,at:null},kT=function(e,t){return function(n){return e<=n&&n<=t}},NT=function(e){var t=kT(e.top,e.bottom),n=kT(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},AT=function(e){var t=kT(e.top,e.bottom),n=kT(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},PT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},DT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},RT=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:JI;return sT(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},OT=function(e){return RT(SS({},e,{isVisibleThroughFrameFn:NT}))},LT=function(e){return RT(SS({},e,{isVisibleThroughFrameFn:AT}))};function jT(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce(function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return EI(SI(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!OT({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function MT(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:CT,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function FT(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=IT(t,r);if(null==s)return MT({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=pT(n,function(e){return e.descriptor.index===s});if(!u)return MT({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=ST(t,n),h=n.indexOf(u);return{displaced:jT({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function BT(e,t){return Boolean(t.effected[e])}var VT=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||zI(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:FT({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return BT(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:FT({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},UT=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=ET(n);i||zI(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return BT(r,n)?o?JI:nT(i.point):o?i.point:JI}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return ZI(a,s)},zT=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},qT=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},GT=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return rT(t.line,n.marginBox[t.end]+zT(t,r),qT(t,n.marginBox,r))},HT=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return rT(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),qT(t,n.marginBox,r))},WT=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=wT(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return rT(t.line,n.contentBox[t.start]+zT(t,r),qT(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(BT(d,o))return HT({axis:l,moveRelativeTo:h.page,isMoving:s});var f=kI(h.page,u.point);return HT({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(BT(p.descriptor.id,o)){var m=kI(p.page,nT(o.displacedBy.point));return GT({axis:l,moveRelativeTo:m,isMoving:s})}return GT({axis:l,moveRelativeTo:p.page,isMoving:s})},KT=function(e,t){var n=e.frame;return n?ZI(t,n.scroll.diff.displacement):t},QT=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?WT({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):UT({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?KT(n,t):t},$T=function(e,t){var n=eT(t,e.scroll.initial),r=nT(n);return{frame:EI({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function YT(e,t){return e.map(function(e){return t[e]})}var XT=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return ZI(e.scroll.diff.displacement,t)}(e.viewport,t),i=eT(r,n.page.borderBox.center);return ZI(n.client.borderBox.center,i)},JT=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=eT(r,t.page.borderBox.center),c={target:sT(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return RT(SS({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=kT(e.top,e.bottom),r=kT(e.left,e.right);return function(e){return t===PT?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):LT(c)},ZT=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=wT(r.descriptor.id,i),d=IT(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!xT(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return SS({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=ST(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=fT(c,function(e){return e.descriptor.id===l});-1===u&&zI(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||VT({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var f=QT({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(JT({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:XT({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=eT(f,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=$T(n,ZI(n.scroll.current,o)),s=r.frame?dT(r,ZI(r.frame.scroll.current,o)):r,l=t.displaced,c=jT({afterDragging:YT(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=jT({afterDragging:YT(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0}),SS({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}},eC=function(e){var t=e.subject.active;return t||zI(!1),t},tC=function(e,t){var n=e.page.borderBox.center;return BT(e.descriptor.id,t)?eT(n,t.displacedBy.point):n},nC=function(e,t){var n=e.page.borderBox;return BT(e.descriptor.id,t)?sT(n,nT(t.displacedBy.point)):n},rC=LI(function(e,t){var n=t[e.line];return{value:n,point:rT(e.line,n)}}),iC=function(e,t){return SS({},e,{scroll:SS({},e.scroll,{max:t})})},oC=function(e,t,n){var r=e.frame;IT(t,e)&&zI(!1),e.subject.withPlaceholder&&zI(!1);var i=rC(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return rT(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=wT(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0),a=o+t[r.line]-i;return a<=0?null:rT(r.line,a)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return SS({},e,{subject:uT({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?ZI(r.scroll.max,o):r.scroll.max,l=iC(r,s);return SS({},e,{subject:uT({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},aC=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=kT(a[s.start],a[s.end]),c=yT(i).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return NT(o.frame)(eC(e))}).filter(function(e){var n=eC(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]}).filter(function(e){var t=eC(e),n=kT(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])}).sort(function(e,n){var r=eC(e)[s.crossAxisStart],i=eC(n)[s.crossAxisStart];return t?r-i:i-r}).filter(function(e,t,n){return eC(e)[s.crossAxisStart]===eC(n[0])[s.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter(function(e){return kT(eC(e)[s.start],eC(e)[s.end])(n[s.line])});return 1===u.length?u[0]:u.length>1?u.sort(function(e,t){return eC(e)[s.start]-eC(t)[s.start]})[0]:c.sort(function(e,t){var r=oT(n,lT(eC(e))),i=oT(n,lT(eC(t)));return r!==i?r-i:eC(e)[s.start]-eC(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=wT(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter(function(e){return LT({target:nC(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var i=iT(t,KT(r,tC(e,o))),a=iT(t,KT(r,tC(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index});return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:CT,displacedBy:TT,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=QT({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=IT(i,a)?a:oC(a,i,o);return JT({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=rC(a.axis,i.displaceBy);return FT({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:CT,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var f=QT({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:XT({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},sC=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},lC=function(e){var t=e.state,n=e.type,r=function(e,t){var n=sC(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?ZT({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):aC({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function cC(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function uC(e){var t=kT(e.top,e.bottom),n=kT(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function dC(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=yT(r).filter(function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(uC(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=kT(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)});return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(e){var n=e.axis,r=rT(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:iT(i,r)}}).sort(function(e,t){return t.distance-e.distance});return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var hC=function(e,t){return EI(sT(e,t))};function fC(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var pC=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=hC(n.page.borderBox,t),c=dC({pageBorderBox:l,draggable:n,droppables:i});if(!c)return _T;var u=i[c],d=wT(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?hC(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=rC(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=pT(ST(t,o),function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=BT(t,a),l=fC({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=rC(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=pT(ST(n,i),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=BT(t,s),i=fC({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:IT(n,r)});return FT({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},mC=function(e,t){var n;return SS({},e,((n={})[t.descriptor.id]=t,n))},gC=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=sC(t),o=sC(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||zI(!1);var n=e.frame;if(!n)return SS({},e,{subject:uT({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||zI(!1);var i=iC(n,r);return SS({},e,{subject:uT({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return mC(r,s)},vC=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=eT(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:ZI(t.initial.client.borderBoxCenter,u)},h={selection:ZI(d.selection,s.scroll.current),borderBoxCenter:ZI(d.borderBoxCenter,s.scroll.current),offset:ZI(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return SS({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var p=l.draggables[t.critical.draggable.id],m=o||pC({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=gC({previousImpact:i,impact:o,droppables:r}),s=sC(o);if(!s)return a;var l=r[s];if(IT(t,l))return a;if(l.subject.withPlaceholder)return a;var c=oC(l,t,n);return mC(a,c)}({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return SS({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var yC=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map(function(e){return t[e]})}(a.all,r);return SS({},t,{displaced:jT({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},bC=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=QT({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return XT({pageBorderBoxCenter:s,draggable:n,viewport:o})},wC=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&zI(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=sC(i);u||zI(!1);var d=l[u],h=yC({impact:i,viewport:o,destination:d,draggables:s}),f=bC({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return vC({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},xC=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=rC(n.axis,t.displaceBy),a=wT(n.descriptor.id,r),s=a.indexOf(t);-1===s&&zI(!1);var l,c=a.slice(s+1),u=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:jT({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},EC=function(e){0},SC=function(e){0},IC=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||zI(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=kI(t.client,n),o=NI(i,r);return SS({},t,{placeholder:SS({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:ZI(i,a),initialWindowScroll:r.scroll.initial});return s})},TC=function(e){return"SNAP"===e.movementMode},CC=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:mC(e.droppables,t)}}(e.dimensions,t);return!TC(e)||n?vC({state:e,dimensions:r}):wC({state:e,dimensions:r})};function _C(e){return e.isDragging&&"SNAP"===e.movementMode?SS({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var kC={phase:"IDLE",completed:null,shouldFlush:!1},NC=function(e,t){if(void 0===e&&(e=kC),"FLUSH"===t.type)return SS({},kC,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&zI(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:JI},d={client:u,page:{selection:ZI(u.selection,o.scroll.initial),borderBoxCenter:ZI(u.selection,o.scroll.initial),offset:ZI(u.selection,o.scroll.diff.value)}},h=yT(a.droppables).every(function(e){return!e.isFixedOnPage}),f=xC({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&zI(!1),SS({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&zI(!1),function(e){var t=e.state,n=e.published;EC();var r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return dT(n,e.scroll)}),i=SS({},t.dimensions.droppables,{},gT(r)),o=vT(IC({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=SS({},t.dimensions.draggables,{},o);n.removals.forEach(function(e){delete a[e]});var s={droppables:i,draggables:a},l=sC(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=xC({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=pC({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});SC();var v=SS({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:SS({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||zI(!1);var m=t.payload.client;return tT(m,e.current.client.selection)?e:vC({state:e,clientSelection:m,impact:TC(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return _C(e);if("COLLECTING"===e.phase)return _C(e);cC(e)||zI(!1);var g=t.payload,v=g.id,y=g.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=dT(b,y);return CC(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||zI(!1);var x=t.payload,E=x.id,S=x.isEnabled,I=e.dimensions.droppables[E];I||zI(!1),I.isEnabled===S&&zI(!1);var T=SS({},I,{isEnabled:S});return CC(e,T,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;cC(e)||zI(!1);var C=t.payload,_=C.id,k=C.isCombineEnabled,N=e.dimensions.droppables[_];N||zI(!1),N.isCombineEnabled===k&&zI(!1);var A=SS({},N,{isCombineEnabled:k});return CC(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;cC(e)||zI(!1),e.isWindowScrollAllowed||zI(!1);var P=t.payload.newScroll;if(tT(e.viewport.scroll.current,P))return _C(e);var D=$T(e.viewport,P);return TC(e)?wC({state:e,viewport:D}):vC({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!cC(e))return e;var R=t.payload.maxScroll;if(tT(R,e.viewport.scroll.max))return e;var O=SS({},e.viewport,{scroll:SS({},e.viewport.scroll,{max:R})});return SS({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&zI(!1);var L=lC({state:e,type:t.type});return L?vC({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var j=t.payload.reason;return"COLLECTING"!==e.phase&&zI(!1),SS({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:j})}if("DROP_ANIMATE"===t.type){var M=t.payload,F=M.completed,B=M.dropDuration,V=M.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&zI(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:B,newHomeClientOffset:V,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},AC=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},PC=function(){return{type:"COLLECTION_STARTING",payload:null}},DC=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},RC=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},OC=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},LC=function(e){return{type:"MOVE",payload:e}},jC=function(){return{type:"MOVE_UP",payload:null}},MC=function(){return{type:"MOVE_DOWN",payload:null}},FC=function(){return{type:"MOVE_RIGHT",payload:null}},BC=function(){return{type:"MOVE_LEFT",payload:null}},VC=function(e){return{type:"DROP_COMPLETE",payload:e}},UC=function(e){return{type:"DROP",payload:e}},zC=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var qC="cubic-bezier(.2,1,.1,1)",GC={drop:0,combining:.7},HC={drop:.75},WC=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",KC={fluid:"opacity "+WC,snap:"transform "+WC+", opacity "+WC,drop:function(e){var t=e+"s "+qC;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+WC,placeholder:"height "+WC+", width "+WC+", margin "+WC},QC=function(e){return tT(e,JI)?null:"translate("+e.x+"px, "+e.y+"px)"},$C=QC,YC=function(e,t){var n=QC(e);return n?t?n+" scale("+HC.drop+")":n:null},XC=.33,JC=.55,ZC=JC-XC,e_=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&zI(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&zI(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:SS({},r,{displaced:CT}),didDropInsideDroppable:!0}:{impact:yC({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?xT(u):null,f=d?ET(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=sC(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=bC({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return eT(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!tT(i.current.client.offset,g)||Boolean(m.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=iT(t,n);if(i<=0)return XC;if(i>=1500)return JC;var o=XC+ZC*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:v}))}else n(VC({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},t_=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function n_(e){var t=e.onWindowScroll;var n=jI(function(){t(t_())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=FI;function o(){return i!==FI}return{start:function(){o()&&zI(!1),i=BI(window,[r])},stop:function(){o()||zI(!1),n.cancel(),i(),i=FI},isActive:o}}var r_=function(e){var t=n_({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},i_=function(){var e=[];return{add:function(t){var n=setTimeout(function(){return function(t){var n=fT(e,function(e){return e.timerId===t});-1===n&&zI(!1),e.splice(n,1)[0].callback()}(n)}),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},o_=function(e,t){EC(),t(),SC()},a_=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},s_=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},l_=function(e,t){var n=function(e,t){var n=i_(),r=null,i=function(n){r||zI(!1),r=null,o_(0,function(){return s_(e().onDragEnd,n,t,XI)})};return{beforeCapture:function(t,n){r&&zI(!1),o_(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){r&&zI(!1),o_(0,function(){var r=e().onBeforeDragStart;r&&r(a_(t,n))})},start:function(i,o){r&&zI(!1);var a=a_(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add(function(){o_(0,function(){return s_(e().onDragStart,a,t,$I)})})},update:function(i,o){var a=xT(o),s=ET(o);r||zI(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var f=SS({},a_(i,r.mode),{combine:s,destination:a});n.add(function(){o_(0,function(){return s_(e().onDragUpdate,f,t,YI)})})}},flush:function(){r||zI(!1),n.flush()},drop:i,abort:function(){if(r){var e=SS({},a_(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},c_=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&zI(!1),e.dispatch(VC({completed:r.completed}))}else t(n)}}},u_=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=BI(window,[o])})}}}},d_=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(UC({reason:r.reason})))}}}},h_=DS,f_=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return NS(NC,h_(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(IS(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return r=DS.apply(void 0,o)(n.dispatch),je(je({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(VC({completed:c.completed})),"IDLE"!==n().phase&&zI(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),e_,c_,u_,d_,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&zI(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),r_,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),l_(o,a))))};var p_=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=eT({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},m_=function(){var e=document.documentElement;return e||zI(!1),e},g_=function(){var e=m_();return p_({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},v_=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;EC();var i=function(){var e=t_(),t=g_(),n=e.y,r=e.x,i=m_(),o=i.clientWidth,a=i.clientHeight;return{frame:EI({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:JI,displacement:JI}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(o)}),c={draggables:vT(l),droppables:gT(s)};return SC(),{dimensions:c,critical:t,viewport:i}};function y_(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var b_=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null,EC();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map(function(e){return t.draggable.getById(e).getDimension(JI)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(s).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},SC(),n.publish(u)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||zI(!1);var i=n.critical.draggable;"ADDITION"===t.type&&y_(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&y_(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||zI(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||zI(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||zI(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&zI(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},v_({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}};return o},w_=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},x_=function(e){window.scrollBy(e.x,e.y)},E_=LI(function(e){return yT(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),S_=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=pT(E_(t),function(t){return t.frame||zI(!1),uC(t.frame.pageMarginBox)(e)});return n}(t,r);return o},I_=.25,T_=.05,C_=28,__=function(e){return Math.pow(e,2)},k_={stopDampeningAt:1200,accelerateAt:360},N_=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},A_=k_.accelerateAt,P_=k_.stopDampeningAt,D_=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return C_;if(e===t.startScrollingFrom)return 1;var n=N_({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=C_*__(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=P_,i=Date.now()-n;if(i>=P_)return e;if(i<A_)return 1;var o=N_({startOfRange:A_,endOfRange:r,current:i}),a=e*__(o);return Math.ceil(a)}(o,r),1):o},R_=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*I_,maxScrollValueAt:e[t.size]*T_}}(t,i);return n[i.end]<n[i.start]?D_({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*D_({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},O_=aT(function(e){return 0===e?0:e}),L_=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=R_({container:n,distanceToEdges:a,dragStartTime:t,axis:PT,shouldUseTimeDampening:o}),l=R_({container:n,distanceToEdges:a,dragStartTime:t,axis:DT,shouldUseTimeDampening:o}),c=O_({x:l,y:s});if(tT(c,JI))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?tT(u,JI)?null:u:null},j_=aT(function(e){return 0===e?0:e>0?1:-1}),M_=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=ZI(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return tT(a,JI)?null:a}}(),F_=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=j_(r),a=M_({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},B_=function(e,t){return F_({current:e.scroll.current,max:e.scroll.max,change:t})},V_=function(e,t){var n=e.frame;return!!n&&F_({current:n.scroll.current,max:n.scroll.max,change:t})},U_=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=L_({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&B_(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=S_({center:a,destination:sC(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=L_({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&V_(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},z_=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!V_(e,t))return t;var r=function(e,t){var n=e.frame;return n&&V_(e,t)?M_({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=eT(t,r);return n(e.descriptor.id,i),eT(t,i)},o=function(e,t,n){if(!e)return n;if(!B_(t,n))return n;var i=function(e,t){if(!B_(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return M_({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=eT(n,i);return r(o),eT(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=sC(e.impact);r||zI(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=ZI(e.current.client.selection,n);t({client:r})}(e,l)}}}},q_=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=jI(t),i=jI(n),o=null,a=function(e){o||zI(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;U_({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){EC(),o&&zI(!1);var t=Date.now(),n=!1,r=function(){n=!0};U_({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},SC(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=z_({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},G_="data-rbd",H_=function(){var e=G_+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),W_=function(){var e=G_+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),K_=function(){var e=G_+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Q_={contextId:G_+"-scroll-container-context-id"},$_=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},Y_="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,X_=function(){var e=document.querySelector("head");return e||zI(!1),e},J_=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Z_(e,t){var n=bI(function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(H_.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+KC.outOfTheWay+";\n    ";return{selector:n(W_.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(K_.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:$_(i,"always"),resting:$_(i,"resting"),dragging:$_(i,"dragging"),dropAnimating:$_(i,"dropAnimating"),userCancel:$_(i,"userCancel")}}(e)},[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=wI(LI(function(e){var t=o.current;t||zI(!1),t.textContent=e}),[]),s=wI(function(e){var t=r.current;t||zI(!1),t.textContent=e},[]);Y_(function(){(r.current||o.current)&&zI(!1);var i=J_(t),l=J_(t);return r.current=i,o.current=l,i.setAttribute(G_+"-always",e),l.setAttribute(G_+"-dynamic",e),X_().appendChild(i),X_().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||zI(!1),X_().removeChild(t),e.current=null};e(r),e(o)}},[t,s,a,n.always,n.resting,e]);var l=wI(function(){return a(n.dragging)},[a,n.dragging]),c=wI(function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)},[a,n.dropAnimating,n.userCancel]),u=wI(function(){o.current&&a(n.resting)},[a,n.resting]);return bI(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u])}var ek=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function tk(e){return e instanceof ek(e).HTMLElement}function nk(e,t){var n="["+H_.contextId+'="'+e+'"]',r=mT(document.querySelectorAll(n));if(!r.length)return null;var i=pT(r,function(e){return e.getAttribute(H_.draggableId)===t});return i&&tk(i)?i:null}function rk(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||zI(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return hT(e.draggables).filter(function(e){return e.descriptor.type===t})}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||zI(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return hT(e.droppables).filter(function(e){return e.descriptor.type===t})}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var ik=i.createContext(null),ok=function(){var e=document.body;return e||zI(!1),e},ak={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var sk=0,lk={separator:"::"};function ck(e,t){return void 0===t&&(t=lk),bI(function(){return""+e+t.separator+sk++},[t.separator,e])}var uk=i.createContext(null);function dk(e){0}function hk(e,t){dk()}function fk(){hk()}function pk(e){var t=(0,i.useRef)(e);return(0,i.useEffect)(function(){t.current=e}),t}var mk,gk=((mk={})[13]=!0,mk[9]=!0,mk),vk=function(e){gk[e.keyCode]&&e.preventDefault()},yk=function(){var e="visibilitychange";return"undefined"===typeof document?e:pT([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var bk,wk={type:"IDLE"};function xk(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&zI(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void vk(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&zI(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:yk,fn:t}]}function Ek(){}var Sk=((bk={})[34]=!0,bk[33]=!0,bk[36]=!0,bk[35]=!0,bk);function Ik(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Sk[r.keyCode]?r.preventDefault():vk(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:yk,fn:n}]}var Tk={type:"IDLE"};var Ck={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function _k(e,t){if(null==t)return!1;if(Boolean(Ck[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&_k(e,t.parentElement)}function kk(e,t){var n=t.target;return!!tk(n)&&_k(e,n)}var Nk=function(e){return EI(e.getBoundingClientRect()).center};var Ak=function(){var e="matches";return"undefined"===typeof document?e:pT([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function Pk(e,t){return null==e?null:e[Ak](t)?e:Pk(e.parentElement,t)}function Dk(e,t){return e.closest?e.closest(t):Pk(e,t)}function Rk(e,t){var n,r=t.target;if(!((n=r)instanceof ek(n).Element))return null;var i=function(e){return"["+H_.contextId+'="'+e+'"]'}(e),o=Dk(r,i);return o&&tk(o)?o:null}function Ok(e){e.preventDefault()}function Lk(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function jk(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!w_(n.getState(),i))}function Mk(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!jk({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+W_.contextId+'="'+e+'"]',r=pT(mT(document.querySelectorAll(n)),function(e){return e.getAttribute(W_.id)===t});return r&&tk(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&kk(c,s))return null;var u=t.claim(a||FI),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){Lk({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=BI(window,[{eventName:"click",fn:Ok,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(UC({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&zI(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",SS({isActive:function(){return Lk({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return Lk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=jI(function(e){p(function(){return LC({client:e})})});return SS({},m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(jC)},moveRight:function(){return p(FC)},moveDown:function(){return p(MC)},moveLeft:function(){return p(BC)}};return m({liftActionArgs:{id:o,clientSelection:Nk(c),movementMode:"SNAP"},cleanup:FI,actions:e})},abort:function(){Lk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return g}var Fk=[function(e){var t=(0,i.useRef)(wk),n=(0,i.useRef)(FI),r=bI(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}},[e]),o=bI(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),a=wI(function(){n.current=BI(window,[o,r],{passive:!1,capture:!0})},[o,r]),s=wI(function(){"IDLE"!==t.current.type&&(t.current=wk,n.current(),a())},[a]),l=wI(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=wI(function(){var e=xk({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=BI(window,e,{capture:!0,passive:!1})},[l,s]),u=wI(function(e,n){"IDLE"!==t.current.type&&zI(!1),t.current={type:"PENDING",point:n,actions:e},c()},[c]);Y_(function(){return a(),function(){n.current()}},[a])},function(e){var t=(0,i.useRef)(Ek),n=bI(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=BI(window,Ik(s,l),{capture:!0,passive:!1})}}}function l(){a||zI(!1),a=!1,t.current(),r()}}}},[e]),r=wI(function(){t.current=BI(window,[n],{passive:!1,capture:!0})},[n]);Y_(function(){return r(),function(){t.current()}},[r])},function(e){var t=(0,i.useRef)(Tk),n=(0,i.useRef)(FI),r=wI(function(){return t.current},[]),o=wI(function(e){t.current=e},[]),a=bI(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}},[e]),s=wI(function(){n.current=BI(window,[a],{capture:!0,passive:!1})},[a]),l=wI(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Tk),n.current(),s())},[s,o]),c=wI(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=wI(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=BI(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&zI(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:yk,fn:t}]}(t),e),o=BI(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:yk,fn:t}]}(t),e);n.current=function(){i(),o()}},[c,r,l]),d=wI(function(){var e=r();"PENDING"!==e.type&&zI(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})},[r,o]),h=wI(function(e,t){"IDLE"!==r().type&&zI(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,r,o,d]);Y_(function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Tk))}},[r,s,o]),Y_(function(){return BI(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Bk(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Fk:[],o||[]),l=(0,i.useState)(function(){return function(){var e=null;function t(){e||zI(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&zI(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=wI(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);Y_(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();c(e,t),e=t})},[l,n,c]),Y_(function(){return l.tryAbandon},[l.tryAbandon]);var u=wI(function(e){return jk({lockAPI:l,registry:r,store:n,draggableId:e})},[l,r,n]),d=wI(function(e,i,o){return Mk({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})},[t,l,r,n]),h=wI(function(e){return function(e,t){var n=Rk(e,t);return n?n.getAttribute(H_.draggableId):null}(t,e)},[t]),f=wI(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),p=wI(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),m=wI(l.isClaimed,[l]),g=bI(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}},[u,d,h,f,p,m]);dk();for(var v=0;v<s.length;v++)s[v](g)}function Vk(e){return e.current||zI(!1),e.current}function Uk(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,s=(0,i.useRef)(null);fk();var l=pk(e),c=wI(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),u=function(e){var t=bI(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=(0,i.useRef)(null);return(0,i.useEffect)(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),SS(e.style,ak),ok().appendChild(e),function(){setTimeout(function(){var t=ok();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),wI(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),d=function(e){var t=e.contextId,n=e.text,r=ck("hidden-text",{separator:"-"}),o=bI(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e},[r,t]);return(0,i.useEffect)(function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",ok().appendChild(e),function(){var t=ok();t.contains(e)&&t.removeChild(e)}},[o,n]),o}({contextId:t,text:a}),h=Z_(t,o),f=wI(function(e){Vk(s).dispatch(e)},[]),p=bI(function(){return PS({publishWhileDragging:AC,updateDroppableScroll:DC,updateDroppableIsEnabled:RC,updateDroppableIsCombineEnabled:OC,collectionStarting:PC},f)},[f]),m=function(){var e=bI(rk,[]);return(0,i.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),g=bI(function(){return b_(m,p)},[m,p]),v=bI(function(){return q_(SS({scrollWindow:x_,scrollDroppable:g.scrollDroppable},PS({move:LC},f)))},[g.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=wI(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),s=wI(function(t){var n=nk(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=wI(function(e,t){n.current===e&&(n.current=t)},[]),c=wI(function(){r.current||o.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=n.current;e&&s(e)}))},[s]),u=wI(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(H_.draggableId)===e&&(n.current=e)},[]);return Y_(function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),bI(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l])}(t),b=bI(function(){return f_({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h})},[u,v,g,y,c,h]);s.current=b;var w=wI(function(){var e=Vk(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),x=wI(function(){var e=Vk(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(bI(function(){return{isDragging:x,tryAbort:w}},[x,w]));var E=wI(function(e){return w_(Vk(s).getState(),e)},[]),S=wI(function(){return cC(Vk(s).getState())},[]),I=bI(function(){return{marshal:g,focus:y,contextId:t,canLift:E,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,y,E,S,m]);return Bk({contextId:t,store:b,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)(function(){return w},[w]),i.createElement(uk.Provider,{value:I},i.createElement(BS,{context:ik,store:b},e.children))}var zk=0;function qk(e){var t=bI(function(){return""+zk++},[]),n=e.dragHandleUsageInstructions||QI;return i.createElement(qI,null,function(r){return i.createElement(Uk,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Gk=function(e){return function(t){return e===t}},Hk=Gk("scroll"),Wk=Gk("auto"),Kk=(Gk("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Qk=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Kk(n,Hk)||Kk(n,Wk)}(t)?t:e(t.parentElement)},$k=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Yk=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Xk=function(e){return{closestScrollable:Qk(e),isFixedOnPage:Yk(e)}},Jk=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=PI(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=SI({top:r,right:a,bottom:o,left:i},n.border);return CI({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=NI(u,i),h=function(){if(!c)return null;var e=PI(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:NI(e,i),scroll:$k(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=p_({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:JI,displacement:JI}}}}(),u="vertical"===o?PT:DT;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:uT({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},Zk={passive:!1},eN={passive:!0},tN=function(e){return e.shouldPublishImmediately?Zk:eN};function nN(e){var t=(0,i.useContext)(e);return t||zI(!1),t}var rN=function(e){return e&&e.env.closestScrollable||null};function iN(){}var oN={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},aN=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?oN:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?KC.placeholder:null}};var sN=i.memo(function(e){var t=(0,i.useRef)(null),n=wI(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,o=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)(function(){return c?"open"!==r?(n(),u(!1),iN):t.current?iN:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):iN},[r,c,n]);var d=wI(function(e){"height"===e.propertyName&&(o(),"close"===r&&a())},[r,a,o]),h=aN({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}),lN=i.createContext(null);var cN=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ES(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),uN=5e3,dN=4500,hN=function(e,t){return t?KC.drop(t.duration):e?KC.snap:KC.fluid},fN=function(e,t){return e?t?GC.drop:GC.combining:null};function pN(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?YC(n,o):$C(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:hN(a,i),transform:l,opacity:fN(o,s),zIndex:s?dN:uN,pointerEvents:"none"}}(e):{transform:$C((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function mN(e){var t=ck("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=bI(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}},[a,l,s]),u=wI(function(e){var t=o();return t||zI(!1),function(e,t,n){void 0===n&&(n=JI);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=AI(i,r),a=NI(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)},[n,o]),d=bI(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}},[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);Y_(function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}},[r.draggable]),Y_(function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}},[d,r.draggable])}function gN(e,t,n){hk()}function vN(e){e.preventDefault()}var yN=function(e,t){return e===t},bN=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function wN(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var xN={mapped:{type:"SECONDARY",offset:JI,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wN(null)}};var EN=gI(function(){var e=function(){var e=LI(function(e,t){return{x:e,y:t}}),t=LI(function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=LI(function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}});return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=sC(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,m=p.mode,g=bN(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:qC,moveTo:r.newHomeClientOffset,opacity:v?GC.drop:null,scale:v?HC.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,h,g,v,y)}}}return null}}(),t=function(){var e=LI(function(e,t){return{x:e,y:t}}),t=LI(wN),n=LI(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(JI,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=ET(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=nT(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||xN}},{dropAnimationFinished:zC},null,{context:ik,pure:!0,areStatePropsEqual:yN})(function(e){var t=(0,i.useRef)(null),n=wI(function(e){t.current=e},[]),r=wI(function(){return t.current},[]),o=nN(uk),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=nN(lN),u=c.type,d=c.droppableId,h=bI(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;gN(),dk(),y||mN(bI(function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}},[h,l,r,v,g,m]));var x=bI(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:vN}:null},[a,s,p,m]),E=wI(function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()},[w,b]),S=bI(function(){var e=pN(b),t="DRAGGING"===b.type&&b.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:x}},[a,x,p,b,E,n]),I=bI(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return f(S,b.snapshot,I)});function SN(e){return nN(lN).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(EN,e):null}function IN(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(SN,SS({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var TN=function(e,t){return e===t.droppable.type},CN=function(e,t){return t.draggables[e.draggable.id]};var _N={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||zI(!1),document.body}},kN=gI(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=SS({},e,{shouldAnimatePlaceholder:!1}),n=LI(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=LI(function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!TN(a,c))return t;var u=CN(c,n.dimensions),d=sC(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!TN(a,h.critical))return t;var f=CN(h.critical,n.dimensions);return r(o,s,bN(h.result)===o,sC(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!TN(a,p.critical))return t;var m=sC(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:ik,pure:!0,areStatePropsEqual:yN})(function(e){var t=(0,i.useContext)(uk);t||zI(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,w=wI(function(){return o.current},[]),x=wI(function(e){o.current=e},[]),E=(wI(function(){return a.current},[]),wI(function(e){a.current=e},[]));hk();var S=wI(function(){r()&&y({maxScroll:g_()})},[r,y]);!function(e){var t=(0,i.useRef)(null),n=nN(uk),r=ck("droppable"),o=n.registry,a=n.marshal,s=pk(e),l=bI(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=bI(function(){return LI(function(e,n){t.current||zI(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)})},[l.id,a]),d=wI(function(){var e=t.current;return e&&e.env.closestScrollable?$k(e.env.closestScrollable):JI},[]),h=wI(function(){var e=d();u(e.x,e.y)},[d,u]),f=bI(function(){return jI(h)},[h]),p=wI(function(){var e=t.current,n=rN(e);e&&n||zI(!1),e.scrollOptions.shouldPublishImmediately?h():f()},[f,h]),m=wI(function(e,r){t.current&&zI(!1);var i=s.current,o=i.getDroppableRef();o||zI(!1);var a=Xk(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=Jk({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Q_.contextId,n.contextId),d.addEventListener("scroll",p,tN(c.scrollOptions))),u},[n.contextId,l,p,s]),g=wI(function(){var e=t.current,n=rN(e);return e&&n||zI(!1),$k(n)},[]),v=wI(function(){var e=t.current;e||zI(!1);var n=rN(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Q_.contextId),n.removeEventListener("scroll",p,tN(e.scrollOptions)))},[p,f]),y=wI(function(e){var n=t.current;n||zI(!1);var r=rN(n);r||zI(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),b=bI(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}},[v,m,g,y]),w=bI(function(){return{uniqueId:r,descriptor:l,callbacks:b}},[b,l,r]);Y_(function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}},[b,l,v,w,a,o.droppable]),Y_(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Y_(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});var I=i.createElement(cN,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(sN,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:S})}),T=bI(function(){return{innerRef:x,placeholder:I,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}},[n,c,I,x]),C=v?v.dragging.draggableId:null,_=bI(function(){return{droppableId:c,type:u,isUsingCloneFor:C}},[c,C,u]);return i.createElement(lN.Provider,{value:_},l(T,g),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i.createElement(SN,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return s.createPortal(n,b())}())});kN.defaultProps=_N;const NN=e=>{switch(e){case"text":return"\ud83d\udcdd";case"email":return"\ud83d\udce7";case"phone":return"\ud83d\udcde";case"select":return"\ud83d\udccb";case"radio":return"\ud83d\udd18";case"checkbox":return"\u2611\ufe0f";case"textarea":return"\ud83d\udcc4";case"date":return"\ud83d\udcc5";case"file":return"\ud83d\udcce";default:return"\u2753"}},AN=e=>{let{blocks:t,questions:n,media:r}=e;const[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(0),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(!1);if(0===t.length)return(0,dS.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No blocks to preview."});const f=t[o]||t[0],p=n.filter(e=>e.blockId===(null===f||void 0===f?void 0:f.id))||[],m=p[s]||p[0];if(!f||!m)return(0,dS.jsx)("div",{className:"p-8 text-center text-error",children:"Form preview data is missing or invalid."});const g=e=>{const n=(e=>{if(!m)return s+1;if(m.conditionalLogic&&e){const t=m.conditionalLogic.find(t=>t.option===e);if(t&&t.targetBlockId){const e=p.findIndex(e=>e.id===t.targetBlockId);if(-1!==e)return e}}return s+1})(e);n<p.length?l(n):o<t.length-1&&(a(o+1),l(0))};if(d)return(0,dS.jsxs)("div",{className:"text-center py-12",children:[(0,dS.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Thank you for your submission!"}),(0,dS.jsx)("p",{className:"text-gray-700",children:"We have received your response."})]});const v=o===t.length-1,y=s===p.length-1;return(0,dS.jsxs)("div",{className:"p-6 max-w-lg mx-auto w-full",children:[r.url&&(0,dS.jsxs)("div",{className:"w-full relative flex justify-center items-center mb-6 overflow-hidden",style:"image"===r.type?{minHeight:"200px",backgroundImage:"url(".concat(r.url,")"),backgroundSize:"cover",backgroundPosition:"center"}:{minHeight:"200px"},children:["video"===r.type&&(0,dS.jsx)("video",{src:r.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0"}),"embed"===r.type&&(0,dS.jsx)("iframe",{src:r.url,title:"Embedded Media",className:"absolute inset-0 w-full h-full object-cover z-0",allowFullScreen:!0}),(0,dS.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center z-10 text-white text-center px-4",children:[r.primaryText&&(0,dS.jsx)("div",{className:"font-bold text-2xl md:text-3xl drop-shadow-lg mb-2",children:r.primaryText}),r.secondaryText&&(0,dS.jsx)("div",{className:"text-base md:text-lg drop-shadow-md opacity-90",children:r.secondaryText})]}),"image"===r.type&&(0,dS.jsx)("img",{src:r.url,alt:"Form Media",className:"invisible w-full h-full object-cover absolute inset-0"})]}),(0,dS.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:f.title}),(0,dS.jsxs)("div",{className:"mb-6",children:[(0,dS.jsxs)("div",{className:"mb-2 text-lg font-medium",children:[m.label," ",m.required&&(0,dS.jsx)("span",{className:"text-red-500",children:"*"})]}),m.helpText&&(0,dS.jsx)("div",{className:"mb-2 text-gray-500 text-sm",children:m.helpText}),(()=>{switch(m.type){case"text":case"email":case"phone":case"date":case"file":return(0,dS.jsx)("input",{type:"phone"===m.type?"tel":m.type,className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:c[m.id]||"",onChange:e=>u(t=>je(je({},t),{},{[m.id]:e.target.value})),disabled:!1});case"textarea":return(0,dS.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:c[m.id]||"",onChange:e=>u(t=>je(je({},t),{},{[m.id]:e.target.value})),rows:4,disabled:!1});case"select":return(0,dS.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:c[m.id]||"",onChange:e=>{u(t=>je(je({},t),{},{[m.id]:e.target.value}))},children:[(0,dS.jsx)("option",{value:"",children:"Select..."}),(m.options||[]).map((e,t)=>(0,dS.jsx)("option",{value:e,children:e},t))]});case"radio":return(0,dS.jsx)("div",{className:"space-y-2",children:(m.options||[]).map((e,t)=>(0,dS.jsxs)("label",{className:"flex items-center gap-2",children:[(0,dS.jsx)("input",{type:"radio",name:m.id,value:e,checked:c[m.id]===e,onChange:t=>u(t=>je(je({},t),{},{[m.id]:e}))}),(0,dS.jsx)("span",{children:e})]},t))});case"checkbox":return(0,dS.jsx)("div",{className:"space-y-2",children:(m.options||[]).map((e,t)=>(0,dS.jsxs)("label",{className:"flex items-center gap-2",children:[(0,dS.jsx)("input",{type:"checkbox",name:m.id,value:e,checked:Array.isArray(c[m.id])&&c[m.id].includes(e),onChange:t=>{u(n=>{const r=Array.isArray(n[m.id])?n[m.id]:[];return t.target.checked?je(je({},n),{},{[m.id]:[...r,e]}):je(je({},n),{},{[m.id]:r.filter(t=>t!==e)})})}}),(0,dS.jsx)("span",{children:e})]},t))});default:return null}})()]}),(0,dS.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,dS.jsx)("button",{onClick:()=>{if(s>0)l(s-1);else if(o>0){a(o-1);const e=n.filter(e=>{var n;return e.blockId===(null===(n=t[o-1])||void 0===n?void 0:n.id)})||[];l(Math.max(0,e.length-1))}},disabled:0===o&&0===s,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50",children:"Previous"}),v&&y?(0,dS.jsx)("button",{type:"button",className:"w-full ml-4 py-3 bg-blue-600 text-white rounded-lg font-bold text-lg hover:bg-blue-700 transition-colors",onClick:()=>h(!0),children:"Submit"}):["select","radio"].includes(m.type)?(0,dS.jsx)("button",{onClick:()=>g(c[m.id]),disabled:m.required&&!c[m.id],className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:"Next"}):(0,dS.jsx)("button",{onClick:()=>g(),disabled:m.required&&!c[m.id],className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:"Next"})]})]})},PN=e=>{let{lastSavedFormId:t}=e;const[n,r]=(0,i.useState)(!1),o=window.location.origin+"/share/form/"+(t||"12345");return(0,dS.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(o),r(!0),setTimeout(()=>r(!1),2e3)},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(n?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"),style:{position:"relative"},children:n?"Link Copied!":"Copy Shareable Link"})},DN=()=>{var e,t,n;const r=ne(),o=ee(),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!0),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)(!1),[E,S]=(0,i.useState)(!1),[I,T]=(0,i.useState)({type:"",url:"",primaryText:"",secondaryText:""}),[C,_]=(0,i.useState)(!1),[k,N]=(0,i.useState)(!1),[A,P]=(0,i.useState)(null),[D,R]=(0,i.useState)(!1),[O,L]=(0,i.useState)(null),[j,M]=(0,i.useState)((null===(e=a[0])||void 0===e?void 0:e.title)||"Untitled Form"),[F,B]=(0,i.useState)(!1),[V,U]=(0,i.useState)({formBgType:"solid",formBg:"#f9fafb",formGradientFrom:"#f9fafb",formGradientTo:"#e0e7ef",formGradientDir:"to right",blockBgType:"solid",blockBg:"#ffffff",blockGradientFrom:"#ffffff",blockGradientTo:"#f3f4f6",blockGradientDir:"to bottom",fontColor:"#1f2937"}),[z,q]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=new URLSearchParams(o.search).get("edit");e&&(R(!0),L(e),G(e))},[o.search]);const G=e=>{const t=JSON.parse(localStorage.getItem("forms")||"[]").find(t=>t.id===e);t&&(s(t.blocks||[]),c(t.questions||[]),T(t.media||{type:"",url:"",primaryText:"",secondaryText:""}),d(!1),P(e))};(0,i.useEffect)(()=>{(a.length>0||l.length>0)&&(localStorage.setItem("formbuilder_draft_blocks",JSON.stringify(a)),localStorage.setItem("formbuilder_draft_questions",JSON.stringify(l)),S(!0))},[a,l]),(0,i.useEffect)(()=>{if(!D){const e=localStorage.getItem("formbuilder_draft_blocks"),t=localStorage.getItem("formbuilder_draft_questions");(e&&JSON.parse(e).length>0||t&&JSON.parse(t).length>0)&&b(!0)}},[D]);const H=()=>{var e;const t=JSON.parse(localStorage.getItem("forms")||"[]"),n=j||(null===(e=a[0])||void 0===e?void 0:e.title)||"Untitled Form";if(D&&O){const e=t.findIndex(e=>e.id===O);-1!==e&&(t[e]=je(je({},t[e]),{},{title:n,blocks:a,questions:l,media:I,updatedAt:(new Date).toISOString()}),localStorage.setItem("forms",JSON.stringify(t)),P(O))}else{const e="form_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),r={id:e,title:n,blocks:a,questions:l,media:I,createdAt:(new Date).toISOString()};t.push(r),localStorage.setItem("forms",JSON.stringify(t)),P(e)}localStorage.removeItem("formbuilder_draft_blocks"),localStorage.removeItem("formbuilder_draft_questions"),S(!1),localStorage.setItem("dashboard_reload",Date.now().toString()),r("/dashboard"),q(!0)},W=()=>{const e={id:"block-".concat(Date.now()),title:"New Question Block",isEditing:!0};s([...a,e]),d(!1)};(0,i.useEffect)(()=>{const e=localStorage.getItem("formbuilder_draft_blocks"),t=localStorage.getItem("formbuilder_draft_questions");if(!e&&!t&&0===a.length&&0===l.length){const e="block-".concat(Date.now());s([{id:e,title:"Contact Information",isEditing:!1}]),c([{id:"question-".concat(Date.now(),"-1"),type:"text",label:"Name",helpText:"",required:!0,isEditing:!1,blockId:e,options:[],conditionalLogic:[]},{id:"question-".concat(Date.now(),"-2"),type:"email",label:"Email",helpText:"",required:!0,isEditing:!1,blockId:e,options:[],conditionalLogic:[]},{id:"question-".concat(Date.now(),"-3"),type:"phone",label:"Phone Number",helpText:"",required:!0,isEditing:!1,blockId:e,options:[],conditionalLogic:[]}])}},[]);return(0,i.useEffect)(()=>{E&&q(!1)},[a,l,I,E]),(0,dS.jsxs)("div",{className:"min-h-screen bg-background p-4 font-sans",children:[(0,dS.jsx)("div",{className:"mb-6 flex items-center",children:(0,dS.jsxs)("button",{onClick:()=>{E&&(a.length>0||l.length>0)?x(!0):r("/dashboard")},className:"flex items-center gap-2 px-4 py-2 bg-panel text-primary rounded-xl shadow hover:bg-secondary/10 transition-colors font-semibold border border-border",children:[(0,dS.jsx)("span",{className:"text-lg",children:"\u2190"})," Dashboard"]})}),u&&(0,dS.jsxs)("div",{className:"max-w-2xl mx-auto bg-panel rounded-3xl shadow-2xl p-10 text-center border border-border",children:[(0,dS.jsx)("h1",{className:"text-4xl font-extrabold text-heading mb-6 tracking-tight",children:"Welcome to Form Builder"}),(0,dS.jsx)("p",{className:"text-body mb-8 text-lg",children:"Start building your form by adding a question block."}),(0,dS.jsx)("button",{onClick:W,className:"bg-primary text-white px-6 py-3 rounded-xl font-bold text-lg shadow hover:bg-primary/90 transition-colors",children:"Add Question Block"})]}),!u&&(0,dS.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,dS.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[(0,dS.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[(0,dS.jsx)("label",{className:"text-lg font-semibold text-heading",htmlFor:"form-name-input",children:"Form Name"}),(0,dS.jsx)("input",{id:"form-name-input",type:"text",value:j,onChange:e=>M(e.target.value),className:"w-full sm:w-80 px-4 py-2 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none font-bold text-lg",placeholder:"Enter form name"})]}),(0,dS.jsx)("button",{onClick:W,className:"bg-primary text-white px-6 py-3 rounded-xl font-bold text-lg shadow hover:bg-primary/90 transition-colors mt-4 sm:mt-0",children:"Add Question Block"})]}),(0,dS.jsx)("div",{className:"flex justify-end mb-4",children:(0,dS.jsxs)("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-full font-semibold shadow hover:bg-primary/90 transition-all text-base focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",style:{letterSpacing:"0.02em"},children:[(0,dS.jsx)("span",{role:"img","aria-label":"palette",children:"\ud83c\udfa8"})," Customize Form Style"]})}),(0,dS.jsx)(qk,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(a),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),s(t)},children:(0,dS.jsx)(kN,{droppableId:"blocks-droppable",children:e=>(0,dS.jsxs)("div",je(je({style:{background:"gradient"===V.formBgType?"linear-gradient(".concat(V.formGradientDir,", ").concat(V.formGradientFrom,", ").concat(V.formGradientTo,")"):V.formBg,color:V.fontColor,borderRadius:"1.5rem",padding:"1rem"},className:"space-y-10"},e.droppableProps),{},{ref:e.innerRef,children:[a.map((e,t)=>(0,dS.jsx)(IN,{draggableId:e.id,index:t,children:(t,n)=>(0,dS.jsxs)("div",je(je({ref:t.innerRef},t.draggableProps),{},{className:"bg-white rounded-3xl shadow-xl p-8 border border-border mb-8 transition-shadow ".concat(n.isDragging?"shadow-2xl":""),style:{background:"gradient"===V.blockBgType?"linear-gradient(".concat(V.blockGradientDir,", ").concat(V.blockGradientFrom,", ").concat(V.blockGradientTo,")"):V.blockBg},children:[(0,dS.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[(0,dS.jsx)("span",je(je({},t.dragHandleProps),{},{className:"cursor-grab mr-2 text-gray-400 hover:text-gray-700 flex items-center",title:"Drag to reorder",children:"\u2630"})),e.isEditing?(0,dS.jsx)("input",{type:"text",value:e.title,onChange:t=>s(a.map(n=>n.id===e.id?je(je({},n),{},{title:t.target.value}):n)),className:"w-full sm:w-auto text-2xl font-bold px-4 py-2 border border-border rounded-lg bg-background text-body focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Block Title"}):(0,dS.jsx)("h2",{className:"text-2xl font-bold text-heading",children:e.title}),(0,dS.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:e.isEditing?(0,dS.jsxs)(dS.Fragment,{children:[(0,dS.jsx)("button",{onClick:()=>{return t=e.id,s(a.map(e=>e.id===t?je(je({},e),{},{isEditing:!1}):e)),void c(l.map(e=>e.blockId===t?je(je({},e),{},{isEditing:!1}):e));var t},className:"w-full sm:w-auto px-5 py-2 bg-green-600 text-white rounded-xl shadow hover:bg-green-700 font-semibold",children:"Save Block"}),(0,dS.jsx)("button",{onClick:()=>(e=>{const t={id:"question-".concat(Date.now()),type:"text",label:"New Question",helpText:"",required:!1,isEditing:!0,blockId:e,options:[],conditionalLogic:[]};c([...l,t])})(e.id),className:"w-full sm:w-auto px-5 py-2 bg-blue-600 text-white rounded-xl shadow hover:bg-blue-700 font-semibold",children:"Add Question"})]}):(0,dS.jsxs)(dS.Fragment,{children:[(0,dS.jsx)("button",{onClick:()=>s(a.map(t=>t.id===e.id?je(je({},t),{},{isEditing:!0}):t)),className:"w-full sm:w-auto px-5 py-2 bg-blue-100 text-blue-700 rounded-xl shadow hover:bg-blue-200 font-semibold",children:"Edit Block"}),(0,dS.jsx)("button",{onClick:()=>{s(a.filter(t=>t.id!==e.id)),c(l.filter(t=>t.blockId!==e.id))},className:"w-full sm:w-auto px-5 py-2 bg-red-100 text-red-700 rounded-xl shadow hover:bg-red-200 font-semibold",children:"Delete Block"})]})})]}),(0,dS.jsx)("div",{className:"space-y-6",children:l.filter(t=>t.blockId===e.id).map(t=>{var n,r;return(0,dS.jsx)("div",{className:"border border-border rounded-2xl p-6 bg-blue-50/50 shadow-sm",children:t.isEditing?(0,dS.jsxs)("div",{className:"space-y-4",children:[(0,dS.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,dS.jsx)("span",{className:"text-2xl",children:NN(t.type)}),(0,dS.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Edit Question"})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),(0,dS.jsxs)("select",{value:t.type,onChange:e=>c(l.map(n=>n.id===t.id?je(je({},n),{},{type:e.target.value}):n)),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[(0,dS.jsx)("option",{value:"text",children:"\ud83d\udcdd Text Input"}),(0,dS.jsx)("option",{value:"email",children:"\ud83d\udce7 Email"}),(0,dS.jsx)("option",{value:"phone",children:"\ud83d\udcde Phone"}),(0,dS.jsx)("option",{value:"select",children:"\ud83d\udccb Dropdown"}),(0,dS.jsx)("option",{value:"radio",children:"\ud83d\udd18 Multiple Choice"}),(0,dS.jsx)("option",{value:"checkbox",children:"\u2611\ufe0f Checkboxes"}),(0,dS.jsx)("option",{value:"textarea",children:"\ud83d\udcc4 Long Text"}),(0,dS.jsx)("option",{value:"date",children:"\ud83d\udcc5 Date"}),(0,dS.jsx)("option",{value:"file",children:"\ud83d\udcce File Upload"})]})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Label"}),(0,dS.jsx)("input",{type:"text",value:t.label,onChange:e=>c(l.map(n=>n.id===t.id?je(je({},n),{},{label:e.target.value}):n)),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Enter your question..."})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Help Text (Optional)"}),(0,dS.jsx)("input",{type:"text",value:t.helpText||"",onChange:e=>c(l.map(n=>n.id===t.id?je(je({},n),{},{helpText:e.target.value}):n)),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Add helpful text for users..."})]}),(0,dS.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,dS.jsx)("input",{type:"checkbox",checked:t.required,onChange:e=>c(l.map(n=>n.id===t.id?je(je({},n),{},{required:e.target.checked}):n)),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,dS.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),["select","radio","checkbox"].includes(t.type)&&(0,dS.jsxs)("div",{className:"space-y-3",children:[(0,dS.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Options"}),null===(n=t.options)||void 0===n?void 0:n.map((n,r)=>(0,dS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dS.jsx)("input",{type:"text",value:n,onChange:e=>{const n=[...t.options||[]];n[r]=e.target.value,c(l.map(e=>e.id===t.id?je(je({},e),{},{options:n}):e))},className:"w-full px-3 py-1 border rounded",placeholder:"Option ".concat(r+1)}),(0,dS.jsx)("button",{onClick:()=>{const e=(t.options||[]).filter((e,t)=>t!==r);c(l.map(n=>n.id===t.id?je(je({},n),{},{options:e}):n))},className:"text-red-500 hover:text-red-700",children:"\ud83d\uddd1\ufe0f"}),(0,dS.jsx)("button",{onClick:()=>{var i;f({questionId:t.id,optionIndex:r,blockId:e.id});const o=null===(i=t.conditionalLogic)||void 0===i?void 0:i.find(e=>e.option===n);m((null===o||void 0===o?void 0:o.targetBlockId)||"")},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-xs",children:"Add Logic"})]},r)),(0,dS.jsx)("button",{onClick:()=>{const e=[...t.options||[],""];c(l.map(n=>n.id===t.id?je(je({},n),{},{options:e}):n))},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Option"})]})]}):(0,dS.jsxs)("div",{children:[(0,dS.jsxs)("div",{className:"flex justify-between items-start",children:[(0,dS.jsxs)("div",{className:"flex-1",children:[(0,dS.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,dS.jsx)("span",{className:"text-2xl",children:NN(t.type)}),(0,dS.jsx)("span",{className:"text-xs text-muted uppercase tracking-wide font-medium bg-background px-3 py-1 rounded-full font-medium",children:t.type})]}),(0,dS.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:t.label}),t.helpText&&(0,dS.jsxs)("p",{className:"text-sm text-gray-600 mt-2 italic",children:["\ud83d\udca1 ",t.helpText]}),t.required&&(0,dS.jsx)("span",{className:"inline-flex items-center gap-1 bg-red-100 text-red-800 text-xs px-3 py-1 rounded-full font-medium mt-2",children:"\u26a0\ufe0f Required"})]}),(0,dS.jsxs)("div",{className:"flex gap-2",children:[(0,dS.jsx)("button",{onClick:()=>c(l.map(e=>e.id===t.id?je(je({},e),{},{isEditing:!0}):e)),className:"px-3 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium",children:"\u270f\ufe0f Edit"}),(0,dS.jsx)("button",{onClick:()=>c(l.filter(e=>e.id!==t.id)),className:"px-3 py-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:"\ud83d\uddd1\ufe0f Delete"})]})]}),("select"===t.type||"radio"===t.type||"checkbox"===t.type)&&(0,dS.jsx)("div",{className:"mt-4 space-y-2",children:null===(r=t.options)||void 0===r?void 0:r.map((e,t)=>(0,dS.jsx)("div",{className:"flex items-center gap-2",children:(0,dS.jsx)("span",{className:"text-gray-600",children:e})},t))})]})},t.id)})}),(0,dS.jsx)("div",{className:"flex justify-end mt-6",children:(0,dS.jsxs)("button",{onClick:W,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-full text-sm font-semibold shadow hover:bg-primary/90 transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[(0,dS.jsx)("span",{className:"text-lg",children:"\uff0b"})," Add Question Block"]})})]}))},e.id)),e.placeholder]}))})}),(0,dS.jsx)("div",{className:"mt-8 flex justify-center",children:(0,dS.jsx)("button",{onClick:()=>{H(),_(!0)},className:"px-8 py-3 rounded-xl shadow-lg text-lg font-bold transition-colors w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ".concat(z?"bg-green-600 text-white hover:bg-green-700":"bg-primary text-white hover:bg-primary/90"),disabled:z,children:z?"Form Saved!":"\ud83d\udcbe Save Form"})}),h&&(0,dS.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,dS.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md",children:[(0,dS.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add Logic"}),(0,dS.jsx)("p",{className:"text-gray-600 mb-1",children:"When this option is selected..."}),(0,dS.jsx)("p",{className:"font-medium text-gray-800 mb-4",children:'"'.concat(null===(t=l.find(e=>e.id===h.questionId))||void 0===t||null===(n=t.options)||void 0===n?void 0:n[h.optionIndex],'"')}),(0,dS.jsx)("label",{htmlFor:"target-block",className:"block text-sm font-medium text-gray-700 mb-2",children:"Go to this block:"}),(0,dS.jsxs)("select",{id:"target-block",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border rounded-lg bg-gray-50",children:[(0,dS.jsx)("option",{value:"",children:"-- Select Next Block --"}),a.filter(e=>e.id!==h.blockId).map(e=>(0,dS.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,dS.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,dS.jsx)("button",{onClick:()=>f(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,dS.jsx)("button",{onClick:()=>{const e=l.find(e=>e.id===h.questionId);if(e&&e.options){const t=e.options[h.optionIndex];let n=e.conditionalLogic||[];n=n.filter(e=>e.option!==t),p&&n.push({option:t,targetBlockId:p}),c(l.map(e=>e.id===h.questionId?je(je({},e),{},{conditionalLogic:n}):e))}f(null),m("")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Logic"})]})]})}),g&&(0,dS.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:(0,dS.jsxs)("div",{className:"bg-white w-full h-full sm:w-[600px] sm:h-auto sm:rounded-2xl shadow-xl flex flex-col relative animate-fadein overflow-y-auto",children:[(0,dS.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl z-10",onClick:()=>v(!1),"aria-label":"Close Preview",children:"\xd7"}),(0,dS.jsx)(AN,{blocks:a,questions:l,media:I})]})}),y&&(0,dS.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,dS.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-auto shadow-lg",children:[(0,dS.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Restore Unsaved Form?"}),(0,dS.jsx)("p",{className:"mb-4 text-gray-700",children:"A draft form was found. Would you like to restore it?"}),(0,dS.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,dS.jsx)("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700",onClick:()=>{localStorage.removeItem("formbuilder_draft_blocks"),localStorage.removeItem("formbuilder_draft_questions"),b(!1)},children:"Discard"}),(0,dS.jsx)("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-bold",onClick:()=>{const e=localStorage.getItem("formbuilder_draft_blocks"),t=localStorage.getItem("formbuilder_draft_questions");e&&s(JSON.parse(e)),t&&c(JSON.parse(t)),b(!1)},children:"Restore"})]})]})}),w&&(0,dS.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,dS.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-auto shadow-lg",children:[(0,dS.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Leave Form Builder?"}),(0,dS.jsx)("p",{className:"mb-4 text-gray-700",children:"Do you want to save your form before leaving?"}),(0,dS.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,dS.jsx)("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700",onClick:()=>x(!1),children:"Cancel"}),(0,dS.jsx)("button",{className:"px-4 py-2 rounded bg-red-600 text-white font-bold",onClick:()=>{localStorage.removeItem("formbuilder_draft_blocks"),localStorage.removeItem("formbuilder_draft_questions"),S(!1),r("/dashboard")},children:"Discard & Go"}),(0,dS.jsx)("button",{className:"px-4 py-2 rounded bg-green-600 text-white font-bold",onClick:H,children:"Save & Go"})]})]})}),C&&(0,dS.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,dS.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md text-center",children:[(0,dS.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Form Saved!"}),(0,dS.jsx)("p",{className:"mb-6",children:"What would you like to do next?"}),(0,dS.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,dS.jsx)("button",{onClick:()=>{v(!0),_(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Preview Form"}),(0,dS.jsx)(PN,{lastSavedFormId:A}),(0,dS.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Close"})]})]})}),F&&(0,dS.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,dS.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity animate-fadein"}),(0,dS.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl p-8 w-full max-w-lg mx-auto animate-fadein-up border border-border",children:[(0,dS.jsx)("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl focus:outline-none",onClick:()=>B(!1),"aria-label":"Close",children:"\xd7"}),(0,dS.jsx)("h2",{className:"text-2xl font-extrabold mb-6 text-center text-primary tracking-tight",children:"Customize Form Style"}),(0,dS.jsxs)("div",{className:"space-y-8",children:[(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h3",{className:"font-bold text-lg mb-2 text-heading",children:"Form Background"}),(0,dS.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,dS.jsx)("button",{type:"button",className:"px-4 py-1.5 rounded-full font-medium border ".concat("solid"===V.formBgType?"bg-primary text-white border-primary":"bg-gray-100 text-gray-700 border-gray-200"),onClick:()=>U(e=>je(je({},e),{},{formBgType:"solid"})),children:"Solid"}),(0,dS.jsx)("button",{type:"button",className:"px-4 py-1.5 rounded-full font-medium border ".concat("gradient"===V.formBgType?"bg-primary text-white border-primary":"bg-gray-100 text-gray-700 border-gray-200"),onClick:()=>U(e=>je(je({},e),{},{formBgType:"gradient"})),children:"Gradient"})]}),"solid"===V.formBgType?(0,dS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dS.jsx)("input",{type:"color",value:V.formBg,onChange:e=>U(t=>je(je({},t),{},{formBg:e.target.value})),className:"w-10 h-10 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{className:"text-sm text-muted",children:"Preview"}),(0,dS.jsx)("span",{className:"inline-block w-8 h-8 rounded-full border border-border",style:{background:V.formBg}})]}):(0,dS.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,dS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dS.jsx)("span",{children:"From"}),(0,dS.jsx)("input",{type:"color",value:V.formGradientFrom,onChange:e=>U(t=>je(je({},t),{},{formGradientFrom:e.target.value})),className:"w-8 h-8 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{children:"To"}),(0,dS.jsx)("input",{type:"color",value:V.formGradientTo,onChange:e=>U(t=>je(je({},t),{},{formGradientTo:e.target.value})),className:"w-8 h-8 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{className:"text-sm text-muted",children:"Preview"}),(0,dS.jsx)("span",{className:"inline-block w-16 h-8 rounded-full border border-border",style:{background:"linear-gradient(".concat(V.formGradientDir,", ").concat(V.formGradientFrom,", ").concat(V.formGradientTo,")")}})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Direction"}),(0,dS.jsxs)("select",{value:V.formGradientDir,onChange:e=>U(t=>je(je({},t),{},{formGradientDir:e.target.value})),className:"w-full border rounded p-2",children:[(0,dS.jsx)("option",{value:"to right",children:"Left \u2192 Right"}),(0,dS.jsx)("option",{value:"to left",children:"Right \u2192 Left"}),(0,dS.jsx)("option",{value:"to bottom",children:"Top \u2192 Bottom"}),(0,dS.jsx)("option",{value:"to top",children:"Bottom \u2192 Top"}),(0,dS.jsx)("option",{value:"135deg",children:"Diagonal"})]})]})]})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h3",{className:"font-bold text-lg mb-2 text-heading",children:"Block Background"}),(0,dS.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,dS.jsx)("button",{type:"button",className:"px-4 py-1.5 rounded-full font-medium border ".concat("solid"===V.blockBgType?"bg-primary text-white border-primary":"bg-gray-100 text-gray-700 border-gray-200"),onClick:()=>U(e=>je(je({},e),{},{blockBgType:"solid"})),children:"Solid"}),(0,dS.jsx)("button",{type:"button",className:"px-4 py-1.5 rounded-full font-medium border ".concat("gradient"===V.blockBgType?"bg-primary text-white border-primary":"bg-gray-100 text-gray-700 border-gray-200"),onClick:()=>U(e=>je(je({},e),{},{blockBgType:"gradient"})),children:"Gradient"})]}),"solid"===V.blockBgType?(0,dS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dS.jsx)("input",{type:"color",value:V.blockBg,onChange:e=>U(t=>je(je({},t),{},{blockBg:e.target.value})),className:"w-10 h-10 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{className:"text-sm text-muted",children:"Preview"}),(0,dS.jsx)("span",{className:"inline-block w-8 h-8 rounded-full border border-border",style:{background:V.blockBg}})]}):(0,dS.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,dS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dS.jsx)("span",{children:"From"}),(0,dS.jsx)("input",{type:"color",value:V.blockGradientFrom,onChange:e=>U(t=>je(je({},t),{},{blockGradientFrom:e.target.value})),className:"w-8 h-8 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{children:"To"}),(0,dS.jsx)("input",{type:"color",value:V.blockGradientTo,onChange:e=>U(t=>je(je({},t),{},{blockGradientTo:e.target.value})),className:"w-8 h-8 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{className:"text-sm text-muted",children:"Preview"}),(0,dS.jsx)("span",{className:"inline-block w-16 h-8 rounded-full border border-border",style:{background:"linear-gradient(".concat(V.blockGradientDir,", ").concat(V.blockGradientFrom,", ").concat(V.blockGradientTo,")")}})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Direction"}),(0,dS.jsxs)("select",{value:V.blockGradientDir,onChange:e=>U(t=>je(je({},t),{},{blockGradientDir:e.target.value})),className:"w-full border rounded p-2",children:[(0,dS.jsx)("option",{value:"to right",children:"Left \u2192 Right"}),(0,dS.jsx)("option",{value:"to left",children:"Right \u2192 Left"}),(0,dS.jsx)("option",{value:"to bottom",children:"Top \u2192 Bottom"}),(0,dS.jsx)("option",{value:"to top",children:"Bottom \u2192 Top"}),(0,dS.jsx)("option",{value:"135deg",children:"Diagonal"})]})]})]})]}),(0,dS.jsxs)("div",{children:[(0,dS.jsx)("h3",{className:"font-bold text-lg mb-2 text-heading",children:"Font Color"}),(0,dS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dS.jsx)("input",{type:"color",value:V.fontColor,onChange:e=>U(t=>je(je({},t),{},{fontColor:e.target.value})),className:"w-10 h-10 rounded-full border-2 border-border shadow"}),(0,dS.jsx)("span",{className:"text-sm text-muted",children:"Preview"}),(0,dS.jsx)("span",{className:"inline-block w-8 h-8 rounded-full border border-border",style:{background:V.fontColor}})]})]})]}),(0,dS.jsx)("div",{className:"mt-8 flex justify-end",children:(0,dS.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-2.5 bg-primary text-white rounded-full font-bold shadow hover:bg-primary/90 transition-all text-base",children:"Done"})})]})]})]})]})};const RN=(()=>{let e=0;return()=>(e+=1,"u".concat("0000".concat((Math.random()*36**4|0).toString(36)).slice(-4)).concat(e))})();function ON(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let LN=null;function jN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return LN||(e.includeStyleProperties?(LN=e.includeStyleProperties,LN):(LN=ON(window.getComputedStyle(document.documentElement)),LN))}function MN(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function FN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{width:t.width||function(e){const t=MN(e,"border-left-width"),n=MN(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=MN(e,"border-top-width"),n=MN(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}const BN=16384;function VN(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function UN(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width","".concat(t)),i.setAttribute("height","".concat(n)),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),async function(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>"data:image/svg+xml;charset=utf-8,".concat(e))}(i)}const zN=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||zN(n,t))};function qN(e,t,n,r){const i=".".concat(e,":").concat(t),o=n.cssText?function(e){const t=e.getPropertyValue("content");return"".concat(e.cssText," content: '").concat(t.replace(/'|"/g,""),"';")}(n):function(e,t){return jN(t).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return"".concat(t,": ").concat(n).concat(r?" !important":"",";")}).join(" ")}(n,r);return document.createTextNode("".concat(i,"{").concat(o,"}"))}function GN(e,t,n,r){const i=window.getComputedStyle(e,n),o=i.getPropertyValue("content");if(""===o||"none"===o)return;const a=RN();try{t.className="".concat(t.className," ").concat(a)}catch(l){return}const s=document.createElement("style");s.appendChild(qN(a,n,i,r)),t.appendChild(s)}const HN="application/font-woff",WN="image/jpeg",KN={woff:HN,woff2:HN,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:WN,jpeg:WN,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function QN(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return KN[t]||""}function $N(e){return-1!==e.search(/^(data:)/)}function YN(e,t){return"data:".concat(t,";base64,").concat(e)}async function XN(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error('Resource "'.concat(r.url,'" not found'));const i=await r.blob();return new Promise((e,t)=>{const o=new FileReader;o.onerror=t,o.onloadend=()=>{try{e(n({res:r,result:o.result}))}catch(i){t(i)}},o.readAsDataURL(i)})}const JN={};async function ZN(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?"[".concat(t,"]").concat(r):r}(e,t,n.includeQueryParams);if(null!=JN[r])return JN[r];let i;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await XN(e,n.fetchRequestInit,e=>{let{res:n,result:r}=e;return t||(t=n.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(r)});i=YN(r,t)}catch(o){i=n.imagePlaceholder||"";let t="Failed to fetch resource: ".concat(e);o&&(t="string"===typeof o?o:o.message),t&&console.warn(t)}return JN[r]=i,i}async function eA(e,t){return zN(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):VN(t)}(e):zN(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null===n||void 0===n||n.drawImage(e,0,0,t.width,t.height),VN(t.toDataURL())}const n=e.poster,r=QN(n);return VN(await ZN(n,r,t))}(e,t):zN(e,HTMLIFrameElement)?async function(e,t){var n;try{if(null===(n=null===e||void 0===e?void 0:e.contentDocument)||void 0===n?void 0:n.body)return await iA(e.contentDocument.body,t,!0)}catch(r){}return e.cloneNode(!1)}(e,t):e.cloneNode(nA(e))}const tA=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase(),nA=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();function rA(e,t,n){return zN(t,Element)&&(function(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):jN(n).forEach(n=>{let o=i.getPropertyValue(n);if("font-size"===n&&o.endsWith("px")){const e=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1;o="".concat(e,"px")}zN(e,HTMLIFrameElement)&&"display"===n&&"inline"===o&&(o="block"),"d"===n&&t.getAttribute("d")&&(o="path(".concat(t.getAttribute("d"),")")),r.setProperty(n,o,i.getPropertyPriority(n))})}(e,t,n),function(e,t,n){GN(e,t,":before",n),GN(e,t,":after",n)}(e,t,n),function(e,t){zN(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),zN(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(zN(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(t=>e.value===t.getAttribute("value"));r&&r.setAttribute("selected","")}}(e,t)),t}async function iA(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>eA(e,t)).then(n=>async function(e,t,n){var r,i;if(nA(t))return t;let o=[];return o=tA(e)&&e.assignedNodes?ON(e.assignedNodes()):zN(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?ON(e.contentDocument.body.childNodes):ON((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes),0===o.length||zN(e,HTMLVideoElement)||await o.reduce((e,r)=>e.then(()=>iA(r,n)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}(e,n,t)).then(n=>rA(e,n,t)).then(e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await iA(o,t,!0))}}const i=Object.values(r);if(i.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<i.length;e++)r.appendChild(i[e]);e.appendChild(n)}return e}(e,t)):null}const oA=/url\((['"]?)([^'"]+?)\1\)/g,aA=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,sA=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function lA(e,t,n,r,i){try{const o=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}(t,n):t,a=QN(t);let s;if(i){s=YN(await i(o),a)}else s=await ZN(o,a,r);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp("(url\\(['\"]?)(".concat(t,")(['\"]?\\))"),"g")}(t),"$1".concat(s,"$3"))}catch(o){}return e}function cA(e){return-1!==e.search(oA)}async function uA(e,t,n){if(!cA(e))return e;const r=function(e,t){let{preferredFontFormat:n}=t;return n?e.replace(sA,e=>{for(;;){const[t,,r]=aA.exec(e)||[];if(!r)return"";if(r===n)return"src: ".concat(t,";")}}):e}(e,n),i=function(e){const t=[];return e.replace(oA,(e,n,r)=>(t.push(r),e)),t.filter(e=>!$N(e))}(r);return i.reduce((e,r)=>e.then(e=>lA(e,r,t,n)),Promise.resolve(r))}async function dA(e,t,n){var r;const i=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(i){const r=await uA(i,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function hA(e,t){zN(e,Element)&&(await async function(e,t){await dA("background",e,t)||await dA("background-image",e,t),await dA("mask",e,t)||await dA("-webkit-mask",e,t)||await dA("mask-image",e,t)||await dA("-webkit-mask-image",e,t)}(e,t),await async function(e,t){const n=zN(e,HTMLImageElement);if((!n||$N(e.src))&&(!zN(e,SVGImageElement)||$N(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await ZN(r,QN(r),t);await new Promise((r,o)=>{e.onload=r,e.onerror=t.onImageErrorHandler?function(){try{r(t.onImageErrorHandler(...arguments))}catch(e){o(e)}}:o;const a=e;a.decode&&(a.decode=r),"lazy"===a.loading&&(a.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}(e,t),await async function(e,t){const n=ON(e.childNodes).map(e=>hA(e,t));await Promise.all(n).then(()=>e)}(e,t))}const fA={};async function pA(e){let t=fA[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},fA[e]=t,t}async function mA(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),XN(o,t.fetchRequestInit,e=>{let{result:t}=e;return n=n.replace(i,"url(".concat(t,")")),[i,t]})});return Promise.all(i).then(()=>n)}function gA(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=i.exec(n);if(null===e){if(e=o.exec(n),null===e)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;t.push(e[0])}return t}async function vA(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=ON(e.ownerDocument.styleSheets),r=await async function(e,t){const n=[],r=[];return e.forEach(n=>{if("cssRules"in n)try{ON(n.cssRules||[]).forEach((e,i)=>{if(e.type===CSSRule.IMPORT_RULE){let o=i+1;const a=pA(e.href).then(e=>mA(e,t)).then(e=>gA(e).forEach(e=>{try{n.insertRule(e,e.startsWith("@import")?o+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(a)}})}catch(CA){const o=e.find(e=>null==e.href)||document.styleSheets[0];null!=n.href&&r.push(pA(n.href).then(e=>mA(e,t)).then(e=>gA(e).forEach(e=>{o.insertRule(e,o.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",CA)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{ON(e.cssRules||[]).forEach(e=>{n.push(e)})}catch(CA){console.error("Error while reading CSS rules from ".concat(e.href),CA)}}),n))}(n,t);return function(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>cA(e.style.getPropertyValue("src")))}(r)}function yA(e){return e.trim().replace(/["']/g,"")}async function bA(e,t){const n=await vA(e,t),r=function(e){const t=new Set;return function e(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(e=>{t.add(yA(e))}),Array.from(n.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),t}(e);return(await Promise.all(n.filter(e=>r.has(yA(e.style.fontFamily))).map(e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return uA(e.cssText,n,t)}))).join("\n")}async function wA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=FN(e,t),i=await iA(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await bA(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await hA(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width="".concat(t.width,"px")),t.height&&(n.height="".concat(t.height,"px"));const r=t.style;null!=r&&Object.keys(r).forEach(e=>{n[e]=r[e]})}(i,t);return await UN(i,n,r)}async function xA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=FN(e,t),i=await wA(e,t),o=await VN(i),a=document.createElement("canvas"),s=a.getContext("2d"),l=t.pixelRatio||function(){let e,t;try{t=process}catch(CA){}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),c=t.canvasWidth||n,u=t.canvasHeight||r;return a.width=c*l,a.height=u*l,t.skipAutoScale||function(e){(e.width>BN||e.height>BN)&&(e.width>BN&&e.height>BN?e.width>e.height?(e.height*=BN/e.width,e.width=BN):(e.width*=BN/e.height,e.height=BN):e.width>BN?(e.height*=BN/e.width,e.width=BN):(e.width*=BN/e.height,e.height=BN))}(a),a.style.width="".concat(c),a.style.height="".concat(u),t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(o,0,0,a.width,a.height),a}const EA=()=>{const{formId:e}=function(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,i.useState)(null),[r,o]=(0,i.useState)(!0),[a,s]=(0,i.useState)(0),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),{saveFormResponse:g}=fS(),v=i.useRef(null);(0,i.useEffect)(()=>{if(e){const t=JSON.parse(localStorage.getItem("forms")||"[]").find(t=>t.id===e);n(t)}o(!1)},[e]);const y=async()=>{if(v.current)try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await xA(e,t)).toDataURL()}(v.current),n=document.createElement("a");n.download="".concat((null===t||void 0===t?void 0:t.title)||"Form","-submission.png"),n.href=e,n.click()}catch(e){alert("Could not generate image.")}};if((0,i.useEffect)(()=>{h&&y()},[h]),r)return(0,dS.jsx)("div",{children:"Loading..."});if(!t)return(0,dS.jsx)("div",{children:"Form not found"});if(!t.blocks||!t.questions)return(0,dS.jsx)("div",{children:"Invalid form data"});const b=t.blocks,w=t.questions,x=t.media||{},E=b[a]||b[0],S=w.filter(e=>e.blockId===(null===E||void 0===E?void 0:E.id))||[],I=(S[l]||S[0],S.every(e=>{if(!e.required)return!0;const t=u[e.id];return"checkbox"===e.type?Array.isArray(t)&&t.length>0:t&&""!==t})),T=async()=>{m(!0);try{await g({formId:e,formTitle:t.title,formData:u});const n=localStorage.getItem("form_submissions"),r=n?JSON.parse(n):[];r.unshift({formId:e,formTitle:t.title,formData:u,submittedAt:(new Date).toISOString()}),localStorage.setItem("form_submissions",JSON.stringify(r)),f(!0)}catch(n){alert("Submission failed. Please try again.")}finally{m(!1)}};if(h)return(0,dS.jsxs)("div",{className:"text-center py-12",children:[(0,dS.jsx)("div",{style:{position:"absolute",left:"-9999px",top:0},children:(0,dS.jsxs)("div",{ref:v,className:"w-[370px] rounded-2xl shadow-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100 overflow-hidden font-sans",style:{fontFamily:"Inter, Arial, sans-serif"},children:[(0,dS.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 py-4 px-6 flex items-center gap-3",children:[(0,dS.jsx)("div",{className:"bg-white rounded-full p-2 shadow text-green-500",children:(0,dS.jsxs)("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:[(0,dS.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#22c55e"}),(0,dS.jsx)("path",{d:"M8 12.5l2.5 2.5L16 9.5",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,dS.jsx)("div",{className:"text-white text-xl font-bold flex-1 text-center",children:t.title||"Untitled Form"})]}),(0,dS.jsx)("div",{className:"p-6",children:(0,dS.jsx)("ul",{className:"space-y-4",children:Object.entries(u).map(e=>{let[t,n]=e;const r=w.find(e=>e.id===t);return r?(0,dS.jsxs)("li",{className:"flex items-start gap-3 border-b border-blue-100 pb-3 last:border-b-0",children:[(0,dS.jsx)("div",{className:"mt-1 text-blue-500",children:(0,dS.jsxs)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[(0,dS.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"#3b82f6"}),(0,dS.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"14",fill:"#fff",fontFamily:"Arial",children:"Q"})]})}),(0,dS.jsxs)("div",{className:"flex-1",children:[(0,dS.jsx)("div",{className:"font-semibold text-gray-800 text-base mb-1",children:r.label}),(0,dS.jsx)("div",{className:"text-gray-700 text-sm flex items-center gap-2",children:(0,dS.jsx)("span",{className:"inline-block bg-blue-100 text-blue-700 rounded px-2 py-1 font-medium",children:Array.isArray(n)?n.join(", "):n})})]})]},t):null})})}),(0,dS.jsx)("div",{className:"text-xs text-gray-400 text-center pb-3",children:"Generated by Adparlay"})]})}),(0,dS.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Thank you for your submission!"}),(0,dS.jsx)("p",{className:"text-gray-700",children:"We have received your response."}),(0,dS.jsx)("p",{className:"text-gray-500 mt-4",children:"A summary image of your submission has been downloaded."}),(0,dS.jsxs)("div",{className:"mt-10 flex flex-col items-center justify-center gap-4 bg-blue-50 rounded-xl p-6 max-w-md mx-auto shadow",children:[(0,dS.jsx)("div",{className:"text-lg font-semibold text-blue-900",children:"Want to create interactive forms that convert leads?"}),(0,dS.jsx)("div",{className:"text-blue-700 mb-2",children:"Start generating leads in a more engaging way!"}),(0,dS.jsx)("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-full font-bold shadow hover:bg-blue-700 transition-all text-lg",onClick:()=>window.location.href="/",children:"Start Generating Leads"})]})]});const C=a===b.length-1;S.length;return(0,dS.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[x.url&&(0,dS.jsxs)("div",{className:"fixed top-0 left-0 w-full z-20 flex justify-center items-center bg-black",style:{height:"40vh",minHeight:"220px",maxHeight:"60vh",background:"image"===x.type?"url(".concat(x.url,") center/cover no-repeat"):"#222"},children:["video"===x.type&&(0,dS.jsx)("video",{src:x.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0"}),"embed"===x.type&&(0,dS.jsx)("iframe",{src:x.url,title:"Embedded Media",className:"absolute inset-0 w-full h-full object-cover z-0",allowFullScreen:!0}),(0,dS.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center z-10 text-white text-center px-4 bg-black/30",children:[x.primaryText&&(0,dS.jsx)("div",{className:"font-bold text-2xl md:text-3xl drop-shadow-lg mb-2",children:x.primaryText}),x.secondaryText&&(0,dS.jsx)("div",{className:"text-base md:text-lg drop-shadow-md opacity-90",children:x.secondaryText})]}),"image"===x.type&&(0,dS.jsx)("img",{src:x.url,alt:"Form Media",className:"invisible w-full h-full object-cover absolute inset-0"})]}),(0,dS.jsx)("div",{className:"flex flex-col items-center justify-start pt-[44vh] pb-8 min-h-screen",children:(0,dS.jsxs)("div",{className:"p-6 max-w-lg w-full bg-white rounded-2xl shadow-xl mx-auto relative z-10",children:[(0,dS.jsx)("h1",{className:"text-2xl font-extrabold text-center mb-6",children:t.title||"Untitled Form"}),(0,dS.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:E.title}),(0,dS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e=S.find(e=>("radio"===e.type||"select"===e.type)&&u[e.id]);if(e){var t;const n=u[e.id],r=null===(t=e.conditionalLogic)||void 0===t?void 0:t.find(e=>e.option===n);if(r&&r.targetBlockId){const e=b.findIndex(e=>e.id===r.targetBlockId);if(-1!==e&&e<b.length)return s(e),void c(0)}}a<b.length-1?(s(a+1),c(0)):T()})()},children:[(0,dS.jsx)("div",{className:"mb-6 space-y-6",children:S.map(e=>(0,dS.jsxs)("div",{className:"mb-4",children:[(0,dS.jsxs)("div",{className:"mb-2 text-lg font-medium",children:[e.label," ",e.required&&(0,dS.jsx)("span",{className:"text-red-500",children:"*"})]}),e.helpText&&(0,dS.jsx)("div",{className:"mb-2 text-gray-500 text-sm",children:e.helpText}),(()=>{switch(e.type){case"text":case"email":case"phone":case"date":case"file":return(0,dS.jsx)("input",{type:"phone"===e.type?"tel":e.type,className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:u[e.id]||"",onChange:t=>d(n=>je(je({},n),{},{[e.id]:t.target.value})),disabled:!1});case"textarea":return(0,dS.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:u[e.id]||"",onChange:t=>d(n=>je(je({},n),{},{[e.id]:t.target.value})),rows:4,disabled:!1});case"select":return(0,dS.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg mb-2",value:u[e.id]||"",onChange:t=>{d(n=>je(je({},n),{},{[e.id]:t.target.value}))},children:[(0,dS.jsx)("option",{value:"",children:"Select..."}),(e.options||[]).map((e,t)=>(0,dS.jsx)("option",{value:e,children:e},t))]});case"radio":return(0,dS.jsx)("div",{className:"space-y-2",children:(e.options||[]).map((t,n)=>(0,dS.jsxs)("label",{className:"flex items-center gap-2",children:[(0,dS.jsx)("input",{type:"radio",name:e.id,value:t,checked:u[e.id]===t,onChange:n=>{d(n=>je(je({},n),{},{[e.id]:t}))}}),(0,dS.jsx)("span",{children:t})]},n))});case"checkbox":return(0,dS.jsx)("div",{className:"space-y-2",children:(e.options||[]).map((t,n)=>(0,dS.jsxs)("label",{className:"flex items-center gap-2",children:[(0,dS.jsx)("input",{type:"checkbox",name:e.id,value:t,checked:Array.isArray(u[e.id])&&u[e.id].includes(t),onChange:n=>{d(r=>{const i=Array.isArray(r[e.id])?r[e.id]:[];return n.target.checked?je(je({},r),{},{[e.id]:[...i,t]}):je(je({},r),{},{[e.id]:i.filter(e=>e!==t)})})}}),(0,dS.jsx)("span",{children:t})]},n))});default:return null}})()]},e.id))}),(0,dS.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,dS.jsx)("button",{type:"button",onClick:()=>{a>0&&s(a-1)},disabled:0===a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50",children:"Previous"}),(0,dS.jsx)("button",{type:"submit",className:"w-full ml-4 py-3 bg-blue-600 text-white rounded-lg font-bold text-lg hover:bg-blue-700 transition-colors",disabled:!I||p,children:C?p?"Submitting...":"Submit":"Next"})]})]})]})})]})},SA=(0,i.createContext)(void 0),IA=e=>{let{children:t}=e;const[n,r]=(0,i.useState)({name:"",email:"",phone:"",interest:"",option:"",plotSize:"",finalOption:""}),[o,a]=(0,i.useState)(1),[s,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(""),d={formData:n,currentStep:o,prevStep:s,plotSize:c,updateFormData:e=>{r(t=>je(je({},t),e))},nextStep:()=>{l(o),a(e=>e+1)},goToPrevStep:()=>{l(o),a(e=>e-1)},goToStep:e=>{l(o),a(e)},resetForm:()=>{r({name:"",email:"",phone:"",interest:"",option:"",plotSize:"",finalOption:""}),a(1),l(0),u("")}};return(0,dS.jsx)(SA.Provider,{value:d,children:t})},TA=()=>(0,dS.jsx)("div",{className:"App",children:(0,dS.jsx)(pS,{children:(0,dS.jsx)(IA,{children:(0,dS.jsx)(Ce,{children:(0,dS.jsxs)(we,{children:[(0,dS.jsx)(ye,{path:"/",element:(0,dS.jsx)(gS,{})}),(0,dS.jsx)(ye,{path:"/dashboard",element:(0,dS.jsx)(wS,{})}),(0,dS.jsx)(ye,{path:"/form-builder",element:(0,dS.jsx)(DN,{})}),(0,dS.jsx)(ye,{path:"/form-preview/:formId",element:(0,dS.jsx)(EA,{})}),(0,dS.jsx)(ye,{path:"/share/form/:formId",element:(0,dS.jsx)(EA,{})}),(0,dS.jsx)(ye,{path:"/admin/login",element:(0,dS.jsx)(vS,{})}),(0,dS.jsx)(ye,{path:"/admin/dashboard",element:(0,dS.jsx)(yS,{})}),(0,dS.jsx)(ye,{path:"/admin/settings",element:(0,dS.jsx)(bS,{})}),(0,dS.jsx)(ye,{path:"/Adparlaysaas",element:(0,dS.jsx)(ve,{to:"/",replace:!0})})]})})})})});a.createRoot(document.getElementById("root")).render((0,dS.jsx)(i.StrictMode,{children:(0,dS.jsx)(TA,{})}))})();
//# sourceMappingURL=main.888b5cb7.js.map